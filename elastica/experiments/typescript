Script started on Sat 23 Apr 2016 07:01:28 PM CEST
falvaresdeoliveira@flyon:~/elastica/experiments$ exits[K[K[K[K[Kcd sce[Kripts/
falvaresdeoliveira@flyon:~/elastica/experiments/scripts$ ls
bench.sh	 config_metrics.sh  gen_gnuplot.sh    hashtable.hsh
collect_data.sh  draw_curves.sh     getCloudState.sh  transform_log
falvaresdeoliveira@flyon:~/elastica/experiments/scripts$ vim [K[K[K[Kcd ../rubis_energy[Ky_ls/
results/ scripts/ 
falvaresdeoliveira@flyon:~/elastica/experiments/scripts$ cd ../rubis_energy_ls/scrip ts/
falvaresdeoliveira@flyon:~/elastica/experiments/rubis_energy_ls/scripts$ ls
bench.sh	   gen_gnuplot_energy.sh	 green_energy_availability.txt
calibration.sh	   gen_gnuplot.sh		 hashtable.hsh
collect_data.sh    getCloudState.sh		 transform_log
config_metrics.sh  get_energy_log.sh
draw_curves.sh	   green_energy_availability.sh
falvaresdeoliveira@flyon:~/elastica/experiments/rubis_energy_ls/scripts$ vim bench.shh 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"bench.sh" 243L, 7593C[>c[1;1H[96m#!/bin/bash

#PATTERNS_WORKLOAD="IncreasingWorkload WorkloadPeak" #name pattern[m

[1m[96mPATTERNS_WORKLOAD[m=[93m"[m[95mwikipedia[m[93m"[m

[96m#STRATEGIES="nothing horInfra_vertSoft onlyhorInfra onlyvertSoft"
#STRATEGIES="horInfra_vertSoft onlyhorInfra onlyvertSoft"[m
[1m[96mSTRATEGIES[m=[93m"[m[95monlyvertSoft[m[93m"
if ![m [93m[[m [93m-d[m /share [93m][m || [93m![m [93m[[m [93m-f[m /root/adminrc [93m]
then[12;9Hecho[m[95m [m[93m"[m[95mThis script must be executed on the Cloud controller[m[93m"[m[95m     [m[13;9H[93mexit[m [95m1[m
[93mfi


cd[m [38;5;81m$PROJECT_PATH[m

[93msource[m [38;5;81m$PROJECT_PATH[m/common/util.sh


[93mif ![m [93m[[m [93m-f[m [38;5;81m$G5K_USER_PATH[m [93m-a[m [93m-f[m [38;5;81m$G5K_PWD_PATH[m [93m]
then
[m    [93mecho[m[95m [m[93m"[m[95mError: Username or password not stored![m[93m"
[m    [93mexit[m [95m1[m
[93mfi[m

[96m#G5K_PWD=$(cat $G5K_PWD_PATH | base64 --decode)[m
[1m[96mG5K_USER[m=[38;5;81m$([m[38;5;224mcat [m[38;5;81m$G5K_USER_PATH)[m

[1m[96mPATH_RESULTS[m=[38;5;81m$PROJECT_PATH[m/experiments/rubis_energy_ls/results

[1m[96mNAME_BENCH[m=bench_[38;5;224m`date +%s`[m

[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[43;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[50;1H[1m[7mbench.sh                                                                     1,1 Top[1;1H[?12l[?25h[?25l[m[51;74H~@k[1;1H[51;74H   [2;1H[50;78H[1m[7m2,0 [2;1H[?12l[?25h[?25l[m[51;74H~@k[2;1H[51;74H   [1;1H[27m[23m[m[H[2J[6;1H[1m[96mname_tier[m=tier[11;1H[1m[96merase_plateforme () {[m[12;9H[93mfor[m name_vm [93min[m [38;5;224m`nova list | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut  [13;1H-d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[14;9H[93mdo[m[15;17Hnova delete [38;5;81m$name_vm[m[16;9H[93mdone[18;9Hif [[m [93m-e[m [38;5;81m$TIER_LIST_PATH[m/[38;5;81m$name_tier[m [93m][19;9Hthen[20;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_LIST_PATH[m/[38;5;81m$name_tier[m[21;9H[93mfi[22;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[23;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[24;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[25;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[32;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[33;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m  [34;1H-f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[35;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[36;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}


reset_plateforme () {[m[42;9Herase_plateforme[43;9Hinit_plateforme
[1m[96m}[m

ssh [38;5;224m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [38;5;81m$G5K_USER[m@frontend [93m"[m[95mmkdir -p ~/results[m[93m"

for[m pattern [93min[m [38;5;81m$PATTERNS_WORKLOAD[m
[93mdo[m
[1m[7mbench.sh                                                                    48,0 23%[1;1H[?12l[?25h[?25l[m[51;74H~@k[1;1H[51;74H   [2;1H[50;78H[1m[7m9,[2;1H[?12l[?25h[?25l[m[51;74H~@k[2;1H[51;74H   [3;1H[50;77H[1m[7m50,[3;1H[?12l[?25h[?25l[m[51;74H~@k[3;1H[51;74H   [4;1H[50;78H[1m[7m1,[4;1H[?12l[?25h[?25l[m[51;74H~@k[4;1H[51;74H   [5;1H[50;78H[1m[7m2,[5;1H[?12l[?25h[?25l[m[51;74H~@k[5;1H[51;74H   [6;1H[50;78H[1m[7m3,1 [6;1H[?12l[?25h[?25l[m[51;74H~@k[6;1H[51;74H   [7;1H[50;78H[1m[7m4,0 [7;1H[?12l[?25h[?25l[m[51;74H~@k[7;1H[51;74H   [8;1H[50;78H[1m[7m5,[8;1H[?12l[?25h[?25l[m[51;74H~@k[8;1H[51;74H   [9;1H[50;78H[1m[7m6,[9;1H[?12l[?25h[?25l[m[51;74H~@k[9;1H[51;74H   [10;1H[50;78H[1m[7m7,[10;1H[?12l[?25h[?25l[m[51;74H~@k[10;1H[51;74H   [11;1H[50;78H[1m[7m8,1 [11;1H[?12l[?25h[?25l[m[51;74H~@k[11;1H[51;74H   [12;8H[50;78H[1m[7m9,[12;8H[?12l[?25h[?25l[m[51;74H~@k[12;8H[51;74H   [14;8H[50;77H[1m[7m60,[14;8H[?12l[?25h[?25l[m[51;74H~@k[14;8H[51;74H   [15;8H[50;78H[1m[7m1,[15;8H[?12l[?25h[?25l[m[51;74H~@k[15;8H[51;74H   [16;8H[50;78H[1m[7m2,[16;8H[?12l[?25h[?25l[m[51;74H~@k[16;8H[51;74H   [17;8H[50;78H[1m[7m3,[17;8H[?12l[?25h[?25l[m[51;74H~@k[17;8H[51;74H   [18;1H[50;78H[1m[7m4,[18;1H[?12l[?25h[?25l[m[51;74H~@k[18;1H[51;74H   [19;8H[50;78H[1m[7m5,[19;8H[?12l[?25h[?25l[m[51;74H~@k[19;8H[51;74H   [20;8H[50;78H[1m[7m6,[20;8H[?12l[?25h[?25l[m[51;74H~@k[20;8H[51;74H   [21;8H[50;78H[1m[7m7,[21;8H[?12l[?25h[?25l[m[51;74H~@k[21;8H[51;74H   [22;8H[50;78H[1m[7m8,[22;8H[?12l[?25h[?25l[m[51;74H~@k[22;8H[51;74H   [23;8H[50;78H[1m[7m9,[23;8H[?12l[?25h[?25l[m[51;74H~@k[23;8H[51;74H   [24;8H[50;77H[1m[7m70,[24;8H[?12l[?25h[?25l[m[51;74H~@k[24;8H[51;74H   [25;8H[50;78H[1m[7m1,[25;8H[?12l[?25h[?25l[m[51;74H~@k[25;8H[51;74H   [26;8H[50;78H[1m[7m2,[26;8H[?12l[?25h[?25l[m[51;74H~@k[26;8H[51;74H   [27;1H[11;21H[1m[96m[46m{[27;1H}[m[50;78H[1m[7m3,[27;1H[?12l[?25h[?25l[m[51;74H~@k[27;1H[51;74H   [28;1H[11;21H[1m[96m{[27;1H}[m[50;78H[1m[7m4,0 [28;1H[?12l[?25h[?25l[m[51;74H~@k[28;1H[51;74H   [29;1H[50;78H[1m[7m5,1 [29;1H[?12l[?25h[?25l[m[51;74H~@k[29;1H[51;74H   [30;1H[50;78H[1m[7m6,[30;1H[?12l[?25h[?25l[m[51;74H~@k[30;1H[51;74H   [31;1H[50;78H[1m[7m7,[31;1H[?12l[?25h[?25l[m[51;74H~@k[31;1H[51;74H   [32;1H[50;78H[1m[7m8,[32;1H[?12l[?25h[?25l[m[51;74H~@k[32;1H[51;74H   [33;1H[50;78H[1m[7m9,[33;1H[?12l[?25h[?25l[m[51;74H~@k[33;1H[51;74H   [35;1H[50;77H[1m[7m80,[35;1H[?12l[?25h[?25l[m[51;74H~@k[35;1H[51;74H   [36;1H[50;78H[1m[7m1,[36;1H[?12l[?25h[?25l[m[51;74H~@k[36;1H[51;74H   [37;1H[50;78H[1m[7m2,[37;1H[?12l[?25h[?25l[m[51;74H~@k[37;1H[51;74H   [38;1H[29;20H[1m[96m[46m{[38;1H}[m[50;78H[1m[7m3,[38;1H[?12l[?25h[?25l[m[51;74H~@k[38;1H[51;74H   [39;1H[29;20H[1m[96m{[38;1H}[m[50;78H[1m[7m4,0 [39;1H[?12l[?25h[?25l[m[51;74H~@k[39;1H[51;74H   [40;1H[50;78H[1m[7m5,[40;1H[?12l[?25h[?25l[m[51;74H~@k[40;1H[51;74H   [41;1H[50;78H[1m[7m6,1 [41;1H[?12l[?25h[?25l[m[51;74H~@k[41;1H[51;74H   [42;8H[50;78H[1m[7m7,[42;8H[?12l[?25h[?25l[m[51;74H~@k[42;8H[51;74H   [43;8H[50;78H[1m[7m8,[43;8H[?12l[?25h[?25l[m[51;74H~@k[43;8H[51;74H   [44;1H[41;21H[1m[96m[46m{


}[m[50;78H[1m[7m9,[44;1H[?12l[?25h[?25l[m[51;74H~@k[44;1H[51;74H   [45;1H[41;21H[1m[96m{


}[m[50;77H[1m[7m90,0 [45;1H[?12l[?25h[?25l[m[51;74H~@k[45;1H[51;74H   [46;1H[50;78H[1m[7m1,1 [46;1H[?12l[?25h[?25l[m[51;74H~@k[46;1H[51;74H   [47;1H[50;78H[1m[7m2,0 [47;1H[?12l[?25h[?25l[m[51;74H~@k[47;1H[51;74H   [1;1H[27m[23m[m[H[2J[1;1H[93mfor[m pattern [93min[m [38;5;81m$PATTERNS_WORKLOAD[m
[93mdo[3;9Hfor[m strategy [93min[m [38;5;81m$STRATEGIES[m[4;9H[93mdo[m[5;17H[96m#on nettoie les logs gatling[m[6;17H[93mrm[m [38;5;224m-rf[m [38;5;81m$PROJECT_PATH[m/gatling/results/*[8;17H[96m#on nettoie les log de ram/cpu[m[9;17H[93mecho[m[95m [m[93m""[m[95m [m[93m>[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv[12;17H[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m[13;17H[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m/[38;5;81m$name_experiment[m[15;17H[96m#on cr√©√© le r√©pertoire de resultats de bench[m[16;17H[93mmkdir[m [38;5;81m$path_experiment[m[18;17H[93mrm[m [93m-f[m [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[19;17H[93mtouch[m [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[21;17H[96m#retrieve the name of the compute nodes[m[22;17H[1m[96mcompute_nodes[m=[38;5;81m$([m[38;5;224mnova host-list | [m[93mgrep[m[38;5;224m compute | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m''[m[23;1H[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m2[m[38;5;81m)[m[25;17H[1m[96mnodes[m=[26;17H[93mfor[m n [93min[m [38;5;81m$compute_nodes[m[27;17H[93mdo[m[28;21H[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m[38;5;224m| [m[93msed[m[38;5;224m -n [m[93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m[29;17H[93mdone[m[31;17H[96m#on supprime la plateforme actuelle [m[32;17Herase_plateforme[34;17H[96m#on r√©initialise la plateforme : par defaut un seul worker[m[35;17Hinit_plateforme[37;17H[93munset[m[1m[96m http_proxy[m[38;17H[93munset[m[1m[96m https_proxy[m[43;17H[96m#on logue l'etat du systeme avant l'action[m[44;17H[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[45;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[46;17H[93mdo[m[47;20H[96m#on sp√©cifie la strat√©gie que l'on veut utiliser[m[48;20H[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tii[49;1Her$i[m[93m"[m[95m [m[93m>>[m /root/action.sh
[1m[7mbench.sh                                                                    93,1 46%[1;1H[?12l[?25h[?25l[m[51;74H~@k[1;1H[51;74H   [1;20H[1;49r[1;1H[46M[1;51r[4;17H[93mdone[m[5;17H[96m#on logue l'etat du systeme apres l'action[m[6;17H[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[8;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[9;17H[93mdo[m[10;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m  [11;1H|tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[12;20H[93mwhile ! curl [m[38;5;81m$ADRESS_IP_LB[m[93m:[m[38;5;81m$LB_PORT[m[93m ; do[m [93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRR[13;1HESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m; [93msleep[m [95m1[m ; [93mdone[m[14;20Hlb_addresses[93m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m - [m[95m1[m[38;5;224m`[m[93m]=[m[38;5;81m$ADRESS_IP_LB[m
[96m#                  export JAVA_OPTS="-DlbURL=http://$ADRESS_IP_LB:$LB_PORT"[m[16;17H[93mdone[m[18;17H[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m[19;17H[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/[38;5;81m$logstash[m/bin/logstash agent [93m-f[m [38;5;81m$DEFAULT_LOO[20;1HCAL_CONF_PATH[m/indexer_logstash.conf [93m>[m /tmp/stdout_logstash [95m2[m[93m>[m /tmp/stderr_logstash &[21;17H[1m[96mLOGSTASH_PID[m=[38;5;81m$![m[23;17H[96m#timestamp of the beginning of the experiments[m[24;17H[1m[96mstart_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[26;17H[96m#launch the green energy availability file reader[m[27;17H[38;5;81m$PROJECT_PATH[m/experiments/rubis_energy_ls/scripts/green_energy_availl[28;1Hability.sh [38;5;81m$PROJECT_PATH[m/experiments/rubis_energy_ls/scripts/green_energy_availabilii[29;1Hty.txt [95m60[m  &[31;17H[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[34;17H[96m#on lance l'exp√©rience[m[35;17H[1m[96mend[m=[38;5;224m`[m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m - [m[95m1[m[38;5;224m`[m[36;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[37;17H[93mdo[m[38;22H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[39;22Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m root@[38;5;81m$injector_node[m [93m"[m[95mexport JJ[40;1HAVA_OPTS=[m[38;5;224m\"[m[95m-DlbURL=http://[m[38;5;81m$lb_addresses[m[95m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m - [m[95m1[m[38;5;224m`[m[95m]:[m[38;5;81m$LB_PORT[m[95m;\
                                              sh -c 'nohup ~/gatling/bin/gatling.sh  [42;1H-nr -s elastica.[m[38;5;81m$pattern[m[95m > ~/run.log 2>&1 &'[m[93m"[m [93m-i[m /tmp/id_rsa[43;17H[93mdone[45;17Hexport[m[1m[96m JAVA_OPTS=[m[93m"[m[95m-DlbURL=http://[m[38;5;81m$lb_addresses[m[95m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$NB_INSTANCES[m[38;5;224m --[46;1H [m[95m1[m[38;5;224m`[m[95m]:[m[38;5;81m$LB_PORT[m[93m"[m[47;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[49;17H[96m#timestamp of the beginning of the end of the experiments[m[50;75H[1m[7m138,20 67%[1;20H[?12l[?25h[?25l[m[51;74H~@k[1;20H[51;74H   [1;1H[27m[23m[m[H[2J[2;17H[96m#timestamp of the beginning of the end of the experiments[m[3;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[5;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[6;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[8;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[9;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[11;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[12;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[14;17H[96m#echo "Gathering result file from localhost"[15;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $$[16;1HPROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPOO[18;1HRTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ |  [26;1Hhead -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injectt[28;1Hor_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m  [35;1H|tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@@[39;1H[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scc[48;1Hala[m [38;5;81m$path_experiment[m/

[1m[7mbench.sh                                                                   176,0 87%[1;1H[?12l[?25h[27m[23m[m[H[2J[?25l[2;17H[96m#timestamp of the beginning of the end of the experiments[m[3;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[5;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[6;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[8;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[9;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[11;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[12;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[14;17H[96m#echo "Gathering result file from localhost"[15;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $$[16;1HPROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPOO[18;1HRTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ |  [26;1Hhead -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injectt[28;1Hor_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m  [35;1H|tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@@[39;1H[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scc[48;1Hala[m [38;5;81m$path_experiment[m/
[1m[7mbench.sh                                                                   176,0 86%[1;1H[?12l[?25h[27m[23m[m[H[2J[?25l[2;17H[96m#timestamp of the beginning of the end of the experiments[m[3;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[5;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[6;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[8;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[9;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[11;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[12;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[14;17H[96m#echo "Gathering result file from localhost"[15;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $$[16;1HPROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPOO[18;1HRTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ |  [26;1Hhead -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injectt[28;1Hor_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m  [35;1H|tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@@[39;1H[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scc[48;1Hala[m [38;5;81m$path_experiment[m/

[1m[7mbench.sh                                                                   176,0 87%[1;1H[?12l[?25h[?25l[m[51;74H~@k[1;1H[51;74H   [2;1H[50;78H[1m[7m7,1 [2;1H[?12l[?25h[?25l[m[51;74H~@k[2;1H[51;74H   [3;1H[50;78H[1m[7m8,[3;1H[?12l[?25h[?25l[m[51;74H~@k[3;1H[51;74H   [2;1H[50;78H[1m[7m7,[2;1H[?12l[?25h[?25l[m[51;74H~@k[2;1H[51;74H   [1;1H[50;78H[1m[7m6,0 [1;1H[?12l[?25h[?25l[m[51;74H~@k[1;1H[51;74H   [1;1H[1;49r[1;1H[L[1;51r[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[50;78H[1m[7m5,1 86%[1;1H[?12l[?25h[?25l[m[51;74H~@k[1;1H[51;74H   [2;1H[50;78H[1m[7m6,0 [2;1H[?12l[?25h[?25l[m[51;74H~@k[2;1H[51;74H   [3;1H[50;78H[1m[7m7,1 [3;1H[?12l[?25h[?25l[m[51;74H~@k[3;1H[51;74H   [4;1H[50;78H[1m[7m8,[4;1H[?12l[?25h[?25l[m[51;74H~@k[4;1H[51;74H   [5;8H[50;78H[1m[7m9,[5;8H[?12l[?25h[?25l[m[51;74H~@k[5;8H[51;74H   [6;1H[50;77H[1m[7m80,[6;1H[?12l[?25h[?25l[m[51;74H~@k[6;1H[51;74H   [7;8H[50;78H[1m[7m1,[7;8H[?12l[?25h[?25l[m[51;74H~@k[7;8H[51;74H   [8;1H[50;78H[1m[7m2,0 [8;1H[?12l[?25h[?25l[m[51;74H~@k[8;1H[51;74H   [9;8H[50;78H[1m[7m3,1 [9;8H[?12l[?25h[?25l[m[51;74H~@k[9;8H[51;74H   [10;8H[50;78H[1m[7m4,[10;8H[?12l[?25h[?25l[m[51;74H~@k[10;8H[51;74H   [11;8H[50;78H[1m[7m5,[11;8H[?12l[?25h[?25l[m[51;74H~@k[11;8H[51;74H   [12;8H[50;78H[1m[7m6,[12;8H[?12l[?25h[?25l[m[51;74H~@k[12;8H[51;74H   [13;8H[50;78H[1m[7m7,[13;8H[?12l[?25h[?25l[m[51;74H~@k[13;8H[51;74H   [14;8H[50;78H[1m[7m8,[14;8H[?12l[?25h[?25l[m[51;74H~@k[14;8H[51;74H   [15;8H[50;78H[1m[7m9,[15;8H[?12l[?25h[?25l[m[51;74H~@k[15;8H[51;74H   [16;8H[50;77H[1m[7m90,[16;8H[?12l[?25h[?25l[m[51;74H~@k[16;8H[51;74H   [18;8H[50;78H[1m[7m1,[18;8H[?12l[?25h[?25l[m[51;74H~@k[18;8H[51;74H   [20;1H[50;78H[1m[7m2,0 [20;1H[?12l[?25h[?25l[m[51;74H~@k[20;1H[51;74H   [21;1H[50;78H[1m[7m3,1 [21;1H[?12l[?25h[?25l[m[51;74H~@k[21;1H[51;74H   [22;8H[50;78H[1m[7m4,[22;8H[?12l[?25h[?25l[m[51;74H~@k[22;8H[51;74H   [23;8H[50;78H[1m[7m5,[23;8H[?12l[?25h[?25l[m[51;74H~@k[23;8H[51;74H   [24;8H[50;78H[1m[7m6,[24;8H[?12l[?25h[?25l[m[51;74H~@k[24;8H[51;74H   [25;8H[50;78H[1m[7m7,[25;8H[?12l[?25h[?25l[m[51;74H~@k[25;8H[51;74H   [26;1H[50;78H[1m[7m8,[26;1H[?12l[?25h[?25l[m[51;74H~@k[26;1H[51;74H   [28;8H[50;78H[1m[7m9,[28;8H[?12l[?25h[?25l[m[51;74H~@k[28;8H[51;74H   [30;1H[50;76H[1m[7m200,[30;1H[?12l[?25h[?25l[m[51;74H~@k[30;1H[51;74H   [31;8H[50;78H[1m[7m1,[31;8H[?12l[?25h[?25l[m[51;74H~@k[31;8H[51;74H   [32;1H[50;78H[1m[7m2,0 [32;1H[?12l[?25h[?25l[m[51;74H~@k[32;1H[51;74H   [33;8H[50;78H[1m[7m3,1 [33;8H[?12l[?25h[?25l[m[51;74H~@k[33;8H[51;74H   [34;8H[50;78H[1m[7m4,[34;8H[?12l[?25h[?25l[m[51;74H~@k[34;8H[51;74H   [35;8H[50;78H[1m[7m5,[35;8H[?12l[?25h[?25l[m[51;74H~@k[35;8H[51;74H   [37;1H[50;78H[1m[7m6,[37;1H[?12l[?25h[?25l[m[51;74H~@k[37;1H[51;74H   [38;1H[50;78H[1m[7m7,[38;1H[?12l[?25h[?25l[m[51;74H~@k[38;1H[51;74H   [37;1H[50;78H[1m[7m6,[37;1H[?12l[?25h[?25l[m[51;74H~@k[37;1H[51;74H   [35;8H[50;78H[1m[7m5,[35;8H[?12l[?25h[?25l[m[51;74H~@k[35;8H[51;74H   [34;8H[50;78H[1m[7m4,[34;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PP[17;1HROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORR[19;1HTS_DIR

#               end=`$NB_INSTANCES - 1`[m[22;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[23;17H[93mdo[m[24;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[25;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | hh[27;1Head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[28;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injectoo[29;1Hr_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[31;17H[93mdone[33;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[34;17H[93mdo[m[35;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m ||[36;1Htr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[38;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[39;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$$[40;1HADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[41;17H[93mdone[m[44;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[45;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[47;17H[96m#on sauvegarde le scenario[m[48;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scaa[49;1Hla[m [38;5;81m$path_experiment[m/
[1m[7mbench.sh                                                                    204,1 86%[34;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROO[17;1HJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTSS[19;1H_DIR

#               end=`$NB_INSTANCES - 1`[m[22;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[23;17H[93mdo[m[24;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[25;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | heaa[27;1Hd -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[28;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector__[29;1Hnode[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[31;17H[93mdone[33;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[34;17H[93mdo[m[35;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |trr[36;1H -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[38;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[39;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADD[40;1HRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[41;17H[93mdone[m[44;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[45;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[47;17H[96m#on sauvegarde le scenario[m[48;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scalaa[m[49;1H [38;5;81m$path_experiment[m/
[1m[7mbench.sh                                                                      204,1 86%[34;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECC[17;1HT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DII[19;1HR

#               end=`$NB_INSTANCES - 1`[m[22;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[23;17H[93mdo[m[24;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[25;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head --[27;1Hn 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[28;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_nodd[29;1He[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[31;17H[93mdone[33;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[34;17H[93mdo[m[35;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -ss[36;1H [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[38;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[39;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS[40;1HS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[41;17H[93mdone[m[44;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[45;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[47;17H[96m#on sauvegarde le scenario[m[48;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$pp[49;1Hath_experiment[m/
[1m[7mbench.sh                                                                         204,1 86%[34;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT__[17;1HPATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n  [26;1H1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m::[28;1H~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m""[m[35;1H[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS__[39;1HIP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$patt[48;1Hh_experiment[m/

[1m[7mbench.sh                                                                           204,1 87%[33;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PAA[17;1HTH/gatling/results/{} $PROJECT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1  [26;1H| xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~//[28;1Hgatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m""[m[35;1H[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IPP[39;1H_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path__[48;1Hexperiment[m/

[1m[7mbench.sh                                                                             204,1 87%[33;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH//[17;1Hgatling/results/{} $PROJECT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xx[26;1Hargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatt[28;1Hling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m |  [35;1Hcut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LBB[m[39;1H:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_expp[48;1Heriment[m/

[1m[7mbench.sh                                                                                204,1 87%[33;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gaa[17;1Htling/results/{} $PROJECT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xarr[26;1Hgs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatlii[28;1Hng/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cuu[35;1Ht -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m://[39;1Hroot/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experr[48;1Himent[m/

[1m[7mbench.sh                                                                                  204,1 87%[33;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatll[17;1Hing/results/{} $PROJECT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargss[26;1H -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatlingg[28;1H/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut  [35;1H-d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/roo[39;1Hot/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experimm[48;1Hent[m/

[1m[7mbench.sh                                                                                    204,1 87%[33;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatlii[17;1Hng/results/{} $PROJECT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs  [26;1H-I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling//[28;1Hresults/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut --[35;1Hd [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/rooo[39;1Ht/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experimee[48;1Hnt[m/

[1m[7mbench.sh                                                                                     204,1 87%[33;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatlinn[17;1Hg/results/{} $PROJECT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs --[26;1HI {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/rr[28;1Hesults/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -dd[35;1H [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/roott[39;1H/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experimenn[48;1Ht[m/

[1m[7mbench.sh                                                                                      204,1 87%[33;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatlingg[17;1H/results/{} $PROJECT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -II[26;1H {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/ree[28;1Hsults/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d  [m[35;1H[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root//[39;1Haccess_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experimentt[m[48;1H/

[1m[7mbench.sh                                                                                       204,1 87%[33;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling//[17;1Hresults/{} $PROJECT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I  [26;1H{} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/ress[28;1Hults/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m''[m[35;1H[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/aa[39;1Hccess_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[49;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m
[1m[7mbench.sh                                                                                        204,1 87%[33;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/ree[17;1Hsults/{} $PROJECT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {}}[26;1H mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/resull[28;1Hts/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m''[m[35;1H[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/accc[39;1Hess_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[49;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m
[1m[7mbench.sh                                                                                          204,1 87%[33;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/resultt[17;1Hs/{} $PROJECT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv  [26;1H${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/**[28;1H [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f55[35;1H | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access__[39;1Hnginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[49;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m
[1m[7mbench.sh                                                                                              204,1 87%[33;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{}  [17;1H$PROJECT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATT[26;1HLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$patt[28;1Hh_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cuu[35;1Ht -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginxx[39;1H.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[49;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m
[1m[7mbench.sh                                                                                                   204,1 87%[33;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECC[17;1HT_PATH/gatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REE[26;1HPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experr[28;1Himent[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[30;17H[93mdone[32;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[33;17H[93mdo[m[34;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m==[m[35;1H[93m"[m[38;5;224m -f2`[m[37;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[38;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$pp[39;1Hath_experiment[m/access_nginx[38;5;81m${i}[m.log[40;17H[93mdone[m[43;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[44;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le scenario[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[49;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m
[1m[7mbench.sh                                                                                                          204,1 87%[33;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH//[17;1Hgatling/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DII[26;1HR}{} ${GATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[29;17H[93mdone[31;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[32;17H[93mdo[m[33;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[35;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[36;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_expp[37;1Heriment[m/access_nginx[38;5;81m${i}[m.log[38;17H[93mdone[m[41;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[42;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le scenario[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[47;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[48;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/

[1m[7mbench.sh                                                                                                                 204,1 88%[32;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatlingg[17;1H/results/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${{[26;1HGATLING_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[29;17H[93mdone[31;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[32;17H[93mdo[m[33;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[35;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[36;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experimentt[m[37;1H/access_nginx[38;5;81m${i}[m.log[38;17H[93mdone[m[41;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[42;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le scenario[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[47;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[48;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/

[1m[7mbench.sh                                                                                                                        204,1 88%[32;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/resuu[17;1Hlts/report[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLII[26;1HNG_REPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[29;17H[93mdone[31;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[32;17H[93mdo[m[33;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[35;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[36;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/accee[37;1Hss_nginx[38;5;81m${i}[m.log[38;17H[93mdone[m[41;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[42;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le scenario[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[47;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[48;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/

[1m[7mbench.sh                                                                                                                             204,1 88%[32;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results//[17;1Hreport[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_RR[26;1HEPORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[29;17H[93mdone[31;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[32;17H[93mdo[m[33;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[35;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[36;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nn[37;1Hginx[38;5;81m${i}[m.log[38;17H[93mdone[m[41;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[42;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le scenario[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[47;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[48;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/

[1m[7mbench.sh                                                                                                                                 204,1 88%[32;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/ree[17;1Hport[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPP[26;1HORT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[29;17H[93mdone[31;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[32;17H[93mdo[m[33;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[35;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[36;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_ngii[37;1Hnx[38;5;81m${i}[m.log[38;17H[93mdone[m[41;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[42;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le scenario[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[47;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[48;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/

[1m[7mbench.sh                                                                                                                                   204,1 88%[32;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/repp[17;1Hort[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPOO[26;1HRT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[29;17H[93mdone[31;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[32;17H[93mdo[m[33;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[35;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[36;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginn[37;1Hx[38;5;81m${i}[m.log[38;17H[93mdone[m[41;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[42;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le scenario[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[47;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[48;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/

[1m[7mbench.sh                                                                                                                                    204,1 88%[32;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/repoo[17;1Hrt[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORR[26;1HT_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[29;17H[93mdone[31;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[32;17H[93mdo[m[33;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[35;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[36;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginxx[37;1H[38;5;81m${i}[m.log[38;17H[93mdone[m[41;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[42;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le scenario[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[47;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[48;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/

[1m[7mbench.sh                                                                                                                                     204,1 88%[32;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/reporr[17;1Ht[18;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[21;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[22;17H[93mdo[m[23;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[24;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORTT[26;1H_DIR}report'"[m[27;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[29;17H[93mdone[31;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[32;17H[93mdo[m[33;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[35;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[36;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m$$[37;1H{i}[m.log[38;17H[93mdone[m[41;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[42;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le scenario[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[47;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[48;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/

[1m[7mbench.sh                                                                                                                                      204,1 88%[32;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[20;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[23;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIRR[25;1H}report'"[m[26;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[28;17H[93mdone[30;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[31;17H[93mdo[m[32;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[34;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[35;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m..[36;1Hlog[37;17H[93mdone[m[40;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[41;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[43;17H[96m#on sauvegarde le scenario[m[44;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[46;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[47;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/


[1m[7mbench.sh                                                                                                                                          204,1 88%[31;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[20;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[23;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}reportt[25;1H'"[m[26;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[28;17H[93mdone[30;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[31;17H[93mdo[m[32;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[34;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[35;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[36;17H[93mdone[m[39;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[40;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[42;17H[96m#on sauvegarde le scenario[m[43;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[45;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[46;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/[49;17H[96m#retrieving energy log files[m
[1m[7mbench.sh                                                                                                                                                 204,1 89%[31;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[20;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[23;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[25;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[27;17H[93mdone[29;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[30;17H[93mdo[m[31;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[33;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[34;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[35;17H[93mdone[m[38;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[39;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[41;17H[96m#on sauvegarde le scenario[m[42;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/[48;17H[96m#retrieving energy log files[m[49;17H[93mecho[m[95m [m[93m"[m[95mretrieving energy log files from[m[93m"[m[38;5;81m$nodes[m
[1m[7mbench.sh                                                                                                                                                     204,1 89%[30;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[20;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[23;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[25;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[27;17H[93mdone[29;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[30;17H[93mdo[m[31;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[33;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[34;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[35;17H[93mdone[m[38;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[39;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[41;17H[96m#on sauvegarde le scenario[m[42;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/[48;17H[96m#retrieving energy log files[m[49;17H[93mecho[m[95m [m[93m"[m[95mretrieving energy log files from[m[93m"[m[38;5;81m$nodes[m
[1m[7mbench.sh                                                                                                                                                         204,1 89%[30;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[20;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[23;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[25;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[27;17H[93mdone[29;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[30;17H[93mdo[m[31;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[33;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[34;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[35;17H[93mdone[m[38;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[39;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[41;17H[96m#on sauvegarde le scenario[m[42;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/[48;17H[96m#retrieving energy log files[m[49;17H[93mecho[m[95m [m[93m"[m[95mretrieving energy log files from[m[93m"[m[38;5;81m$nodes[m
[1m[7mbench.sh                                                                                                                                                            204,1 89%[30;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[20;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[23;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[25;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[27;17H[93mdone[29;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[30;17H[93mdo[m[31;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[33;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[34;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[35;17H[93mdone[m[38;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[39;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[41;17H[96m#on sauvegarde le scenario[m[42;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/[48;17H[96m#retrieving energy log files[m[49;17H[93mecho[m[95m [m[93m"[m[95mretrieving energy log files from[m[93m"[m[38;5;81m$nodes[m
[1m[7mbench.sh                                                                                                                                                               204,1 89%[30;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[20;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[23;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[25;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[27;17H[93mdone[29;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[30;17H[93mdo[m[31;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[33;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[34;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[35;17H[93mdone[m[38;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[39;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[41;17H[96m#on sauvegarde le scenario[m[42;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/[48;17H[96m#retrieving energy log files[m[49;17H[93mecho[m[95m [m[93m"[m[95mretrieving energy log files from[m[93m"[m[38;5;81m$nodes[m
[1m[7mbench.sh                                                                                                                                                                 204,1 89%[30;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[20;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[23;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[25;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[27;17H[93mdone[29;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[30;17H[93mdo[m[31;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[33;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[34;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[35;17H[93mdone[m[38;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[39;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[41;17H[96m#on sauvegarde le scenario[m[42;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/[48;17H[96m#retrieving energy log files[m[49;17H[93mecho[m[95m [m[93m"[m[95mretrieving energy log files from[m[93m"[m[38;5;81m$nodes[m
[1m[7mbench.sh                                                                                                                                                                  204,1 89%[30;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[20;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[23;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[25;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[27;17H[93mdone[29;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[30;17H[93mdo[m[31;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[33;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[34;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[35;17H[93mdone[m[38;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[39;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[41;17H[96m#on sauvegarde le scenario[m[42;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/[48;17H[96m#retrieving energy log files[m[49;17H[93mecho[m[95m [m[93m"[m[95mretrieving energy log files from[m[93m"[m[38;5;81m$nodes[m
[1m[7mbench.sh                                                                                                                                                                   204,1 89%[30;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[20;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[23;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[25;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[27;17H[93mdone[29;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[30;17H[93mdo[m[31;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[33;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[34;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[35;17H[93mdone[m[38;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[39;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[41;17H[96m#on sauvegarde le scenario[m[42;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/[48;17H[96m#retrieving energy log files[m[49;17H[93mecho[m[95m [m[93m"[m[95mretrieving energy log files from[m[93m"[m[38;5;81m$nodes[m
[1m[7mbench.sh                                                                                                                                                                    204,1 89%[30;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[20;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[23;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[25;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[27;17H[93mdone[29;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[30;17H[93mdo[m[31;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[33;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[34;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[35;17H[93mdone[m[38;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[39;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[41;17H[96m#on sauvegarde le scenario[m[42;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/[48;17H[96m#retrieving energy log files[m[49;17H[93mecho[m[95m [m[93m"[m[95mretrieving energy log files from[m[93m"[m[38;5;81m$nodes[m
[1m[7mbench.sh                                                                                                                                                                     204,1 89%[30;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[20;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[23;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[25;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[27;17H[93mdone[29;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[30;17H[93mdo[m[31;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[33;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[34;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[35;17H[93mdone[m[38;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[39;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[41;17H[96m#on sauvegarde le scenario[m[42;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/[48;17H[96m#retrieving energy log files[m[49;17H[93mecho[m[95m [m[93m"[m[95mretrieving energy log files from[m[93m"[m[38;5;81m$nodes[m
[1m[7mbench.sh                                                                                                                                                                      204,1 89%[30;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[20;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[23;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[25;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[27;17H[93mdone[29;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[30;17H[93mdo[m[31;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[33;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[34;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[35;17H[93mdone[m[38;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[39;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[41;17H[96m#on sauvegarde le scenario[m[42;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/[48;17H[96m#retrieving energy log files[m[49;17H[93mecho[m[95m [m[93m"[m[95mretrieving energy log files from[m[93m"[m[38;5;81m$nodes[m
[1m[7mbench.sh                                                                                                                                                                       204,1 89%[30;8H[?12l[?25h[27m[23m[m[H[2J[?25l[1;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[3;17H[96m#timestamp of the beginning of the end of the experiments[m[4;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[6;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[7;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[9;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[10;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[12;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[13;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[15;17H[96m#echo "Gathering result file from localhost"[16;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[17;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[20;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[23;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[25;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[27;17H[93mdone[29;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[30;17H[93mdo[m[31;20H[1m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[33;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[34;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$ADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[35;17H[93mdone[m[38;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[39;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[41;17H[96m#on sauvegarde le scenario[m[42;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[44;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[45;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/[48;17H[96m#retrieving energy log files[m[49;17H[93mecho[m[95m [m[93m"[m[95mretrieving energy log files from[m[93m"[m[38;5;81m$nodes[m
[1m[7mbench.sh                                                                                                                                                                        204,1 89%[30;8H[?12l[?25h[?25l[m[51;175H~@k[30;8H[51;175H   [31;8H[50;179H[1m[7m5,[31;8H[?12l[?25h[?25l[m[51;175H~@k[31;8H[51;175H   [32;1H[50;179H[1m[7m6,[32;1H[?12l[?25h[?25l[m[51;175H~@k[32;1H[51;175H   [31;8H[50;179H[1m[7m5,[31;8H[?12l[?25h[?25l[m[51;175H~@@[31;8H[51;175H   [31;129H[50;175H[1m[7m205,115 [31;129H[?12l[?25h[?25l[m[51;175H~@k[31;129H[51;175H   [31;128H[50;181H[1m[7m4 [31;128H[?12l[?25h[?25l[m[51;175H~@k[31;128H[51;175H   [31;127H[50;181H[1m[7m3 [31;127H[?12l[?25h[?25l[m[51;175H~@k[31;127H[51;175H   [31;126H[50;181H[1m[7m2 [31;126H[?12l[?25h[?25l[m[51;175H~@k[31;126H[51;175H   [31;125H[50;181H[1m[7m1 [31;125H[?12l[?25h[?25l[m[51;175H~@k[31;125H[51;175H   [31;8H[50;175H[1m[7m  205,1[31;8H[?12l[?25h[?25l[m[51;175H#[31;8H[51;1H?\<ADRESS_IP_LB\>[51;175H[K[51;1H[25;54H[27m[23m[m[H[2J[1;17H[96m#on r√©initialise la plateforme : par defaut un seul worker[m[2;17Hinit_plateforme[4;17H[93munset[m[1m[96m http_proxy[m[5;17H[93munset[m[1m[96m https_proxy[m[10;17H[96m#on logue l'etat du systeme avant l'action[m[11;17H[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[12;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[13;17H[93mdo[m[14;20H[96m#on sp√©cifie la strat√©gie que l'on veut utiliser[m[15;20H[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[93m>>[m /root/action.sh[16;17H[93mdone[m[17;17H[96m#on logue l'etat du systeme apres l'action[m[18;17H[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[20;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[30m[103mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[23;20H[93mwhile ! curl [m[38;5;81m$[m[30m[103mADRESS_IP_LB[m[93m:[m[38;5;81m$LB_PORT[m[93m ; do[m [93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$[m[30m[103mADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m; [93msleep[m [95m1[m ; [93mdone[m[24;20Hlb_addresses[93m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m - [m[95m1[m[38;5;224m`[m[93m]=[m[38;5;81m$[m[30m[103mADRESS_IP_LB[m
[96m#                  export JAVA_OPTS="-DlbURL=http://$[m[30m[103mADRESS_IP_LB[m[96m:$LB_PORT"[m[26;17H[93mdone[m[28;17H[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m[29;17H[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/[38;5;81m$logstash[m/bin/logstash agent [93m-f[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/indexer_logstash.conf [93m>[m /tmp/stdout_logstash [95m2[m[93m>[m /tmp/stderr_logstash &[30;17H[1m[96mLOGSTASH_PID[m=[38;5;81m$![m[32;17H[96m#timestamp of the beginning of the experiments[m[33;17H[1m[96mstart_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[35;17H[96m#launch the green energy availability file reader[m[36;17H[38;5;81m$PROJECT_PATH[m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [38;5;81m$PROJECT_PATH[m/experiments/rubis_energy_ls/scripts/green_energy_availability.txt [95m60[m  &[38;17H[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[41;17H[96m#on lance l'exp√©rience[m[42;17H[1m[96mend[m=[38;5;224m`[m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m - [m[95m1[m[38;5;224m`[m[43;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[44;17H[93mdo[m[45;22H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[46;22Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m root@[38;5;81m$injector_node[m [93m"[m[95mexport JAVA_OPTS=[m[38;5;224m\"[m[95m-DlbURL=http://[m[38;5;81m$lb_addresses[m[95m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m - [m[95m1[m[38;5;224m`[m[95m]:[m[38;5;81m$LB_PORT[m[95m;\
                                              sh -c 'nohup ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[95m > ~/run.log 2>&1 &'[m[93m"[m [93m-i[m /tmp/id_rsa[48;17H[93mdone[m

[1m[7mbench.sh                                                                                                                                                                       149,41 63%[25;54H[?12l[?25h[?25l[m[51;175H^[[25;54H[?12l[?25h[?25l[51;175H  [25;54H[?12l[?25h[?25l[51;175H^[[25;54H[?12l[?25h[?25l[51;175H  [25;54H[?12l[?25h[?25l[51;175H^[[25;54H[?12l[?25h[?25l[51;175H  [25;54H[?12l[?25h[?25l[51;175H^[[25;54H[?12l[?25h[?25l[51;175H  [25;54H[?12l[?25h[?25l[51;175H^[[25;54H[?12l[?25h[?25l[51;175H  [25;54H[?12l[?25h[?25l[51;175H^[[25;54H[?12l[?25h[?25l[51;175H  [25;54H[?12l[?25h[?25l[51;175H^[[25;54H[?12l[?25h[?25l[51;175H  [25;54H[?12l[?25h[?25l[51;175H~@k[25;54H[51;175H   [24;54H[50;178H[1m[7m8,40 [24;54H[?12l[?25h[?25l[m[51;175H~@k[24;54H[51;175H   [23;54H[50;178H[1m[7m7,[23;54H[?12l[?25h[?25l[m[51;175H~@k[23;54H[51;175H   [22;54H[50;178H[1m[7m6,[22;54H[?12l[?25h[?25l[m[51;175H~@k[22;54H[51;175H   [23;54H[50;178H[1m[7m7,[23;54H[?12l[?25h[?25l[m[51;175H~@k[23;54H[51;175H   [24;54H[50;178H[1m[7m8,[24;54H[?12l[?25h[?25l[m[51;175H~@k[24;54H[51;175H   [25;54H[50;178H[1m[7m9,41 [25;54H[?12l[?25h[?25l[m[51;175H~@k[25;54H[51;175H   [26;20H[50;177H[1m[7m50,20 [26;20H[?12l[?25h[?25l[m[51;175H~@k[26;20H[51;175H   [27;1H[50;176H[1m[7m 151,0[27;1H[?12l[?25h[?25l[m[51;175H~@k[27;1H[51;175H   [28;41H[50;176H[1m[7m152,41 [28;41H[?12l[?25h[?25l[m[51;175H~@k[28;41H[51;175H   [29;54H[50;178H[1m[7m3,[29;54H[?12l[?25h[?25l[m[51;175H~@k[29;54H[51;175H   [28;41H[50;178H[1m[7m2,[28;41H[?12l[?25h[?25l[m[51;175H~@k[28;41H[51;175H   [27;1H[50;176H[1m[7m 151,0 [27;1H[?12l[?25h[?25l[m[51;175H~@k[27;1H[51;175H   [26;20H[50;176H[1m[7m150,20[26;20H[?12l[?25h[?25l[m[51;175H~@k[26;20H[51;175H   [25;54H[50;177H[1m[7m49,41 [25;54H[?12l[?25h[?25l[m[51;175H~@k[25;54H[51;175H   [24;54H[50;178H[1m[7m8,40 [24;54H[?12l[?25h[?25l[m[51;175H~@k[24;54H[51;175H   [23;54H[50;178H[1m[7m7,[23;54H[?12l[?25h[?25l[m[51;175H~@k[23;54H[51;175H   [23;53H[50;180H[1m[7m39 [23;53H[?12l[?25h[?25l[m[51;175H~@k[23;53H[51;175H   [23;52H[50;181H[1m[7m8 [23;52H[?12l[?25h[?25l[m[51;175H~@k[23;52H[51;175H   [22;52H[50;178H[1m[7m6,[22;52H[?12l[?25h[?25l[m[51;175H~@k[22;52H[51;175H   [22;8H[50;176H[1m[7m 146,1 [22;8H[?12l[?25h[?25l[m[51;175Hi[22;8H[51;175H [22;1H[51;1H[1m-- INSERT --[22;1H[?12l[?25h[?25l[m[96m#                  [m[30m[103mADRESS_IP_LB[m[96m=`nova list | grep $name_tier$i"_VM_LB" | tr "|" " " |tr -s " " | cut -d ' ' -f5 | cut -d "=" -f2`[m[50;9H[1m[7m[+][169C2 [22;2H[?12l[?25h[m[51;1H[K[22;1H[?25l[51;175H^[[22;1H[?12l[?25h[?25l[51;175H  [22;2H[50;181H[1m[7m1 [22;1H[?12l[?25h[?25l[m[51;175Hu[22;1H[51;1H1 change; before #1  2 seconds ago[51;175H[K[22;8H                   [1m[30m[103mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[50;9H[1m[7m    [22;8H[?12l[?25h[?25l[m[51;175H^[[22;8H[?12l[?25h[?25l[51;175H  [22;8H[?12l[?25h[?25l[51;175Hy[22;8H[?12l[?25h[?25l[51;176Hy[22;8H[51;175H  [22;8H[?12l[?25h[?25l[51;175H^[[22;8H[?12l[?25h[?25l[51;175H  [22;8H[?12l[?25h[?25l[51;175H#[22;8H[51;1H?\<ADRESS_IP_LB\>[51;18H[K[51;1H[38;5;224msearch hit TOP, continuing at BOTTOM[25;86H[27m[23m[m[H[2J[1;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[3;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[4;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[6;17H[96m#echo "Gathering result file from localhost"[7;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[8;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[11;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[12;17H[93mdo[m[13;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[14;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[16;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[18;17H[93mdone[20;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[21;17H[93mdo[m[22;20H[1m[30m[103mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[24;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[25;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$[m[30m[103mADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[26;17H[93mdone[m[29;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[30;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[32;17H[96m#on sauvegarde le scenario[m[33;17Hcp [38;5;81m$PROJECT_PATH[m/gatling/user-files/simulations/elastica/[38;5;81m$pattern.scala[m [38;5;81m$path_experiment[m/[35;17H[96m#on sauvegarde le code du handler de l'elasticit√© manager[m[36;17Hcp [38;5;81m$PROJECT_PATH[m/elasticity_manager/handle_event.sh [38;5;81m$path_experiment[m/[39;17H[96m#retrieving energy log files[m[40;17H[93mecho[m[95m [m[93m"[m[95mretrieving energy log files from[m[93m"[m[38;5;81m$nodes[41;17H$PROJECT_PATH[m/experiments/rubis_energy_ls/scripts/get_energy_log.sh [38;5;81m$start_timestamp[m [38;5;81m$end_timestamp[m [38;5;81m$path_experiment[m [38;5;81m$nodes[m[44;17H[93mrm[m [93m-f[m /root/action.sh[45;17H[93mecho[m[95m [m[93m"[m[95mchecking if action in progress[m[93m"[m[46;17H[96m#on ne peut passer qu'√† l'exp√© suivante si on on a pas d'action en cours[m[47;17H[93mwhile ! [[m [93m-z[m [93m"[m[38;5;224m`ps aux | [m[93mgrep[m[38;5;224m /root/action.sh | [m[93mgrep[m[38;5;224m -v [m[93mgrep[m[38;5;224m`[m[93m"[m [93m]
                do[49;25Hecho[m[95m -n [m[93m"[m[95m.[m[93m"[m
[1m[7mbench.sh                                                                                                                                                                       208,72 94%[m[51;1H[38;5;224msearch hit TOP, continuing at BOTTOM[25;86H[?12l[?25h[?25l[m[51;175H~@k[25;86H[51;175H   [26;20H[50;178H[1m[7m9,13 [26;20H[?12l[?25h[?25l[m[51;175H~@k[26;20H[51;175H   [25;86H[50;178H[1m[7m8,72 [25;86H[?12l[?25h[?25l[m[51;175H~@k[25;86H[51;175H   [24;59H[50;178H[1m[7m7,54 [24;59H[?12l[?25h[?25l[m[51;175H~@k[24;59H[51;175H   [23;16H[50;178H[1m[7m6,16 [23;16H[?12l[?25h[?25l[m[51;175H~@k[23;16H[51;175H   [22;86H[50;178H[1m[7m5,72 [22;86H[?12l[?25h[?25l[m[51;175H~@k[22;86H[51;175H   [49;16H[27m[23m[m[H[2J[1;17H[93mdo[m[2;20H[96m#on sp√©cifie la strat√©gie que l'on veut utiliser[m[3;20H[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[93m>>[m /root/action.sh[4;17H[93mdone[m[5;17H[96m#on logue l'etat du systeme apres l'action[m[6;17H[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[8;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[9;17H[93mdo[m[10;20H[1m[30m[103mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[11;20H[93mwhile ! curl [m[38;5;81m$[m[30m[103mADRESS_IP_LB[m[93m:[m[38;5;81m$LB_PORT[m[93m ; do[m [93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$[m[30m[103mADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m; [93msleep[m [95m1[m ; [93mdone[m[12;20Hlb_addresses[93m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m - [m[95m1[m[38;5;224m`[m[93m]=[m[38;5;81m$[m[30m[103mADRESS_IP_LB[m
[96m#                  export JAVA_OPTS="-DlbURL=http://$[m[30m[103mADRESS_IP_LB[m[96m:$LB_PORT"[m[14;17H[93mdone[m[16;17H[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m[17;17H[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/[38;5;81m$logstash[m/bin/logstash agent [93m-f[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/indexer_logstash.conf [93m>[m /tmp/stdout_logstash [95m2[m[93m>[m /tmp/stderr_logstash &[18;17H[1m[96mLOGSTASH_PID[m=[38;5;81m$![m[20;17H[96m#timestamp of the beginning of the experiments[m[21;17H[1m[96mstart_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[23;17H[96m#launch the green energy availability file reader[m[24;17H[38;5;81m$PROJECT_PATH[m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [38;5;81m$PROJECT_PATH[m/experiments/rubis_energy_ls/scripts/green_energy_availability.txt [95m60[m  &[26;17H[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[29;17H[96m#on lance l'exp√©rience[m[30;17H[1m[96mend[m=[38;5;224m`[m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m - [m[95m1[m[38;5;224m`[m[31;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[32;17H[93mdo[m[33;22H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[34;22Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m root@[38;5;81m$injector_node[m [93m"[m[95mexport JAVA_OPTS=[m[38;5;224m\"[m[95m-DlbURL=http://[m[38;5;81m$lb_addresses[m[95m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m - [m[95m1[m[38;5;224m`[m[95m]:[m[38;5;81m$LB_PORT[m[95m;\
                                              sh -c 'nohup ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[95m > ~/run.log 2>&1 &'[m[93m"[m [93m-i[m /tmp/id_rsa[36;17H[93mdone[38;17Hexport[m[1m[96m JAVA_OPTS=[m[93m"[m[95m-DlbURL=http://[m[38;5;81m$lb_addresses[m[95m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$NB_INSTANCES[m[38;5;224m - [m[95m1[m[38;5;224m`[m[95m]:[m[38;5;81m$LB_PORT[m[93m"[m[39;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[41;17H[96m#timestamp of the beginning of the end of the experiments[m[42;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[44;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[45;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[47;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[48;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log

[1m[7mbench.sh                                                                                                                                                                        185,2 70%[49;16H[?12l[?25h[?25l[m[51;175H~@k[49;16H[51;175H   [49;20H[27m[23m[m[H[2J[2;1Hssh [38;5;224m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [38;5;81m$G5K_USER[m@frontend [93m"[m[95mmkdir -p ~/results[m[93m"

for[m pattern [93min[m [38;5;81m$PATTERNS_WORKLOAD[m
[93mdo[6;9Hfor[m strategy [93min[m [38;5;81m$STRATEGIES[m[7;9H[93mdo[m[8;17H[96m#on nettoie les logs gatling[m[9;17H[93mrm[m [38;5;224m-rf[m [38;5;81m$PROJECT_PATH[m/gatling/results/*[11;17H[96m#on nettoie les log de ram/cpu[m[12;17H[93mecho[m[95m [m[93m""[m[95m [m[93m>[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv[15;17H[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m[16;17H[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m/[38;5;81m$name_experiment[m[18;17H[96m#on cr√©√© le r√©pertoire de resultats de bench[m[19;17H[93mmkdir[m [38;5;81m$path_experiment[m[21;17H[93mrm[m [93m-f[m [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[22;17H[93mtouch[m [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[24;17H[96m#retrieve the name of the compute nodes[m[25;17H[1m[96mcompute_nodes[m=[38;5;81m$([m[38;5;224mnova host-list | [m[93mgrep[m[38;5;224m compute | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m2[m[38;5;81m)[m[27;17H[1m[96mnodes[m=[28;17H[93mfor[m n [93min[m [38;5;81m$compute_nodes[m[29;17H[93mdo[m[30;21H[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m[38;5;224m| [m[93msed[m[38;5;224m -n [m[93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m[31;17H[93mdone[m[33;17H[96m#on supprime la plateforme actuelle [m[34;17Herase_plateforme[36;17H[96m#on r√©initialise la plateforme : par defaut un seul worker[m[37;17Hinit_plateforme[39;17H[93munset[m[1m[96m http_proxy[m[40;17H[93munset[m[1m[96m https_proxy[m[45;17H[96m#on logue l'etat du systeme avant l'action[m[46;17H[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[47;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[48;17H[93mdo[m[49;20H[96m#on sp√©cifie la strat√©gie que l'on veut utiliser[m
[1m[7mbench.sh                                                                                                                                                                       138,20 45%[49;20H[?12l[?25h[?25l[m[51;175H~@k[49;20H[51;175H   [49;1H[27m[23m[m[H[2J[1;9H[93mrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[11;1H[1m[96mname_tier[m=tier[16;1H[1m[96merase_plateforme () {[m[17;9H[93mfor[m name_vm [93min[m [38;5;224m`nova list | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[18;9H[93mdo[m[19;17Hnova delete [38;5;81m$name_vm[m[20;9H[93mdone[22;9Hif [[m [93m-e[m [38;5;81m$TIER_LIST_PATH[m/[38;5;81m$name_tier[m [93m][23;9Hthen[24;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_LIST_PATH[m/[38;5;81m$name_tier[m[25;9H[93mfi[26;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[27;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[28;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[29;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[36;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[37;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[38;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[39;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}


reset_plateforme () {[m[45;9Herase_plateforme[46;9Hinit_plateforme
[1m[96m}[m

ssh [38;5;224m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [38;5;81m$G5K_USER[m@frontend [93m"[m[95mmkdir -p ~/results[m[93m"[m
[1m[7mbench.sh                                                                                                                                                                         91,1 21%[49;1H[?12l[?25h[?25l[m[51;175H~@k[49;1H[51;175H   [1;1H[27m[23m[m[H[2J[2;1Hssh [38;5;224m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [38;5;81m$G5K_USER[m@frontend [93m"[m[95mmkdir -p ~/results[m[93m"

for[m pattern [93min[m [38;5;81m$PATTERNS_WORKLOAD[m
[93mdo[6;9Hfor[m strategy [93min[m [38;5;81m$STRATEGIES[m[7;9H[93mdo[m[8;17H[96m#on nettoie les logs gatling[m[9;17H[93mrm[m [38;5;224m-rf[m [38;5;81m$PROJECT_PATH[m/gatling/results/*[11;17H[96m#on nettoie les log de ram/cpu[m[12;17H[93mecho[m[95m [m[93m""[m[95m [m[93m>[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv[15;17H[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m[16;17H[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m/[38;5;81m$name_experiment[m[18;17H[96m#on cr√©√© le r√©pertoire de resultats de bench[m[19;17H[93mmkdir[m [38;5;81m$path_experiment[m[21;17H[93mrm[m [93m-f[m [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[22;17H[93mtouch[m [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[24;17H[96m#retrieve the name of the compute nodes[m[25;17H[1m[96mcompute_nodes[m=[38;5;81m$([m[38;5;224mnova host-list | [m[93mgrep[m[38;5;224m compute | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m2[m[38;5;81m)[m[27;17H[1m[96mnodes[m=[28;17H[93mfor[m n [93min[m [38;5;81m$compute_nodes[m[29;17H[93mdo[m[30;21H[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m[38;5;224m| [m[93msed[m[38;5;224m -n [m[93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m[31;17H[93mdone[m[33;17H[96m#on supprime la plateforme actuelle [m[34;17Herase_plateforme[36;17H[96m#on r√©initialise la plateforme : par defaut un seul worker[m[37;17Hinit_plateforme[39;17H[93munset[m[1m[96m http_proxy[m[40;17H[93munset[m[1m[96m https_proxy[m[45;17H[96m#on logue l'etat du systeme avant l'action[m[46;17H[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[47;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[48;17H[93mdo[m[49;20H[96m#on sp√©cifie la strat√©gie que l'on veut utiliser[m
[1m[7mbench.sh                                                                                                                                                                         90,0 45%[1;1H[?12l[?25h[?25l[m[51;175H~@k[1;1H[51;175H   [1;17H[27m[23m[m[H[2J[1;17H[93mdo[m[2;20H[96m#on sp√©cifie la strat√©gie que l'on veut utiliser[m[3;20H[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[93m>>[m /root/action.sh[4;17H[93mdone[m[5;17H[96m#on logue l'etat du systeme apres l'action[m[6;17H[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[8;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[9;17H[93mdo[m[10;20H[1m[30m[103mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[11;20H[93mwhile ! curl [m[38;5;81m$[m[30m[103mADRESS_IP_LB[m[93m:[m[38;5;81m$LB_PORT[m[93m ; do[m [93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$[m[30m[103mADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m; [93msleep[m [95m1[m ; [93mdone[m[12;20Hlb_addresses[93m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m - [m[95m1[m[38;5;224m`[m[93m]=[m[38;5;81m$[m[30m[103mADRESS_IP_LB[m
[96m#                  export JAVA_OPTS="-DlbURL=http://$[m[30m[103mADRESS_IP_LB[m[96m:$LB_PORT"[m[14;17H[93mdone[m[16;17H[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m[17;17H[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/[38;5;81m$logstash[m/bin/logstash agent [93m-f[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/indexer_logstash.conf [93m>[m /tmp/stdout_logstash [95m2[m[93m>[m /tmp/stderr_logstash &[18;17H[1m[96mLOGSTASH_PID[m=[38;5;81m$![m[20;17H[96m#timestamp of the beginning of the experiments[m[21;17H[1m[96mstart_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[23;17H[96m#launch the green energy availability file reader[m[24;17H[38;5;81m$PROJECT_PATH[m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [38;5;81m$PROJECT_PATH[m/experiments/rubis_energy_ls/scripts/green_energy_availability.txt [95m60[m  &[26;17H[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[29;17H[96m#on lance l'exp√©rience[m[30;17H[1m[96mend[m=[38;5;224m`[m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m - [m[95m1[m[38;5;224m`[m[31;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[32;17H[93mdo[m[33;22H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[34;22Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m root@[38;5;81m$injector_node[m [93m"[m[95mexport JAVA_OPTS=[m[38;5;224m\"[m[95m-DlbURL=http://[m[38;5;81m$lb_addresses[m[95m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m - [m[95m1[m[38;5;224m`[m[95m]:[m[38;5;81m$LB_PORT[m[95m;\
                                              sh -c 'nohup ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[95m > ~/run.log 2>&1 &'[m[93m"[m [93m-i[m /tmp/id_rsa[36;17H[93mdone[38;17Hexport[m[1m[96m JAVA_OPTS=[m[93m"[m[95m-DlbURL=http://[m[38;5;81m$lb_addresses[m[95m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$NB_INSTANCES[m[38;5;224m - [m[95m1[m[38;5;224m`[m[95m]:[m[38;5;81m$LB_PORT[m[93m"[m[39;17H[38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m[41;17H[96m#timestamp of the beginning of the end of the experiments[m[42;17H[1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m[44;17H[93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m[45;17H[93mkill[m [38;5;81m$LOGSTASH_PID[m[47;17H[96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m[48;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log

[1m[7mbench.sh                                                                                                                                                                        137,3 70%[1;17H[?12l[?25h[?25l[m[51;175H~@k[1;17H[51;175H   [2;17H[50;176H[1m[7m138,17 [2;17H[?12l[?25h[?25l[m[51;175H~@k[2;17H[51;175H   [3;17H[50;178H[1m[7m9,10 [3;17H[?12l[?25h[?25l[m[51;175H~@k[3;17H[51;175H   [4;17H[50;176H[1m[7m 140,3 [4;17H[?12l[?25h[?25l[m[51;175H~@k[4;17H[51;175H   [5;17H[50;179H[1m[7m1,[5;17H[?12l[?25h[?25l[m[51;175H~@k[5;17H[51;175H   [6;17H[50;179H[1m[7m2,[6;17H[?12l[?25h[?25l[m[51;175H~@k[6;17H[51;175H   [7;16H[50;176H[1m[7m143,16 [7;16H[?12l[?25h[?25l[m[51;175H~@k[7;16H[51;175H   [8;17H[50;176H[1m[7m 144,3 [8;17H[?12l[?25h[?25l[m[51;175H~@k[8;17H[51;175H   [9;17H[50;179H[1m[7m5,[9;17H[?12l[?25h[?25l[m[51;175H~@k[9;17H[51;175H   [10;17H[50;179H[1m[7m6,[10;17H[?12l[?25h[?25l[m[51;175Hi[10;17H[51;175H [10;17H[51;1H[1m-- INSERT --[10;17H[?12l[?25h[?25l[m[96m#   [m[30m[103mADRESS_IP_LB[m[96m=`nova list | grep $name_tier$i"_VM_LB" | tr "|" " " |tr -s " " | cut -d ' ' -f5 | cut -d "=" -f2`[m[50;9H[1m[7m[+][169C4 [10;18H[?12l[?25h[50;179H7,[11;18H[50;181H5 [11;19H[50;179H6,[10;19H[50;181H6 [10;20H[50;175H146,117 [10;131H[?25l[m[96mi[m[50;181H[1m[7m8 [10;132H[?12l[?25h[?25l[m[10;131H[K[50;181H[1m[7m7 [10;131H[?12l[?25h[?25l[11;49r[m[11;1H[L[1;51r[50;175H[1m[7m  147,1 69%[11;1H[?12l[?25h[m[51;1H[K[11;1H[?25l[51;175H^[[11;1H[?12l[?25h[?25l[51;175H  [11;1H[50;181H[1m[7m0 [11;1H[?12l[?25h[?25l[m[51;175Hp[11;1H[51;175H [12;20H[12;49r[12;1H[L[1;51r[12;20H[1m[30m[103mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[50;179H[1m[7m8,6 [12;20H[?12l[?25h[?25l[m[51;175Hi[12;20H[51;175H [12;20H[51;1H[1m-- INSERT --[12;20H[?12l[?25h[m[50;179H[1m[7m7,1 [11;1H[m[51;1H[K[11;1H[?25l[51;175H^[[11;1H[?12l[?25h[?25l[51;175H  [11;1H[50;181H[1m[7m0 [11;1H[?12l[?25h[?25l[m[51;175Hd[11;1H[?12l[?25h[?25l[51;176Hd[11;1H[51;175H  [11;20H[11;49r[49;1H
[1;51r[49;17Hcp [38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m [38;5;81m$path_experiment[m/state_plateforme.log[50;181H[1m[7m6 [11;20H[?12l[?25h[?25l[m[51;175H~@k[11;20H[51;175H   [11;21H[50;181H[1m[7m7 [11;21H[?12l[?25h[?25l[m[51;175H~@k[11;21H[51;175H   [11;22H[50;181H[1m[7m8 [11;22H[?12l[?25h[?25l[m[51;175H~@k[11;22H[51;175H   [11;23H[50;181H[1m[7m9 [11;23H[?12l[?25h[?25l[m[51;175H~@k[11;23H[51;175H   [11;24H[50;176H[1m[7m147,10 [11;24H[?12l[?25h[?25l[m[51;175H~@k[11;24H[51;175H   [11;25H[50;181H[1m[7m1 [11;25H[?12l[?25h[?25l[m[51;175H~@k[11;25H[51;175H   [11;26H[50;181H[1m[7m2 [11;26H[?12l[?25h[?25l[m[51;175H~@k[11;26H[51;175H   [11;27H[50;181H[1m[7m3 [11;27H[?12l[?25h[?25l[m[51;175H~@k[11;27H[51;175H   [11;28H[50;181H[1m[7m4 [11;28H[?12l[?25h[?25l[m[51;175H~@k[11;28H[51;175H   [11;29H[50;181H[1m[7m5 [11;29H[?12l[?25h[?25l[m[51;175H~@k[11;29H[51;175H   [11;30H[50;181H[1m[7m6 [11;30H[?12l[?25h[?25l[m[51;175H~@k[11;30H[51;175H   [11;31H[50;181H[1m[7m7 [11;31H[?12l[?25h[?25l[m[51;175H~@k[11;31H[51;175H   [11;32H[50;181H[1m[7m8 [11;32H[?12l[?25h[?25l[m[51;175H~@k[11;32H[51;175H   [11;33H[50;181H[1m[7m9 [11;33H[?12l[?25h[?25l[m[51;175H~@k[11;33H[51;175H   [11;34H[50;180H[1m[7m20 [11;34H[?12l[?25h[?25l[m[51;175H~@k[11;34H[51;175H   [11;35H[50;181H[1m[7m1 [11;35H[?12l[?25h[?25l[m[51;175H~@k[11;35H[51;175H   [11;36H[50;181H[1m[7m2 [11;36H[?12l[?25h[?25l[m[51;175H~@k[11;36H[51;175H   [11;37H[50;181H[1m[7m3 [11;37H[?12l[?25h[?25l[m[51;175H~@k[11;37H[51;175H   [11;38H[50;181H[1m[7m4 [11;38H[?12l[?25h[?25l[m[51;175H~@k[11;38H[51;175H   [11;39H[50;181H[1m[7m5 [11;39H[?12l[?25h[?25l[m[51;175H~@k[11;39H[51;175H   [11;40H[50;181H[1m[7m6 [11;40H[?12l[?25h[?25l[m[51;175H~@k[11;40H[51;175H   [11;41H[50;181H[1m[7m7 [11;41H[?12l[?25h[?25l[m[51;175H~@k[11;41H[51;175H   [11;42H[50;181H[1m[7m8 [11;42H[?12l[?25h[?25l[m[51;175H~@k[11;42H[51;175H   [11;43H[50;181H[1m[7m9 [11;43H[?12l[?25h[?25l[m[51;175H~@k[11;43H[51;175H   [11;44H[50;180H[1m[7m30 [11;44H[?12l[?25h[?25l[m[51;175H~@k[11;44H[51;175H   [11;45H[50;181H[1m[7m1 [11;45H[?12l[?25h[?25l[m[51;175H~@k[11;45H[51;175H   [11;46H[50;181H[1m[7m2 [11;46H[?12l[?25h[?25l[m[51;175H~@k[11;46H[51;175H   [11;47H[50;181H[1m[7m3 [11;47H[?12l[?25h[?25l[m[51;175H~@k[11;47H[51;175H   [11;48H[50;181H[1m[7m4 [11;48H[?12l[?25h[?25l[m[51;175H~@k[11;48H[51;175H   [11;49H[50;181H[1m[7m5 [11;49H[?12l[?25h[?25l[m[51;175H~@k[11;49H[51;175H   [11;50H[50;181H[1m[7m6 [11;50H[?12l[?25h[?25l[m[51;175H~@k[11;50H[51;175H   [11;51H[50;181H[1m[7m7 [11;51H[?12l[?25h[?25l[m[51;175H~@k[11;51H[51;175H   [11;52H[50;181H[1m[7m8 [11;52H[?12l[?25h[?25l[m[51;175H~@k[11;52H[51;175H   [11;53H[50;181H[1m[7m9 [11;53H[?12l[?25h[?25l[m[51;175H~@k[11;53H[51;175H   [11;54H[50;180H[1m[7m40 [11;54H[?12l[?25h[?25l[m[51;175H~@k[11;54H[51;175H   [11;55H[50;181H[1m[7m1 [11;55H[?12l[?25h[?25l[m[51;175H~@k[11;55H[51;175H   [11;56H[50;181H[1m[7m2 [11;56H[?12l[?25h[?25l[m[51;175H~@k[11;56H[51;175H   [11;57H[50;181H[1m[7m3 [11;57H[?12l[?25h[?25l[m[51;175H~@k[11;57H[51;175H   [11;58H[50;181H[1m[7m4 [11;58H[?12l[?25h[?25l[m[51;175H~@k[11;58H[51;175H   [11;59H[50;181H[1m[7m5 [11;59H[?12l[?25h[?25l[m[51;175H~@k[11;59H[51;175H   [11;60H[50;181H[1m[7m6 [11;60H[?12l[?25h[?25l[m[51;175H~@k[11;60H[51;175H   [11;61H[50;181H[1m[7m7 [11;61H[?12l[?25h[?25l[m[51;175H~@k[11;61H[51;175H   [11;62H[50;181H[1m[7m8 [11;62H[?12l[?25h[?25l[m[51;175H~@k[11;62H[51;175H   [11;63H[50;181H[1m[7m9 [11;63H[?12l[?25h[?25l[m[51;175H~@k[11;63H[51;175H   [11;64H[50;180H[1m[7m50 [11;64H[?12l[?25h[?25l[m[51;175H~@k[11;64H[51;175H   [11;65H[50;181H[1m[7m1 [11;65H[?12l[?25h[?25l[m[51;175H~@k[11;65H[51;175H   [11;66H[50;181H[1m[7m2 [11;66H[?12l[?25h[?25l[m[51;175H~@k[11;66H[51;175H   [11;67H[50;181H[1m[7m3 [11;67H[?12l[?25h[?25l[m[51;175H~@k[11;67H[51;175H   [11;68H[50;181H[1m[7m4 [11;68H[?12l[?25h[?25l[m[51;175H~@k[11;68H[51;175H   [11;69H[50;181H[1m[7m5 [11;69H[?12l[?25h[?25l[m[51;175H~@k[11;69H[51;175H   [11;70H[50;181H[1m[7m6 [11;70H[?12l[?25h[?25l[m[51;175H~@k[11;70H[51;175H   [11;71H[50;181H[1m[7m7 [11;71H[?12l[?25h[?25l[m[51;175H~@k[11;71H[51;175H   [11;72H[50;181H[1m[7m8 [11;72H[?12l[?25h[?25l[m[51;175H~@k[11;72H[51;175H   [11;73H[50;181H[1m[7m9 [11;73H[?12l[?25h[?25l[m[51;175H~@k[11;73H[51;175H   [11;74H[50;180H[1m[7m60 [11;74H[?12l[?25h[?25l[m[51;175H~@k[11;74H[51;175H   [11;75H[50;181H[1m[7m1 [11;75H[?12l[?25h[?25l[m[51;175H~@k[11;75H[51;175H   [11;76H[50;181H[1m[7m2 [11;76H[?12l[?25h[?25l[m[51;175H~@k[11;76H[51;175H   [11;77H[50;181H[1m[7m3 [11;77H[?12l[?25h[?25l[m[51;175H~@k[11;77H[51;175H   [11;78H[50;181H[1m[7m4 [11;78H[?12l[?25h[?25l[m[51;175H~@k[11;78H[51;175H   [11;79H[50;181H[1m[7m5 [11;79H[?12l[?25h[?25l[m[51;175H~@k[11;79H[51;175H   [11;80H[50;181H[1m[7m6 [11;80H[?12l[?25h[?25l[m[51;175H~@k[11;80H[51;175H   [11;81H[50;181H[1m[7m7 [11;81H[?12l[?25h[?25l[m[51;175H~@k[11;81H[51;175H   [11;82H[50;181H[1m[7m8 [11;82H[?12l[?25h[?25l[m[51;175H~@k[11;82H[51;175H   [11;83H[50;181H[1m[7m9 [11;83H[?12l[?25h[?25l[m[51;175H~@k[11;83H[51;175H   [11;84H[50;180H[1m[7m70 [11;84H[?12l[?25h[?25l[m[51;175H~@k[11;84H[51;175H   [11;85H[50;181H[1m[7m1 [11;85H[?12l[?25h[?25l[m[51;175H~@k[11;85H[51;175H   [11;86H[50;181H[1m[7m2 [11;86H[?12l[?25h[?25l[m[51;175H~@k[11;86H[51;175H   [11;87H[50;181H[1m[7m3 [11;87H[?12l[?25h[?25l[m[51;175H~@k[11;87H[51;175H   [11;88H[50;181H[1m[7m4 [11;88H[?12l[?25h[?25l[m[51;175H~@k[11;88H[51;175H   [11;89H[50;181H[1m[7m5 [11;89H[?12l[?25h[?25l[m[51;175H~@k[11;89H[51;175H   [11;90H[50;181H[1m[7m6 [11;90H[?12l[?25h[?25l[m[51;175H~@k[11;90H[51;175H   [11;91H[50;181H[1m[7m7 [11;91H[?12l[?25h[?25l[m[51;175H~@k[11;91H[51;175H   [11;92H[50;181H[1m[7m8 [11;92H[?12l[?25h[?25l[m[51;175H~@k[11;92H[51;175H   [11;93H[50;181H[1m[7m9 [11;93H[?12l[?25h[?25l[m[51;175H~@k[11;93H[51;175H   [11;94H[50;180H[1m[7m80 [11;94H[?12l[?25h[?25l[m[51;175H~@k[11;94H[51;175H   [11;95H[50;181H[1m[7m1 [11;95H[?12l[?25h[?25l[m[51;175H~@k[11;95H[51;175H   [11;96H[50;181H[1m[7m2 [11;96H[?12l[?25h[?25l[m[51;175H~@k[11;96H[51;175H   [11;97H[50;181H[1m[7m3 [11;97H[?12l[?25h[?25l[m[51;175H~@k[11;97H[51;175H   [11;98H[50;181H[1m[7m4 [11;98H[?12l[?25h[?25l[m[51;175H~@k[11;98H[51;175H   [11;99H[50;181H[1m[7m5 [11;99H[?12l[?25h[?25l[m[51;175H~@k[11;99H[51;175H   [11;100H[50;181H[1m[7m6 [11;100H[?12l[?25h[?25l[m[51;175H~@k[11;100H[51;175H   [11;101H[50;181H[1m[7m7 [11;101H[?12l[?25h[?25l[m[51;175H~@k[11;101H[51;175H   [11;102H[50;181H[1m[7m8 [11;102H[?12l[?25h[?25l[m[51;175H~@k[11;102H[51;175H   [11;103H[50;181H[1m[7m9 [11;103H[?12l[?25h[?25l[m[51;175H~@k[11;103H[51;175H   [11;104H[50;180H[1m[7m90 [11;104H[?12l[?25h[?25l[m[51;175H~@k[11;104H[51;175H   [11;105H[50;181H[1m[7m1 [11;105H[?12l[?25h[?25l[m[51;175H~@k[11;105H[51;175H   [11;106H[50;181H[1m[7m2 [11;106H[?12l[?25h[?25l[m[51;175H~@k[11;106H[51;175H   [11;107H[50;181H[1m[7m3 [11;107H[?12l[?25h[?25l[m[51;175H~@k[11;107H[51;175H   [11;108H[50;181H[1m[7m4 [11;108H[?12l[?25h[?25l[m[51;175H~@k[11;108H[51;175H   [11;109H[50;181H[1m[7m5 [11;109H[?12l[?25h[?25l[m[51;175H~@k[11;109H[51;175H   [11;110H[50;181H[1m[7m6 [11;110H[?12l[?25h[?25l[m[51;175H~@k[11;110H[51;175H   [11;111H[50;181H[1m[7m7 [11;111H[?12l[?25h[?25l[m[51;175H~@k[11;111H[51;175H   [11;112H[50;181H[1m[7m8 [11;112H[?12l[?25h[?25l[m[51;175H~@k[11;112H[51;175H   [11;113H[50;181H[1m[7m9 [11;113H[?12l[?25h[?25l[m[51;175H~@k[11;113H[51;175H   [11;112H[50;181H[1m[7m8 [11;112H[?12l[?25h[?25l[m[51;175Hi[11;112H[51;175H [11;112H[51;1H[1m-- INSERT --[11;112H[?12l[?25h[?25l[m[38;5;224m | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[11;129H[K[50;181H[1m[7m7 [11;111H[?12l[?25h[?25l[m[38;5;224m8 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[50;181H[1m[7m8 [11;112H[?12l[?25h[50;181H9 [11;113H[50;175H147,100 [11;114H[50;181H1 [11;115H[50;181H2 [11;116H[50;181H3 [11;117H[50;181H4 [11;118H[50;181H5 [11;119H[50;181H6 [11;120H[50;181H7 [11;121H[50;181H8 [11;122H[50;181H9 [11;123H[50;180H10 [11;124H[50;181H1 [11;125H[50;181H2 [11;126H[50;181H3 [11;127H[50;181H4 [11;128H[50;181H5 [11;129H[50;181H6 [11;130H[50;181H5 [11;129H[?25l[m[38;5;224m`[m[11;129H[K[50;181H[1m[7m4 [11;128H[?12l[?25h[?25l[m[38;5;224m`[m[11;128H[K[50;181H[1m[7m3 [11;127H[?12l[?25h[?25l[m[38;5;224m`[m[11;127H[K[50;181H[1m[7m2 [11;126H[?12l[?25h[?25l[m[38;5;224m`[m[11;126H[K[50;181H[1m[7m1 [11;125H[?12l[?25h[?25l[m[38;5;224m`[m[11;125H[K[12;1H[38;5;224m                   while ! curl [13C:[8C ; do [44C; [5C [1C ; done
                   lb_addresses[[m[1C[95mexpr [2C - [m[2C[38;5;224m]=
#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$[m[12C[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                
                [24C/[9C/bin/logstash agent -f [24C/indexer_logstash.conf > /tmp/stdout_logstash [1C> /tmp/stderr_logstash &
                

                #timestamp of the beginning of the experiments
                [16C$[m[1Cdate +%s[1C[38;5;224m             

                #launch the green energy availability file reader
                [13C/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [13C/experiments/rubis_energy_ls/scripts/green_energy_availability.txt [2C  &

                [25C 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[1C[38;5;224mp[m[1C[95m $INJECTOR_NODES_FILE)
                     ssh -o "[24C" root@$injector_node "[17C\"[15C$lb_addresses[`expr $i - 1`]:$LB_PORT[m[36;53H[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[8C > ~/run.log [1C>&[1C &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="[15C$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID

                #on sauvegarde les donn√©e li√©es √† l[m[93m'[m[38;5;224m√©tat de la plateforme
                cp [25C [16C/state_plateforme.log[m[50;181H[1m[7m0 [11;124H[?12l[?25h[?25l[m[38;5;224m`[m[11;124H[K[50;180H[1m[7m09 [11;123H[?12l[?25h[?25l[m[38;5;224m`[m[11;123H[K[12;1H                   [93mwhile ! curl [13C:[8C ; do[m [44C; [5C [1C ; [93mdone[m
                   lb_addresses[93m[[1Cexpr[m[38;5;224m [2C - [m[2C[93m]=[m
[96m#                  export JAVA_OPTS="-DlbURL=http://$[12C:$LB_PORT"[m
                [93mdone[m

                
                [24C/[9C/bin/logstash agent [93m-f[m [24C/indexer_logstash.conf [93m>[m /tmp/stdout_logstash [1C[93m>[m /tmp/stderr_logstash &
                

                [96m#timestamp of the beginning of the experiments[m
                [16C[38;5;81m$[m[1C[38;5;224mdate +%s[m[1C             

                [96m#launch the green energy availability file reader[m
                [13C/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [13C/experiments/rubis_energy_ls/scripts/green_energy_availability.txt [2C  &

                [25C 

        
                [96m#on lance l'exp√©rience[m
                [1m[96mend[m=[38;5;224m`[m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m - [1C`[m
                [93mfor[m i [93min[m [38;5;224m`seq [1C [m[38;5;81m$end[m[38;5;224m`[m
                [93mdo[m
                     [1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[1C[95mp[m[1C[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m
                     ssh [93m-o[m [93m"[24C"[m root@[38;5;81m$injector_node[m [93m"[m[17C[38;5;224m\"[m[15C[38;5;81m$lb_addresses[m[1C[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m - [1C`[m[2C[38;5;81m$LB_PORT[m[36;53H[95m'nohup ~/gatling/bin/gatling.sh -nr -s elastica.[8C > ~/run.log 2>&1 &'[m[93m"[m [93m-i[m /tmp/id_rsa
                [93mdone[m 
                
                [93mexport[m[1m[96m JAVA_OPTS=[m[93m"[m[15C[38;5;81m$lb_addresses[m[1C[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$NB_INSTANCES[m[38;5;224m - [1C`[m[2C[38;5;81m$LB_PORT[m[93m"[m
                [38;5;81m$PROJECT_PATH[m/gatling/bin/gatling.sh [38;5;224m-nr[m [93m-s[m elastica.[38;5;81m$pattern[m

                [96m#timestamp of the beginning of the end of the experiments[m
                [1m[96mend_timestamp[m=[38;5;81m$([m[38;5;224mdate +%s[m[38;5;81m)[m               
        
                [93mkill[m [38;5;81m$GREEN_AVAILABILITY_PID[m
                [93mkill[m [38;5;81m$LOGSTASH_PID[m

                [96m#on sauvegarde les donn√©e li√©es √† l'√©tat de la plateforme[m
                cp [25C [16C/state_plateforme.log[50;181H[1m[7m8 [11;122H[?12l[?25h[?25l[m[38;5;224m`[m[11;122H[K[50;181H[1m[7m7 [11;121H[?12l[?25h[?25l[m[38;5;224m`[m[11;121H[K[50;181H[1m[7m6 [11;120H[?12l[?25h[?25l[m[38;5;224m`[m[11;120H[K[50;181H[1m[7m5 [11;119H[?12l[?25h[?25l[m[38;5;224m`[m[11;119H[K[50;181H[1m[7m4 [11;118H[?12l[?25h[?25l[m[38;5;224m`[m[11;118H[K[50;181H[1m[7m3 [11;117H[?12l[?25h[?25l[m[38;5;224m`[m[11;117H[K[50;181H[1m[7m2 [11;116H[?12l[?25h[?25l[m[38;5;224m`[m[11;116H[K[50;181H[1m[7m1 [11;115H[?12l[?25h[?25l[m[38;5;224m`[m[11;115H[K[50;181H[1m[7m0 [11;114H[?12l[?25h[?25l[m[38;5;224m`[m[11;114H[K[50;175H[1m[7m 147,99 [11;113H[?12l[?25h[?25l[m[38;5;224m`[m[11;113H[K[50;181H[1m[7m8 [11;112H[?12l[?25h[m[51;1H[K[11;111H[?25l[51;175H^[[11;111H[?12l[?25h[?25l[51;175H  [11;112H[50;181H[1m[7m7 [11;111H[?12l[?25h[?25l[m[51;175H:[11;111H[51;175H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"bench.sh" 244L, 7693C written[11;111H[50;9H[1m[7m    [11;111H[?12l[?25h[?25l[m[51;175H:[11;111H[51;1H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"bench.sh" 244L, 7693C written[11;111H[?12l[?25h[?25l[51;175H:[11;111H[51;1H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;2H[K[51;2H[?12l[?25h [?25l[11;111H[?12l[?25h[?25l[51;175H~@k[11;111H[51;175H   [11;110H[50;181H[1m[7m6 [11;110H[?12l[?25h[?25l[m[51;175H^[[11;110H[?12l[?25h[?25l[51;175H  [11;110H[?12l[?25h[?25l[51;175H~@k[11;110H[51;175H   [12;110H[50;178H[1m[7m8,[12;110H[?12l[?25h[?25l[m[51;175H/[12;110H[51;175H[K[51;1H/[?12l[?25h[?25l\<ADRESS_IP_LB\>[13;49H[7m[38;5;81mADRESS_IP_LB[m[50;178H[1m[7m9,35 [51;18H[?12l[?25h[?25l[m[51;17H[K[13;49H[30m[103mADRESS_IP_LB[m[50;178H[1m[7m8,96 [51;17H[?12l[?25h[?25l[m[51;16H[K[13;49H[7m[38;5;81mADRESS_IP_LB[m[50;178H[1m[7m9,35 [51;16H[?12l[?25h[?25l[mADRESS_IP_LB[51;15H[K[13;49H[30m[103mADRESS_IP_LB[m[50;178H[1m[7m8,96 
[m/\[?12l[?25h[?25lADRESS_IP_LB[51;14H[K[13;49H[7m[38;5;81mADRESS_IP_LB[m[50;178H[1m[7m9,35 
[m/[?12l[?25h[?25l[13;49H[30m[103mADRESS_IP_LB[13;49H[?12l[?25h[?25l[m[51;175H/[13;49H[51;1H[K[51;1H/[?12l[?25h[?25lADRESS_IP_LB[14;54H[7m[96mADRESS_IP_LB[m[50;177H[1m[7m50,41 [51;14H[?12l[?25h[?25l[14;54H[m[30m[103mADRESS_IP_LB[14;54H[?12l[?25h[?25l[m[51;175H/[14;54H[51;1H[K[51;1H/[?12l[?25h[?25lADRESS_IP_LB[1;49r[1;1H[21M[1;51r[30;17H[96m#on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   [m[31;17H[93mmv[m [38;5;81m$PROJECT_PATH[m/gatling/results/* [38;5;81m$path_experiment[m/[33;17H[96m#echo "Gathering result file from localhost"[34;17H#ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report[35;17H#cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`[m[38;17H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$end[m[38;5;224m`[m[39;17H[93mdo[m[40;20H[1m[96minjector_node[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[38;5;81m$i[m[93m'[m[95mp[m[93m'[m[38;5;224m [m[38;5;81m$INJECTOR_NODES_FILE)[m[41;20H[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[96m#                  ssh -n -f root@$injector_node "sh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv ${GATLING_REPORT_DIR}{} ${GATLING_REPORT_DIR}report'"[m[43;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m /tmp/id_rsa  [93m-r[m root@[38;5;81m$injector_node[m:~/gatling/results/* [38;5;81m$path_experiment[m/
[96m# ${GATHER_REPORTS_DIR}simulation-$i.log[m[45;17H[93mdone[47;17Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[48;17H[93mdo[m[49;20H[1m[7m[96mADRESS_IP_LB[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[50;176H[1m[7m 206,6 80%[m[51;1H[K[51;1H/ADRESS_IP_LB[?12l[?25h[?25l[49;20H[1m[30m[103mADRESS_IP_LB[m=[49;20H[?12l[?25h[?25l[51;175H~@k[49;20H[51;175H   [49;16H[1;49r[49;1H
[1;51r[51;1H[K[50;176H[1m[7m207,16 81%[49;16H[?12l[?25h[?25l[m[51;175H~@k[49;16H[51;175H   [48;20H[50;176H[1m[7m 206,6[48;20H[?12l[?25h[?25l[m[51;175H~@k[48;20H[51;175H   [48;21H[50;181H[1m[7m7 [48;21H[?12l[?25h[?25l[m[51;175H~@k[48;21H[51;175H   [48;22H[50;181H[1m[7m8 [48;22H[?12l[?25h[?25l[m[51;175H~@k[48;22H[51;175H   [48;23H[50;181H[1m[7m9 [48;23H[?12l[?25h[?25l[m[51;175H~@k[48;23H[51;175H   [48;24H[50;176H[1m[7m206,10 [48;24H[?12l[?25h[?25l[m[51;175H~@k[48;24H[51;175H   [48;25H[50;181H[1m[7m1 [48;25H[?12l[?25h[?25l[m[51;175H~@k[48;25H[51;175H   [48;26H[50;181H[1m[7m2 [48;26H[?12l[?25h[?25l[m[51;175H~@k[48;26H[51;175H   [48;27H[50;181H[1m[7m3 [48;27H[?12l[?25h[?25l[m[51;175H~@k[48;27H[51;175H   [48;28H[50;181H[1m[7m4 [48;28H[?12l[?25h[?25l[m[51;175H~@k[48;28H[51;175H   [48;29H[50;181H[1m[7m5 [48;29H[?12l[?25h[?25l[m[51;175H~@k[48;29H[51;175H   [48;30H[50;181H[1m[7m6 [48;30H[?12l[?25h[?25l[m[51;175H~@k[48;30H[51;175H   [48;31H[50;181H[1m[7m7 [48;31H[?12l[?25h[?25l[m[51;175H~@k[48;31H[51;175H   [48;32H[50;181H[1m[7m8 [48;32H[?12l[?25h[?25l[m[51;175H~@k[48;32H[51;175H   [48;33H[50;181H[1m[7m9 [48;33H[?12l[?25h[?25l[m[51;175H~@k[48;33H[51;175H   [48;34H[50;180H[1m[7m20 [48;34H[?12l[?25h[?25l[m[51;175H~@k[48;34H[51;175H   [48;35H[50;181H[1m[7m1 [48;35H[?12l[?25h[?25l[m[51;175H~@k[48;35H[51;175H   [48;36H[50;181H[1m[7m2 [48;36H[?12l[?25h[?25l[m[51;175H~@k[48;36H[51;175H   [48;37H[50;181H[1m[7m3 [48;37H[?12l[?25h[?25l[m[51;175H~@k[48;37H[51;175H   [48;38H[50;181H[1m[7m4 [48;38H[?12l[?25h[?25l[m[51;175H~@k[48;38H[51;175H   [48;39H[50;181H[1m[7m5 [48;39H[?12l[?25h[?25l[m[51;175H~@k[48;39H[51;175H   [48;40H[50;181H[1m[7m6 [48;40H[?12l[?25h[?25l[m[51;175H~@k[48;40H[51;175H   [48;41H[50;181H[1m[7m7 [48;41H[?12l[?25h[?25l[m[51;175H~@k[48;41H[51;175H   [48;42H[50;181H[1m[7m8 [48;42H[?12l[?25h[?25l[m[51;175H~@k[48;42H[51;175H   [48;43H[50;181H[1m[7m9 [48;43H[?12l[?25h[?25l[m[51;175H~@k[48;43H[51;175H   [48;44H[50;180H[1m[7m30 [48;44H[?12l[?25h[?25l[m[51;175H~@k[48;44H[51;175H   [48;45H[50;181H[1m[7m1 [48;45H[?12l[?25h[?25l[m[51;175H~@k[48;45H[51;175H   [48;46H[50;181H[1m[7m2 [48;46H[?12l[?25h[?25l[m[51;175H~@k[48;46H[51;175H   [48;47H[50;181H[1m[7m3 [48;47H[?12l[?25h[?25l[m[51;175H~@k[48;47H[51;175H   [48;48H[50;181H[1m[7m4 [48;48H[?12l[?25h[?25l[m[51;175H~@k[48;48H[51;175H   [48;49H[50;181H[1m[7m5 [48;49H[?12l[?25h[?25l[m[51;175H~@k[48;49H[51;175H   [48;50H[50;181H[1m[7m6 [48;50H[?12l[?25h[?25l[m[51;175H~@k[48;50H[51;175H   [48;51H[50;181H[1m[7m7 [48;51H[?12l[?25h[?25l[m[51;175H~@k[48;51H[51;175H   [48;50H[50;181H[1m[7m6 [48;50H[?12l[?25h[?25l[m[51;175H~@k[48;50H[51;175H   [48;49H[50;181H[1m[7m5 [48;49H[?12l[?25h[?25l[m[51;175H~@k[48;49H[51;175H   [48;48H[50;181H[1m[7m4 [48;48H[?12l[?25h[?25l[m[51;175H~@k[48;48H[51;175H   [48;47H[50;181H[1m[7m3 [48;47H[?12l[?25h[?25l[m[51;175H~@k[48;47H[51;175H   [48;46H[50;181H[1m[7m2 [48;46H[?12l[?25h[?25l[m[51;175H~@k[48;46H[51;175H   [48;45H[50;181H[1m[7m1 [48;45H[?12l[?25h[?25l[m[51;175H~@k[48;45H[51;175H   [48;44H[50;181H[1m[7m0 [48;44H[?12l[?25h[?25l[m[51;175H~@k[48;44H[51;175H   [48;43H[50;180H[1m[7m29 [48;43H[?12l[?25h[?25l[m[51;175H~@k[48;43H[51;175H   [48;42H[50;181H[1m[7m8 [48;42H[?12l[?25h[?25l[m[51;175H~@k[48;42H[51;175H   [48;41H[50;181H[1m[7m7 [48;41H[?12l[?25h[?25l[m[51;175H~@k[48;41H[51;175H   [48;40H[50;181H[1m[7m6 [48;40H[?12l[?25h[?25l[m[51;175H~@k[48;40H[51;175H   [48;39H[50;181H[1m[7m5 [48;39H[?12l[?25h[?25l[m[51;175H~@k[48;39H[51;175H   [48;38H[50;181H[1m[7m4 [48;38H[?12l[?25h[?25l[m[51;175H~@k[48;38H[51;175H   [48;37H[50;181H[1m[7m3 [48;37H[?12l[?25h[?25l[m[51;175H~@k[48;37H[51;175H   [48;36H[50;181H[1m[7m2 [48;36H[?12l[?25h[?25l[m[51;175H~@k[48;36H[51;175H   [48;35H[50;181H[1m[7m1 [48;35H[?12l[?25h[?25l[m[51;175H~@k[48;35H[51;175H   [48;34H[50;181H[1m[7m0 [48;34H[?12l[?25h[?25l[m[51;175H~@k[48;34H[51;175H   [48;33H[50;180H[1m[7m19 [48;33H[?12l[?25h[?25l[m[51;175H~@k[48;33H[51;175H   [48;34H[50;180H[1m[7m20 [48;34H[?12l[?25h[?25l[m[51;175H~@@[48;34H[51;175H   [48;129H[50;175H[1m[7m206,115 [48;129H[?12l[?25h[?25l[m[51;175Hi[48;129H[51;175H [48;129H


[1m-- INSERT --[48;129H[?12l[?25h[?25l[m[38;5;224m`[m[48;129H[K[50;9H[1m[7m[+][169C4 [48;128H[?12l[?25h[?25l[m[38;5;224m`[m[48;128H[K[50;181H[1m[7m3 [48;127H[?12l[?25h[?25l[m[38;5;224m`[m[48;127H[K[50;181H[1m[7m2 [48;126H[?12l[?25h[?25l[m[38;5;224m`[m[48;126H[K[50;181H[1m[7m1 [48;125H[?12l[?25h[?25l[m[38;5;224m`[m[48;125H[K[49;1H[38;5;224m                [m[50;181H[1m[7m0 [48;124H[?12l[?25h[?25l[m[38;5;224m`[m[48;124H[K[50;180H[1m[7m09 [48;123H[?12l[?25h[?25l[m[38;5;224m`[m[48;123H[K[49;1H                [50;181H[1m[7m8 [48;122H[?12l[?25h[?25l[m[38;5;224m`[m[48;122H[K[50;181H[1m[7m7 [48;121H[?12l[?25h[?25l[m[38;5;224m`[m[48;121H[K[50;181H[1m[7m6 [48;120H[?12l[?25h[?25l[m[38;5;224m`[m[48;120H[K[50;181H[1m[7m5 [48;119H[?12l[?25h[?25l[m[38;5;224m`[m[48;119H[K[50;181H[1m[7m4 [48;118H[?12l[?25h[?25l[m[38;5;224m`[m[48;118H[K[50;181H[1m[7m3 [48;117H[?12l[?25h[?25l[m[38;5;224m`[m[48;117H[K[50;181H[1m[7m2 [48;116H[?12l[?25h[?25l[m[38;5;224m`[m[48;116H[K[50;181H[1m[7m1 [48;115H[?12l[?25h[?25l[m[38;5;224m`[m[48;115H[K[50;181H[1m[7m0 [48;114H[?12l[?25h[?25l[m[38;5;224m`[m[48;114H[K[50;175H[1m[7m 206,99 [48;113H[?12l[?25h[?25l[m[38;5;224m`[m[48;113H[K[50;181H[1m[7m8 [48;112H[?12l[?25h[50;181H7 [48;111H[50;181H8 [48;112H[?25l[m[38;5;224m`[m[48;112H[K[50;181H[1m[7m7 [48;111H[?12l[?25h[?25l[m[38;5;224m8`[m[50;181H[1m[7m8 [48;112H[?12l[?25h[50;178H7,17 [49;17H[?25l[1;49r[m[49;1H
[1;51r[49;20H[96m#on sauvegarde les donn√©es li√©es a nginx[m[50;178H[1m[7m8,55 [49;60H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;20Hscp [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa ubuntu@[38;5;81m$[m[30m[103mADRESS_IP_LB[m:/root/access_nginx.log [38;5;81m$path_experiment[m/access_nginx[38;5;81m${i}[m.log[50;178H[1m[7m9,98 82%[49;112H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;17H[93mdone[m[50;177H[1m[7m10,14 [49;21H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;176H[1m[7m 211,2 83%[49;9H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;179H[1m[7m2,[49;9H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;17H[96m#on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[50;176H[1m[7m213,57 84%[49;68H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;17H[93mmv[m [38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/output-system.csv [38;5;81m$path_experiment[m/[50;178H[1m[7m4,66 [49;80H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;176H[1m[7m 215,3 85%[49;17H[?12l[?25h[50;176H214,66 [48;80H[50;178H3,57 [47;68H[50;176H 212,2 [46;9H[50;179H1,[45;9H[50;176H210,14 [44;21H[50;177H09,98 [43;112H[50;178H8,55 [42;60H[50;178H7,17 [41;17H[50;178H6,98 [40;112H[50;176H 205,5 [39;19H[50;176H204,40 [38;54H[50;176H 203,1 [37;1H[50;179H2,7 [36;21H[m[51;1H[K[36;20H[?25l[51;175H^[[36;20H[?12l[?25h[?25l[51;175H  [36;21H[50;181H[1m[7m6 [36;20H[?12l[?25h[?25l[m[51;175H/[36;20H[51;175H[K[51;1H/[?12l[?25hl[?25l[38;44H[7m[38;5;81mL[m[50;176H[1m[7m204,30 
[m/l[?12l[?25hi[?25l[38;45H[7m[38;5;81mI[51;4H[?12l[?25h[ms[?25l[38;44H[38;5;81mLI[m[40;39H[7m[38;5;224mlis[m[50;178H[1m[7m6,25 
[m/lis[?12l[?25ht[?25l[40;42H[7m[38;5;224mt[51;6H[?12l[?25h[?25l[40;39H[m[40;20H[1m[96mADRESS_IP_LB[m=[6C[30m[103mlist[m[43;86H[38;5;81mADRESS_IP_LB[40;39H[?12l[?25h[?25l[m[51;175H/[40;39H[51;1H[K[51;1H/[?12l[?25h[?25llist[27m[23m[m[H[2J[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[7m[38;5;224mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                                                     59,23 17%[m[51;1H/list[?12l[?25h[?25l[38;5;224msearch hit BOTTOM, continuing at TOP[25;30H[m[30m[103mlist[?12l[?25h[?25l[m[51;175H~@k[25;30H[51;175H   [25;31H[50;181H[1m[7m4 [25;31H[?12l[?25h[?25l[m[51;175H~@k[25;31H[51;175H   [25;32H[50;181H[1m[7m5 [25;32H[?12l[?25h[?25l[m[51;175H~@k[25;32H[51;175H   [25;33H[50;181H[1m[7m6 [25;33H[?12l[?25h[?25l[m[51;175H~@k[25;33H[51;175H   [25;34H[50;181H[1m[7m7 [25;34H[?12l[?25h[?25l[m[51;175H~@k[25;34H[51;175H   [25;35H[50;181H[1m[7m8 [25;35H[?12l[?25h[?25l[m[51;175H~@k[25;35H[51;175H   [25;36H[50;181H[1m[7m9 [25;36H[?12l[?25h[?25l[m[51;175H~@k[25;36H[51;175H   [25;37H[50;180H[1m[7m30 [25;37H[?12l[?25h[?25l[m[51;175H~@k[25;37H[51;175H   [25;38H[50;181H[1m[7m1 [25;38H[?12l[?25h[?25l[m[51;175H~@k[25;38H[51;175H   [25;39H[50;181H[1m[7m2 [25;39H[?12l[?25h[?25l[m[51;175H~@k[25;39H[51;175H   [25;40H[50;181H[1m[7m3 [25;40H[?12l[?25h[?25l[m[51;175H~@k[25;40H[51;175H   [25;41H[50;181H[1m[7m4 [25;41H[?12l[?25h[?25l[m[51;175H~@k[25;41H[51;175H   [25;42H[50;181H[1m[7m5 [25;42H[?12l[?25h[?25l[m[51;175H~@k[25;42H[51;175H   [25;43H[50;181H[1m[7m6 [25;43H[?12l[?25h[?25l[m[51;175H~@k[25;43H[51;175H   [25;44H[50;181H[1m[7m7 [25;44H[?12l[?25h[?25l[m[51;175H~@k[25;44H[51;175H   [25;45H[50;181H[1m[7m8 [25;45H[?12l[?25h[?25l[m[51;175H~@k[25;45H[51;175H   [25;46H[50;181H[1m[7m9 [25;46H[?12l[?25h[?25l[m[51;175H~@k[25;46H[51;175H   [25;47H[50;180H[1m[7m40 [25;47H[?12l[?25h[?25l[m[51;175H~@k[25;47H[51;175H   [25;48H[50;181H[1m[7m1 [25;48H[?12l[?25h[?25l[m[51;175H~@k[25;48H[51;175H   [25;49H[50;181H[1m[7m2 [25;49H[?12l[?25h[?25l[m[51;175H~@k[25;49H[51;175H   [25;50H[50;181H[1m[7m3 [25;50H[?12l[?25h[?25l[m[51;175H~@k[25;50H[51;175H   [25;51H[50;181H[1m[7m4 [25;51H[?12l[?25h[?25l[m[51;175H~@k[25;51H[51;175H   [25;52H[50;181H[1m[7m5 [25;52H[?12l[?25h[?25l[m[51;175H~@k[25;52H[51;175H   [25;53H[50;181H[1m[7m6 [25;53H[?12l[?25h[?25l[m[51;175H~@k[25;53H[51;175H   [25;54H[50;181H[1m[7m7 [25;54H[?12l[?25h[?25l[m[51;175H~@k[25;54H[51;175H   [25;55H[50;181H[1m[7m8 [25;55H[?12l[?25h[?25l[m[51;175H~@k[25;55H[51;175H   [25;56H[50;181H[1m[7m9 [25;56H[?12l[?25h[?25l[m[51;175H~@k[25;56H[51;175H   [25;57H[50;180H[1m[7m50 [25;57H[?12l[?25h[?25l[m[51;175H~@k[25;57H[51;175H   [25;58H[50;181H[1m[7m1 [25;58H[?12l[?25h[?25l[m[51;175H~@k[25;58H[51;175H   [25;59H[50;181H[1m[7m2 [25;59H[?12l[?25h[?25l[m[51;175H~@k[25;59H[51;175H   [25;60H[50;181H[1m[7m3 [25;60H[?12l[?25h[?25l[m[51;175H~@k[25;60H[51;175H   [25;61H[50;181H[1m[7m4 [25;61H[?12l[?25h[?25l[m[51;175H~@k[25;61H[51;175H   [25;62H[50;181H[1m[7m5 [25;62H[?12l[?25h[?25l[m[51;175H~@k[25;62H[51;175H   [25;63H[50;181H[1m[7m6 [25;63H[?12l[?25h[?25l[m[51;175H~@k[25;63H[51;175H   [25;64H[50;181H[1m[7m7 [25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                                                    59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                                                   59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                                                  59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                                                59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                                              59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                                            59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                                          59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                                        59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                                      59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                                    59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                                   59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                                 59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                               59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                             59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                            59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                           59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                          59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                        59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                                   59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                            59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                                    59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                             59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                      59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                                59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                             59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                           59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                        59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                       59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                      59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[46;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[47;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[96m}[m
[1m[7mbench.sh[+]                                                                                     59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f22[46;1H`[m[47;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[48;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[7mbench.sh[+]                                                                                    59,57 17%[25;64H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[9;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[19;1H[1m[96mname_tier[m=tier[24;1H[1m[96merase_plateforme () {[m[25;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m novanetwork | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[26;9H[93mdo[m[27;17Hnova delete [38;5;81m$name_vm[m[28;9H[93mdone[30;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][31;9Hthen[32;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[33;9H[93mfi[34;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[35;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[36;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[37;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[44;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m[45;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -ff[46;1H2`[m[47;7H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[48;7H$PROJECT_PATH[m/apicloud/scale-iaas.sh out [38;5;81m$name_tier$i[m
    [93mdone[m
[1m[7mbench.sh[+]                                                                                   59,57 17%[25;64H[?12l[?25h[?25l[m[51;93H~@k[25;64H[51;93H   [25;63H[50;99H[1m[7m6 [25;63H[?12l[?25h[?25l[m[51;93H~@k[25;63H[51;93H   [25;62H[50;99H[1m[7m5 [25;62H[?12l[?25h[?25l[m[51;93H~@k[25;62H[51;93H   [25;61H[50;99H[1m[7m4 [25;61H[?12l[?25h[?25l[m[51;93H~@k[25;61H[51;93H   [25;60H[50;99H[1m[7m3 [25;60H[?12l[?25h[?25l[m[51;93H~@k[25;60H[51;93H   [25;59H[50;99H[1m[7m2 [25;59H[?12l[?25h[?25l[m[51;93H~@k[25;59H[51;93H   [25;58H[50;99H[1m[7m1 [25;58H[?12l[?25h[?25l[m[51;93H~@k[25;58H[51;93H   [25;57H[50;99H[1m[7m0 [25;57H[?12l[?25h[?25l[m[51;93H~@k[25;57H[51;93H   [25;56H[50;98H[1m[7m49 [25;56H[?12l[?25h[?25l[m[51;93H~@k[25;56H[51;93H   [25;55H[50;99H[1m[7m8 [25;55H[?12l[?25h[?25l[m[51;93H~@k[25;55H[51;93H   [25;54H[50;99H[1m[7m7 [25;54H[?12l[?25h[?25l[m[51;93H~@k[25;54H[51;93H   [25;53H[50;99H[1m[7m6 [25;53H[?12l[?25h[?25l[m[51;93Hi[25;53H[51;93H [25;53H[51;1H[1m-- INSERT --[25;53H[?12l[?25h[?25l[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[25;96H[K[50;99H[1m[7m5 [25;52H[?12l[?25h[?25l[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[25;95H[K[50;99H[1m[7m4 [25;51H[?12l[?25h[?25l[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[25;94H[K[50;99H[1m[7m3 [25;50H[?12l[?25h[?25l[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[25;93H[K[50;99H[1m[7m2 [25;49H[?12l[?25h[?25l[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[25;92H[K[50;99H[1m[7m1 [25;48H[?12l[?25h[?25l[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[25;91H[K[50;99H[1m[7m0 [25;47H[?12l[?25h[?25l[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[25;90H[K[50;98H[1m[7m39 [25;46H[?12l[?25h[?25l[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[25;89H[K[50;99H[1m[7m8 [25;45H[?12l[?25h[?25l[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[25;88H[K[50;99H[1m[7m7 [25;44H[?12l[?25h[?25l[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[25;87H[K[50;99H[1m[7m6 [25;43H[?12l[?25h[?25l[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[25;86H[K[50;99H[1m[7m5 [25;42H[?12l[?25h[?25l[m[38;5;224mp | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[50;99H[1m[7m6 [25;43H[?12l[?25h[?25l[m[38;5;224mr | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[50;99H[1m[7m7 [25;44H[?12l[?25h[?25l[m[38;5;224mi | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[50;99H[1m[7m8 [25;45H[?12l[?25h[?25l[m[38;5;224mv | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[50;99H[1m[7m9 [25;46H[?12l[?25h[?25l[m[38;5;224ma | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[50;98H[1m[7m40 [25;47H[?12l[?25h[?25l[m[38;5;224mt | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[50;99H[1m[7m1 [25;48H[?12l[?25h[?25l[m[38;5;224me | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[50;99H[1m[7m2 [25;49H[?12l[?25h[50;95H 60,4 [26;11H[50;95H61,24[27;38H[50;95H 62,6 [28;13H[50;97H3,2 [29;9H[?25l[m[30;12H[93m[46m[[31C][m[50;95H[1m[7m64,45 [30;45H[?12l[?25h[?25l[m[30;12H[93m[[31C][m[50;95H[1m[7m 65,6 [31;13H[?12l[?25h[50;95H66,31 [32;45H[50;95H 67,4 [33;11H[50;95H68,38 [34;45H[50;96H9,[35;45H[50;95H70,[36;45H[50;96H1,27 [37;41H[50;95H 72,2 [38;9H[?25l[m[24;21H[1m[96m[46m{[39;1H}[m[50;97H[1m[7m3,[39;2H[?12l[?25h[?25l[m[24;21H[1m[96m{[39;1H}[m[50;97H[1m[7m4,1 [40;1H[?12l[?25h[50;97H5,2 [41;2H[50;97H6,[42;2H[50;97H7,[43;2H[50;97H8,[44;2H[50;97H9,[45;2H[50;96H80,[47;2H[50;97H1,[48;2H[50;97H2,[49;2H[?25l[1;49r[m[49;1H
[1;51r[49;1H[1m[96m}[m[40;20H[1m[96m[46m{[49;1H}[m[50;97H[1m[7m3,[49;2H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[39;20H[1m[96m{[48;1H}[m[50;97H[1m[7m4,1 18%[49;1H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;97H[1m[7m5,[49;1H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[1m[96mreset_plateforme () {[m[50;97H[1m[7m6,2 19%[49;2H[?12l[?25h[50;97H5,1 [48;1H[50;97H4,[47;1H[?25l[m[37;20H[1m[96m[46m{[46;1H}[m[50;97H[1m[7m3,2 [46;2H[?12l[?25h[?25l[m[37;20H[1m[96m{[46;1H}[m[50;97H[1m[7m2,[45;2H[?12l[?25h[50;97H1,[44;2H[50;97H0,[43;2H[50;96H79,[41;2H[50;99H3 [41;3H[50;99H4 [41;4H[50;99H5 [41;5H[50;99H6 [41;6H[50;99H7 [41;7H[50;99H8 [41;8H[50;99H9 [41;9H[50;95H79,10 [41;10H[50;99H1 [41;11H[50;99H2 [41;12H[50;99H3 [41;13H[50;99H4 [41;14H[50;99H5 [41;15H[50;99H6 [41;16H[50;99H7 [41;17H[50;99H8 [41;18H[50;99H9 [41;19H[50;98H20 [41;20H[50;99H1 [41;21H[50;99H2 [41;22H[50;99H3 [41;23H[50;99H4 [41;24H[50;99H5 [41;25H[50;99H6 [41;26H[50;99H7 [41;27H[50;99H8 [41;28H[50;99H9 [41;29H[50;98H30 [41;30H[50;99H1 [41;31H[50;99H2 [41;32H[50;99H3 [41;33H[50;99H4 [41;34H[50;99H5 [41;35H[50;99H6 [41;36H[50;99H7 [41;37H[50;99H8 [41;38H[50;99H9 [41;39H[50;98H40 [41;40H[50;99H1 [41;41H[50;99H2 [41;42H[50;99H3 [41;43H[50;99H4 [41;44H[50;99H5 [41;45H[50;99H6 [41;46H[50;99H7 [41;47H[50;99H8 [41;48H[50;99H9 [41;49H[50;98H50 [41;50H[50;99H1 [41;51H[50;99H2 [41;52H[50;99H3 [41;53H[50;99H4 [41;54H[50;99H5 [41;55H[50;99H6 [41;56H[50;99H7 [41;57H[50;99H8 [41;58H[50;99H9 [41;59H[50;98H60 [41;60H[50;99H1 [41;61H[50;99H2 [41;62H[50;99H3 [41;63H[50;99H4 [41;64H[50;99H5 [41;65H[50;99H6 [41;66H[50;99H7 [41;67H[50;99H8 [41;68H[50;99H9 [41;69H[50;98H70 [41;70H[50;99H1 [41;71H[50;99H2 [41;72H[50;99H3 [41;73H[50;99H4 [41;74H[50;99H5 [41;75H[50;99H4 [41;74H[50;99H3 [41;73H[50;99H2 [41;72H[50;99H1 [41;71H[50;99H0 [41;70H[50;98H69 [41;69H[50;99H8 [41;68H[50;99H7 [41;67H[50;95H 79,1 [41;1H[?25l[m[96m#      DB_IP_ADDRESS=`nova [m[30m[103mlist[m[96m | grep dbtier$i | tr "|" " " |tr -s " " | cut -d ' ' -f5 | cut -d "=" --[42;1Hf2`[m[50;99H[1m[7m2 [41;2H[?12l[?25h[50;99H3 [41;3H[50;99H4 [41;4H[50;99H5 [41;5H[50;99H6 [41;6H[50;99H7 [41;7H[50;99H8 [41;8H[m[51;1H[K[41;7H[?25l[51;93H^[[41;7H[?12l[?25h[?25l[51;93H  [41;8H[50;99H[1m[7m7 [41;7H[?12l[?25h[?25l[m[51;93Hv[41;7H[51;93H1[41;7H[96C[96m--[42;1Hf[m[51;1H[1m-- VISUAL --[m[51;93H[K[51;93H1[41;7H[?12l[?25h[?25l[51;93H~@k[41;7H[51;93H2  [43;7H[41;7H[96m[48;5;242m DB_IP_ADDRESS=`nova list | grep dbtier$i | tr "|" " " |tr -s " " | cut -d ' ' -f5 | cut -d "=" --[42;1Hf2`[m[48;5;242m 
      [m[50;96H[1m[7m80,[43;7H[?12l[?25h[?25l[m[51;93H~@k[43;7H[51;93H1  [41;7H[96m DB_IP_ADDRESS=`nova [m[30m[103mlist[m[96m | grep dbtier$i | tr "|" " " |tr -s " " | cut -d ' ' -f5 | cut -d "=" --[42;1Hf2`[m[42;4H[K[43;1H      [50;96H[1m[7m79,[41;7H[?12l[?25h[?25l[m[51;93H~@k[41;7H[51;93H2  [41;6H[1C[96m[48;5;242m [m[95C[96m--[42;1Hf[m[50;99H[1m[7m6 [41;6H[?12l[?25h[?25l[m[51;93H^[[41;6H[?12l[?25h[?25l[51;93H2 [41;6H[51;93H [41;6H[1C[96m [95C--[42;1Hf[m[51;1H[K[41;6H[?12l[?25h[?25l[51;93Hy[41;6H[?12l[?25h[?25l[51;94Hy[41;6H[51;93H  [41;6H[?12l[?25h[?25l[51;93H~@k[41;6H[51;93H   [43;6H[50;96H[1m[7m80,[43;6H[?12l[?25h[?25l[m[51;93Hi[43;6H[51;93H [43;6H[51;1H[1m-- INSERT --[43;6H[?12l[?25h[?25l[44;49r[m[44;1H[L[1;51r[43;7H[K[44;2H[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[m[50;97H[1m[7m1,1 [44;1H[?12l[?25h[?25l[m  [93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[m[50;99H[1m[7m2 [44;2H[?12l[?25h[?25l[m  [93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[m[50;99H[1m[7m3 [44;3H[?12l[?25h[?25l[m  [93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[m[50;99H[1m[7m4 [44;4H[?12l[?25h[?25l[m  [93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[m[50;99H[1m[7m5 [44;5H[?12l[?25h[?25l[m  [93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[m[50;99H[1m[7m6 [44;6H[?12l[?25h[?25l[m  [93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[m[50;99H[1m[7m7 [44;7H[?12l[?25h[50;97H0,6 [43;6H[50;97H1,7 [44;7H[?25l[m[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRES[m[1C[95m [m[93m>[m [38;5;81m$DB_INFO_FILE[m[44;42H[K[50;99H[1m[7m6 [44;6H[?12l[?25h[50;97H0,[43;6H[m[51;1H[K[43;5H[?25l[51;93H^[[43;5H[?12l[?25h[?25l[51;93H  [43;6H[50;99H[1m[7m5 [43;5H[?12l[?25h[?25l[m[51;93Hp[43;5H[51;93H [44;1H[44;49r[44;1H[2L[1;51r[44;1H[96m#      DB_IP_ADDRESS=`nova [m[30m[103mlist[m[96m | grep dbtier$i | tr "|" " " |tr -s " " | cut -d ' ' -f5 | cut -d "=" --[45;1Hf2`[m[50;97H[1m[7m1,1 [44;1H[?12l[?25h[?25l[m[51;93Hi[44;1H[51;93H [44;1H[51;1H[1m-- INSERT --[44;1H[?12l[?25h[m[50;99H[1m[7m2 [44;2H[?25l[m      [1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -ff[45;1H2`[m[45;3H[K[50;99H[1m[7m1 [44;1H[?12l[?25h[50;99H2 [44;2H[50;99H3 [44;3H[50;99H4 [44;4H[50;99H5 [44;5H[50;99H6 [44;6H[50;99H7 [44;7H[50;99H8 [44;8H[50;99H9 [44;9H[50;95H81,10 [44;10H[50;99H1 [44;11H[50;99H2 [44;12H[50;99H3 [44;13H[50;99H4 [44;14H[50;99H5 [44;15H[50;99H6 [44;16H[50;99H7 [44;17H[50;99H8 [44;18H[50;99H9 [44;19H[50;98H20 [44;20H[50;99H1 [44;21H[50;99H2 [44;22H[50;99H3 [44;23H[50;99H4 [44;24H[50;99H5 [44;25H[50;99H6 [44;26H[50;99H7 [44;27H[50;99H8 [44;28H[50;99H9 [44;29H[50;98H30 [44;30H[50;99H1 [44;31H[50;99H2 [44;32H[50;99H3 [44;33H[50;99H4 [44;34H[50;99H5 [44;35H[50;99H6 [44;36H[50;99H7 [44;37H[50;99H8 [44;38H[50;99H9 [44;39H[50;98H40 [44;40H[50;99H1 [44;41H[50;99H2 [44;42H[50;99H3 [44;43H[50;99H4 [44;44H[50;99H5 [44;45H[50;99H6 [44;46H[50;99H7 [44;47H[50;99H8 [44;48H[50;99H9 [44;49H[50;98H50 [44;50H[50;99H1 [44;51H[50;99H2 [44;52H[50;99H3 [44;53H[50;99H4 [44;54H[50;99H5 [44;55H[50;99H6 [44;56H[50;99H7 [44;57H[50;99H8 [44;58H[50;99H9 [44;59H[50;98H60 [44;60H[50;99H1 [44;61H[50;99H2 [44;62H[50;99H3 [44;63H[50;99H4 [44;64H[50;99H5 [44;65H[50;99H6 [44;66H[50;99H7 [44;67H[50;99H8 [44;68H[50;99H9 [44;69H[50;98H70 [44;70H[50;99H1 [44;71H[50;99H2 [44;72H[50;99H3 [44;73H[50;99H4 [44;74H[50;99H5 [44;75H[50;99H6 [44;76H[50;99H7 [44;77H[50;99H8 [44;78H[50;99H9 [44;79H[50;98H80 [44;80H[50;99H1 [44;81H[50;99H2 [44;82H[50;99H3 [44;83H[50;99H4 [44;84H[50;99H5 [44;85H[50;99H6 [44;86H[50;99H7 [44;87H[50;99H8 [44;88H[?25l[m[38;5;224m | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f22[45;1H`[m[45;2H[K[50;99H[1m[7m7 [44;87H[?12l[?25h[?25l[m[38;5;224m8 | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -ff[45;1H2`[m[50;99H[1m[7m8 [44;88H[?12l[?25h[?25l[m[44;88H[K[45;1H[38;5;224m | cut -d [m[93m"[m[95m=[m[93m"[m[38;5;224m -f2`[m[50;95H[1m[7m 82,1 [45;1H[?12l[?25h[m[51;1H[K[45;1H[?25l[51;93H^[[45;1H[?12l[?25h[?25l[51;93H  [45;1H[?12l[?25h[?25l[51;93Hd[45;1H[?12l[?25h[?25l[51;94Hd[45;1H[51;93H  [45;7H[45;49r[49;1H
[1;51r[45;1H[38;5;224m      [20C> 
      [13C/apicloud/scale-iaas.sh out 
    done
}[m[50;99H[1m[7m7 [45;7H[?12l[?25h[?25l[m[51;93H^[[45;7H[?12l[?25h[?25l[51;93H  [45;7H[?12l[?25h[?25l[51;93H:[45;7H[51;93H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"bench.sh" 246L, 7767C written[45;7H[50;9H[1m[7m    [45;7H[?12l[?25h[?25l[m[51;93H:[45;7H[51;1H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"bench.sh" 246L, 7767C written[45;7H[?12l[?25h[?25l[51;93H/[45;7H[51;1H[K[51;1H/[?12l[?25h[?25llist[27m[23m[m[H[2J[1;1H[38;5;224mssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m [m[38;5;81m$G5K_USER[m[38;5;224m@frontend [m[93m"[m[95mmkdir -p ~/results[m[93m"[m

[38;5;224mfor pattern in [m[38;5;81m$PATTERNS_WORKLOAD[m
[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[7mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m  [25;1H[95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que l[m[93m'[m[95mon veut utiliser[m
[1m[7mbench.sh                                                                                     116,43 46%[m[51;1H/list[?12l[?25h[?25l[51;2H[K[27m[23m[m[H[2J[1;1H[96m#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[5;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[15;1H[1m[96mname_tier[m=tier[20;1H[1m[96merase_plateforme () {[m[21;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m private | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[22;9H[93mdo[m[23;17Hnova delete [38;5;81m$name_vm[m[24;9H[93mdone[26;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][27;9Hthen[28;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[29;9H[93mfi[30;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[31;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[32;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[33;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[40;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m
[96m#      DB_IP_ADDRESS=`nova [m[30m[103mlist[m[96m | grep dbtier$i | tr "|" " " |tr -s " " | cut -d ' ' -f5 | cut -d "=" --[42;1Hf2`[m[44;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f8
      [m[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[38;5;224m> [m[38;5;81m$DB_INFO_FILE[m
[38;5;224m      [m[38;5;81m$PROJECT_PATH[m[38;5;224m/apicloud/scale-iaas.sh out [m[38;5;81m$name_tier$i[m
[38;5;224m    done
}[m

[1m[7mbench.sh                                                                                       82,7 19%[m[51;1H/[?12l[?25h[?25llist[27m[23m[m[H[2J[1;1H[38;5;224mssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m [m[38;5;81m$G5K_USER[m[38;5;224m@frontend [m[93m"[m[95mmkdir -p ~/results[m[93m"[m

[38;5;224mfor pattern in [m[38;5;81m$PATTERNS_WORKLOAD[m
[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[7mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m  [25;1H[95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que l[m[93m'[m[95mon veut utiliser[m
[1m[7mbench.sh                                                                                     116,43 46%[m[51;1H/list[?12l[?25h[?25l/ADRESS_IP_LB[1;49r[1;1H[34M[1;51r[16;1H[95m                   echo "$PROJECT_PATH/apicloud/strategies/$strategy.sh \$1 $name_tier$i" >> /root/actii[17;1Hon.sh
                done
                #on logue l[m[93m'[m[38;5;224metat [m[93mdu[m[38;5;224m systeme apres l[m[93m'[m[95maction
                echo "log_cloud_state e_\$1" >> /root/action.sh
                
                for i in `seq 1 $NUMBER_APPLICATIONS`
                do
                #   [m[7m[95mADRESS_IP_LB[m[95m=`nova [m[30m[103mlist[m[95m | grep $name_tier$i"_VM_LB" | tr "|" " " |tr -s " " | cut --[25;1Hd [m[93m'[m[38;5;224m [m[93m'[m[95m -f5 | cut -d "=" -f2`
                   ADRESS_IP_LB=`nova [m[30m[103mlist[m[95m | grep $name_tier$i"_VM_LB" | tr "|" " " |tr -s " " | cut -dd[27;1H [m[93m'[m[38;5;224m [m[93m'[m[95m -f8`
                   while ! curl $ADRESS_IP_LB:$LB_PORT ; do echo "has done curl $ADRESS_IP_LB:$LB_PORT""[29;1H ; sleep 1 ; done
                   lb_addresses[`expr $i - 1`]=$ADRESS_IP_LB
#                  export JAVA_OPTS="-DlbURL=http://$ADRESS_IP_LB:$LB_PORT"
                done

                logstash="logstash-1.4.2"
                $DEFAULT_LOCAL_CONF_PATH/$logstash/bin/logstash agent -f $DEFAULT_LOCAL_CONF_PATH/indexx[36;1Her_logstash.conf > /tmp/stdout_logstash 2> /tmp/stderr_logstash &
                LOGSTASH_PID=$!

                #timestamp of the beginning of the experiments
                start_timestamp=$(date +%s)             

                #launch the green energy availability file reader
                $PROJECT_PATH/experiments/rubis_energy_ls/scripts/green_energy_availability.sh $PROJECTT[44;1H_PATH/experiments/rubis_energy_ls/scripts/green_energy_availability.txt 60  &

                GREEN_AVAILABILITY_PID=$! 

        
                #on lance l[m[93m'[m[38;5;224mexp√©rience[m[50;94H[1m[7m 148,7 61%[m[51;1H[K[51;1H/ADRESS_IP_LB[?12l[?25h[?25l/list[51;6H[K[1;49r[1;1H[34L[1;51r[1;1H[38;5;224mssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m [m[38;5;81m$G5K_USER[m[38;5;224m@frontend [m[93m"[m[95mmkdir -p ~/results[m[93m"[m

[38;5;224mfor pattern in [m[38;5;81m$PATTERNS_WORKLOAD[m
[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[7mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m  [25;1H[95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        [m[50;94H[1m[7m116,43 46%[m[51;1H[K[51;1H/list[?12l[?25h[?25l[51;2H[K[27m[23m[m[H[2J[1;1H[96m#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[5;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[15;1H[1m[96mname_tier[m=tier[20;1H[1m[96merase_plateforme () {[m[21;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m private | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[22;9H[93mdo[m[23;17Hnova delete [38;5;81m$name_vm[m[24;9H[93mdone[26;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][27;9Hthen[28;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[29;9H[93mfi[30;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[31;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[32;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[33;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[40;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m
[96m#      DB_IP_ADDRESS=`nova [m[30m[103mlist[m[96m | grep dbtier$i | tr "|" " " |tr -s " " | cut -d ' ' -f5 | cut -d "=" --[42;1Hf2`[m[44;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f8
      [m[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[38;5;224m> [m[38;5;81m$DB_INFO_FILE[m
[38;5;224m      [m[38;5;81m$PROJECT_PATH[m[38;5;224m/apicloud/scale-iaas.sh out [m[38;5;81m$name_tier$i[m
[38;5;224m    done
}[m

[1m[7mbench.sh                                                                                       82,7 19%[m[51;1H/[?12l[?25h[?25llist[27m[23m[m[H[2J[1;1H[38;5;224mssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m [m[38;5;81m$G5K_USER[m[38;5;224m@frontend [m[93m"[m[95mmkdir -p ~/results[m[93m"[m

[38;5;224mfor pattern in [m[38;5;81m$PATTERNS_WORKLOAD[m
[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[7mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m  [25;1H[95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que l[m[93m'[m[95mon veut utiliser[m
[1m[7mbench.sh                                                                                     116,43 46%[m[51;1H/list[?12l[?25h[?25l[51;2H[K[27m[23m[m[H[2J[1;1H[96m#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[5;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[15;1H[1m[96mname_tier[m=tier[20;1H[1m[96merase_plateforme () {[m[21;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m private | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[22;9H[93mdo[m[23;17Hnova delete [38;5;81m$name_vm[m[24;9H[93mdone[26;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][27;9Hthen[28;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[29;9H[93mfi[30;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[31;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[32;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[33;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[40;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m
[96m#      DB_IP_ADDRESS=`nova [m[30m[103mlist[m[96m | grep dbtier$i | tr "|" " " |tr -s " " | cut -d ' ' -f5 | cut -d "=" --[42;1Hf2`[m[44;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f8
      [m[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[38;5;224m> [m[38;5;81m$DB_INFO_FILE[m
[38;5;224m      [m[38;5;81m$PROJECT_PATH[m[38;5;224m/apicloud/scale-iaas.sh out [m[38;5;81m$name_tier$i[m
[38;5;224m    done
}[m

[1m[7mbench.sh                                                                                       82,7 19%[m[51;1H/[?12l[?25h[?25llist[27m[23m[m[H[2J[1;1H[38;5;224mssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m [m[38;5;81m$G5K_USER[m[38;5;224m@frontend [m[93m"[m[95mmkdir -p ~/results[m[93m"[m

[38;5;224mfor pattern in [m[38;5;81m$PATTERNS_WORKLOAD[m
[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[7mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m  [25;1H[95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que l[m[93m'[m[95mon veut utiliser[m
[1m[7mbench.sh                                                                                     116,43 46%[m[51;1H/list[?12l[?25h[?25l[51;1H[K[45;7H[27m[23m[m[H[2J[1;1H[96m#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[5;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[15;1H[1m[96mname_tier[m=tier[20;1H[1m[96merase_plateforme () {[m[21;9H[93mfor[m name_vm [93min[m [38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m private | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[22;9H[93mdo[m[23;17Hnova delete [38;5;81m$name_vm[m[24;9H[93mdone[26;9Hif [[m [93m-e[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m [93m][27;9Hthen[28;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m/[38;5;81m$name_tier[m[29;9H[93mfi[30;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[31;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[32;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[33;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[40;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m
[96m#      DB_IP_ADDRESS=`nova [m[30m[103mlist[m[96m | grep dbtier$i | tr "|" " " |tr -s " " | cut -d ' ' -f5 | cut -d "=" --[42;1Hf2`[m[44;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f8
      [m[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[38;5;224m> [m[38;5;81m$DB_INFO_FILE[m
[38;5;224m      [m[38;5;81m$PROJECT_PATH[m[38;5;224m/apicloud/scale-iaas.sh out [m[38;5;81m$name_tier$i[m
[38;5;224m    done
}[m

[1m[7mbench.sh                                                                                       82,7 19%[45;7H[?12l[?25h[?25l[m[51;93H^[[45;7H[?12l[?25h[?25l[51;93H  [45;7H[?12l[?25h[?25l[51;93H~@k[45;7H[51;93H   [46;7H[50;97H[1m[7m3,[46;7H[?12l[?25h[?25l[m[51;93H^[[46;7H[?12l[?25h[?25l[51;93H  [46;7H[?12l[?25h[?25l[51;93H^[[46;7H[?12l[?25h[?25l[51;93H  [46;7H[?12l[?25h[?25l[51;93H^[[46;7H[?12l[?25h[?25l[51;93H  [46;7H[?12l[?25h[?25l[51;93H~@k[46;7H[51;93H   [47;7H[50;97H[1m[7m4,[47;7H[?12l[?25h[?25l[m[51;93H~@k[47;7H[51;93H   [48;1H[37;20H[1m[96m[46m{[m[48;1H[38;5;224m[46m}[m[50;97H[1m[7m5,1 [48;1H[?12l[?25h[?25l[m[51;93H~@k[48;1H[51;93H   [47;7H[37;20H[1m[96m{[m[48;1H[38;5;224m}[m[50;97H[1m[7m4,7 [47;7H[?12l[?25h[?25l[m[51;93H~@k[47;7H[51;93H   [46;7H[50;97H[1m[7m3,[46;7H[?12l[?25h[?25l[m[51;93H~@k[46;7H[51;93H   [45;7H[50;97H[1m[7m2,[45;7H[?12l[?25h[?25l[m[51;93H~@k[45;7H[51;93H   [44;7H[50;97H[1m[7m1,[44;7H[?12l[?25h[?25l[m[51;93H~@k[44;7H[51;93H   [43;5H[50;97H[1m[7m0,5 [43;5H[?12l[?25h[?25l[m[51;93H~@k[43;5H[51;93H   [41;7H[50;96H[1m[7m79,7 [41;7H[?12l[?25h[?25l[m[51;93H~@k[41;7H[51;93H   [40;7H[50;97H[1m[7m8,[40;7H[?12l[?25h[?25l[m[51;93H~@k[40;7H[51;93H   [39;6H[50;97H[1m[7m7,6 [39;6H[?12l[?25h[?25l[m[51;93H~@k[39;6H[51;93H   [38;7H[50;97H[1m[7m6,7 [38;7H[?12l[?25h[?25l[m[51;93H~@k[38;7H[51;93H   [37;7H[50;97H[1m[7m5,[37;7H[?12l[?25h[?25l[m[51;93H~@k[37;7H[51;93H   [36;1H[50;97H[1m[7m4,0 [36;1H[?12l[?25h[?25l[m[51;93H~@k[36;1H[51;93H   [35;1H[20;21H[1m[96m[46m{[35;1H}[m[50;97H[1m[7m3,1 [35;1H[?12l[?25h[?25l[m[51;93H~@k[35;1H[51;93H   [34;8H[20;21H[1m[96m{[35;1H}[m[50;97H[1m[7m2,[34;8H[?12l[?25h[?25l[m[51;93H~@k[34;8H[51;93H   [33;8H[50;97H[1m[7m1,[33;8H[?12l[?25h[?25l[m[51;93H~@k[33;8H[51;93H   [32;8H[50;97H[1m[7m0,[32;8H[?12l[?25h[?25l[m[51;93H~@k[32;8H[51;93H   [31;8H[50;96H[1m[7m69,[31;8H[?12l[?25h[?25l[m[51;93H~@k[31;8H[51;93H   [30;8H[50;97H[1m[7m8,[30;8H[?12l[?25h[?25l[m[51;93H~@k[30;8H[51;93H   [29;8H[50;97H[1m[7m7,[29;8H[?12l[?25h[?25l[m[51;93H~@k[29;8H[51;93H   [30;8H[50;97H[1m[7m8,[30;8H[?12l[?25h[?25l[m[51;93H~@k[30;8H[51;93H   [31;8H[50;97H[1m[7m9,[31;8H[?12l[?25h[?25l[m[51;93H~@k[31;8H[51;93H   [32;8H[50;96H[1m[7m70,[32;8H[?12l[?25h[?25l[m[51;93H~@k[32;8H[51;93H   [33;8H[50;97H[1m[7m1,[33;8H[?12l[?25h[?25l[m[51;93H~@k[33;8H[51;93H   [34;8H[50;97H[1m[7m2,[34;8H[?12l[?25h[?25l[m[51;93H~@k[34;8H[51;93H   [35;1H[20;21H[1m[96m[46m{[35;1H}[m[50;97H[1m[7m3,[35;1H[?12l[?25h[?25l[m[51;93H~@k[35;1H[51;93H   [36;1H[20;21H[1m[96m{[35;1H}[m[50;97H[1m[7m4,0 [36;1H[?12l[?25h[?25l[m[51;93H~@k[36;1H[51;93H   [37;7H[50;97H[1m[7m5,7 [37;7H[?12l[?25h[?25l[m[51;93H~@k[37;7H[51;93H   [38;7H[50;97H[1m[7m6,[38;7H[?12l[?25h[?25l[m[51;93H~@k[38;7H[51;93H   [39;6H[50;97H[1m[7m7,6 [39;6H[?12l[?25h[?25l[m[51;93H~@k[39;6H[51;93H   [40;7H[50;97H[1m[7m8,7 [40;7H[?12l[?25h[?25l[m[51;93H~@k[40;7H[51;93H   [41;7H[50;97H[1m[7m9,[41;7H[?12l[?25h[?25l[m[51;93H~@k[41;7H[51;93H   [43;5H[50;96H[1m[7m80,5 [43;5H[?12l[?25h[?25l[m[51;93H~@k[43;5H[51;93H   [44;7H[50;97H[1m[7m1,7 [44;7H[?12l[?25h[?25l[m[51;93H~@k[44;7H[51;93H   [45;7H[50;97H[1m[7m2,[45;7H[?12l[?25h[?25l[m[51;93H~@k[45;7H[51;93H   [46;7H[50;97H[1m[7m3,[46;7H[?12l[?25h[?25l[m[51;93H~@k[46;7H[51;93H   [47;7H[50;97H[1m[7m4,[47;7H[?12l[?25h[?25l[m[51;93H~@k[47;7H[51;93H   [48;1H[37;20H[1m[96m[46m{[m[48;1H[38;5;224m[46m}[m[50;97H[1m[7m5,1 [48;1H[?12l[?25h[?25l[m[51;93H~@k[48;1H[51;93H   [49;1H[37;20H[1m[96m{[m[48;1H[38;5;224m}[m[50;97H[1m[7m6,0 [49;1H[?12l[?25h[?25l[m[51;93H~@k[49;1H[51;93H   [49;1H[1;49r[49;1H
[1;51r[50;97H[1m[7m7,[49;1H[?12l[?25h[?25l[m[51;93H~@k[49;1H[51;93H   [49;7H[1;49r[49;1H
[1;51r[49;1H[38;5;224mreset_plateforme [m[38;5;81m()[m[38;5;224m {[m[50;97H[1m[7m8,7 20%[49;7H[?12l[?25h[?25l[m[51;93H~@k[49;7H[51;93H   [49;8H[1;49r[49;1H
[1;51r[49;1H[38;5;224m        erase_plateforme[m[50;97H[1m[7m9,1 [49;8H[?12l[?25h[?25l[m[51;93H~@k[49;8H[51;93H   [49;8H[1;49r[49;1H
[1;51r[49;1H[38;5;224m        init_plateforme [m[50;96H[1m[7m90,1 21%[49;8H[?12l[?25h[?25l[m[51;93H~@k[49;8H[51;93H   [49;1H[1;49r[49;1H
[1;51r[46;21H[38;5;224m[46m{


}[m[50;97H[1m[7m1,[49;1H[?12l[?25h[?25l[m[51;93H~@k[49;1H[51;93H   [49;1H[1;49r[49;1H
[1;51r[45;21H[38;5;224m{


}[m[50;97H[1m[7m2,0 22%[49;1H[?12l[?25h[?25l[m[51;93H~@k[49;1H[51;93H   [49;7H[1;49r[49;1H
[1;51r[49;1H[38;5;224mssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m [m[38;5;81m$G5K_USER[m[38;5;224m@frontend [m[93m"[m[95mmkdir -p ~/results[m[93m"[m[50;97H[1m[7m3,7 [49;7H[?12l[?25h[?25l[m[51;93H~@k[49;7H[51;93H   [49;1H[1;49r[49;1H
[1;51r[50;97H[1m[7m4,0 23%[49;1H[?12l[?25h[?25l[m[51;93H~@k[49;1H[51;93H   [49;7H[1;49r[49;1H
[1;51r[49;1H[38;5;224mfor pattern in [m[38;5;81m$PATTERNS_WORKLOAD[m[50;97H[1m[7m5,7 [49;7H[?12l[?25h[?25l[m[51;93H~@k[49;7H[51;93H   [49;3H[1;49r[49;1H
[1;51r[49;1H[38;5;224mdo [m[50;97H[1m[7m6,3 24%[49;3H[?12l[?25h[?25l[m[51;93H~@k[49;3H[51;93H   [49;8H[1;49r[49;1H
[1;51r[49;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m[50;97H[1m[7m7,1 [49;8H[?12l[?25h[?25l[m[51;93H~@k[49;8H[51;93H   [49;8H[1;49r[49;1H
[1;51r[49;1H[38;5;224m        do[m[50;97H[1m[7m8,1 25%[49;8H[?12l[?25h[?25l[m[51;93H~@k[49;8H[51;93H   [49;8H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                #on nettoie les logs gatling[m[50;97H[1m[7m9,[49;8H[?12l[?25h[?25l[m[51;93H~@k[49;8H[51;93H   [49;8H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*[m[50;95H[1m[7m100,1 26%[49;8H[?12l[?25h[?25l[m[51;93H~@k[49;8H[51;93H   [49;8H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                [m[50;97H[1m[7m1,[49;8H[?12l[?25h[?25l[m[51;93H~@k[49;8H[51;93H   [49;8H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                #on nettoie les log de ram/cpu[m[50;97H[1m[7m2,1 27%[49;8H[?12l[?25h[?25l[m[51;93H~@k[49;8H[51;93H   [49;8H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv[m[50;97H[1m[7m3,[49;8H[?12l[?25h[?25l[m[51;93H~@k[49;8H[51;93H   [49;8H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                [m[50;97H[1m[7m4,1 28%[49;8H[?12l[?25h[?25l[m[51;93H~@k[49;8H[51;93H   [49;8H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                [m[50;97H[1m[7m5,[49;8H[?12l[?25h[?25l[m[51;93H~@k[49;8H[51;93H   [49;8H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m[50;97H[1m[7m6,1 29%[49;8H[?12l[?25h[?25l[m[51;93H/[49;8H[51;93H[K[51;1H/[?12l[?25h[?25llist[1;49r[1;1H[11M[1;51r[39;1H[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[7mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m  [49;1H[95m2[m[38;5;81m)[m[50;94H[1m[7m116,43 34%[m[51;1H[K[51;1H/list[?12l[?25h[?25l[48;43H[30m[103mlist[m[56C  [49;1H[95m2[48;43H[?12l[?25h[?25l[m[51;93H~@k[48;43H[51;93H   [49;1H[1;49r[49;1H
[1;51r[51;1H[K[50;94H[1m[7m 117,0 35%[49;1H[?12l[?25h[?25l[m[51;93H~@k[49;1H[51;93H   [49;22H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                [m[1m[96mnodes[m=[50;94H[1m[7m118,22 [49;22H[?12l[?25h[?25l[m[51;93H~@k[49;22H[51;93H   [49;39H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                for n in [m[38;5;81m$compute_nodes[m[50;96H[1m[7m9,25 36%[49;39H[?12l[?25h[?25l[m[51;93H~@k[49;39H[51;93H   [49;19H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                do [m[50;95H[1m[7m20,19 [49;19H[?12l[?25h[?25l[m[51;93H~@k[49;19H[51;93H   [49;43H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m[50;96H[1m[7m1,43 37%[49;43H[?12l[?25h[?25l[m[51;93H~@k[49;43H[51;93H   [49;20H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                done[m[50;96H[1m[7m2,20 [49;20H[?12l[?25h[?25l[m[51;93H~@k[49;20H[51;93H   [49;1H[1;49r[49;1H
[1;51r[50;94H[1m[7m 123,0 38%[49;1H[?12l[?25h[?25l[m[51;93H~@k[49;1H[51;93H   [49;43H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                #on supprime la plateforme actuelle [m[50;94H[1m[7m124,29 [49;43H[?12l[?25h[?25l[m[51;93H~@k[49;43H[51;93H   [48;1H[50;94H[1m[7m 123,0 [48;1H[?12l[?25h[?25l[m[51;93H~@k[48;1H[51;93H   [47;20H[50;94H[1m[7m122,20[47;20H[?12l[?25h[?25l[m[51;93H~@k[47;20H[51;93H   [46;43H[50;96H[1m[7m1,43 [46;43H[?12l[?25h[?25l[m[51;93H~@k[46;43H[51;93H   [45;19H[50;96H[1m[7m0,19 [45;19H[?12l[?25h[?25l[m[51;93H~@k[45;19H[51;93H   [44;39H[50;95H[1m[7m19,25 [44;39H[?12l[?25h[?25l[m[51;93H~@k[44;39H[51;93H   [43;22H[50;96H[1m[7m8,22 [43;22H[?12l[?25h[?25l[m[51;93H~@k[43;22H[51;93H   [42;1H[50;94H[1m[7m 117,0 [42;1H[?12l[?25h[?25l[m[51;93H~@k[42;1H[51;93H   [40;43H[50;94H[1m[7m116,43 [40;43H[?12l[?25h[?25l[m[51;93H~@k[40;43H[51;93H   [39;43H[50;96H[1m[7m5,[39;43H[?12l[?25h[?25l[m[51;93H~@k[39;43H[51;93H   [39;42H[50;99H[1m[7m2 [39;42H[?12l[?25h[?25l[m[51;93H~@k[39;42H[51;93H   [39;41H[50;99H[1m[7m1 [39;41H[?12l[?25h[?25l[m[51;93H~@k[39;41H[51;93H   [39;40H[50;99H[1m[7m0 [39;40H[?12l[?25h[?25l[m[51;93H~@k[39;40H[51;93H   [39;39H[50;98H[1m[7m39 [39;39H[?12l[?25h[?25l[m[51;93H~@k[39;39H[51;93H   [39;38H[50;99H[1m[7m8 [39;38H[?12l[?25h[?25l[m[51;93H~@k[39;38H[51;93H   [39;37H[50;99H[1m[7m7 [39;37H[?12l[?25h[?25l[m[51;93H~@k[39;37H[51;93H   [39;36H[50;99H[1m[7m6 [39;36H[?12l[?25h[?25l[m[51;93H~@k[39;36H[51;93H   [39;35H[50;99H[1m[7m5 [39;35H[?12l[?25h[?25l[m[51;93H~@k[39;35H[51;93H   [39;34H[50;99H[1m[7m4 [39;34H[?12l[?25h[?25l[m[51;93H~@k[39;34H[51;93H   [39;33H[50;99H[1m[7m3 [39;33H[?12l[?25h[?25l[m[51;93H~@k[39;33H[51;93H   [39;32H[50;99H[1m[7m2 [39;32H[?12l[?25h[?25l[m[51;93H~@k[39;32H[51;93H   [39;31H[50;99H[1m[7m1 [39;31H[?12l[?25h[?25l[m[51;93H~@k[39;31H[51;93H   [39;30H[50;99H[1m[7m0 [39;30H[?12l[?25h[?25l[m[51;93H~@k[39;30H[51;93H   [39;29H[50;98H[1m[7m29 [39;29H[?12l[?25h[?25l[m[51;93H~@k[39;29H[51;93H   [39;28H[50;99H[1m[7m8 [39;28H[?12l[?25h[?25l[m[51;93H~@k[39;28H[51;93H   [39;27H[50;99H[1m[7m7 [39;27H[?12l[?25h[?25l[m[51;93H~@k[39;27H[51;93H   [39;26H[50;99H[1m[7m6 [39;26H[?12l[?25h[?25l[m[51;93H~@k[39;26H[51;93H   [39;25H[50;99H[1m[7m5 [39;25H[?12l[?25h[?25l[m[51;93H~@k[39;25H[51;93H   [39;24H[50;99H[1m[7m4 [39;24H[?12l[?25h[?25l[m[51;93H~@k[39;24H[51;93H   [39;23H[50;99H[1m[7m3 [39;23H[?12l[?25h[?25l[m[51;93H~@k[39;23H[51;93H   [39;22H[50;99H[1m[7m2 [39;22H[?12l[?25h[?25l[m[51;93H~@k[39;22H[51;93H   [39;21H[50;99H[1m[7m1 [39;21H[?12l[?25h[?25l[m[51;93H~@k[39;21H[51;93H   [39;20H[50;99H[1m[7m0 [39;20H[?12l[?25h[?25l[m[51;93H~@k[39;20H[51;93H   [39;19H[50;98H[1m[7m19 [39;19H[?12l[?25h[?25l[m[51;93H~@k[39;19H[51;93H   [39;18H[50;99H[1m[7m8 [39;18H[?12l[?25h[?25l[m[51;93H~@k[39;18H[51;93H   [39;17H[50;99H[1m[7m7 [39;17H[?12l[?25h[?25l[m[51;93H~@k[39;17H[51;93H   [39;16H[50;99H[1m[7m6 [39;16H[?12l[?25h[?25l[m[51;93H~@k[39;16H[51;93H   [40;16H[50;96H[1m[7m6,[40;16H[?12l[?25h[?25l[m[51;93H~@k[40;16H[51;93H   [42;1H[50;94H[1m[7m 117,0 [42;1H[?12l[?25h[?25l[m[51;93H~@k[42;1H[51;93H   [43;16H[50;94H[1m[7m118,16 [43;16H[?12l[?25h[?25l[m[51;93H~@k[43;16H[51;93H   [44;16H[50;94H[1m[7m 119,2 [44;16H[?12l[?25h[?25l[m[51;93H~@k[44;16H[51;93H   [45;16H[50;94H[1m[7m120,16 [45;16H[?12l[?25h[?25l[m[51;93H~@k[45;16H[51;93H   [46;16H[50;96H[1m[7m1,[46;16H[?12l[?25h[?25l[m[51;93H~@k[46;16H[51;93H   [47;16H[50;96H[1m[7m2,[47;16H[?12l[?25h[?25l[m[51;93H~@k[47;16H[51;93H   [48;1H[50;94H[1m[7m 123,0 [48;1H[?12l[?25h[?25l[m[51;93H~@k[48;1H[51;93H   [49;16H[50;97H[1m[7m4,2 [49;16H[?12l[?25h[?25l[m[51;93H~@k[49;16H[51;93H   [49;16H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                erase_plateforme        [m[50;97H[1m[7m5,2 39%[49;16H[?12l[?25h[?25l[m[51;93H~@k[49;16H[51;93H   [48;16H[1;49r[1;1H[2M[1;51r[48;1H[38;5;224m                                
                #on r√©initialise la plateforme : par defaut un seul worker[m[50;97H[1m[7m6,[48;16H[?12l[?25h[?25l[m[51;93H~@k[48;16H[51;93H   [49;16H[50;97H[1m[7m7,[49;16H[?12l[?25h[?25l[m[51;93H~@k[49;16H[51;93H   [49;16H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                init_plateforme[m[50;97H[1m[7m8,2 40%[49;16H[?12l[?25h[?25l[m[51;93H~@k[49;16H[51;93H   [48;16H[50;97H[1m[7m7,[48;16H[?12l[?25h[?25l[m[51;93H~@k[48;16H[51;93H   [47;16H[50;97H[1m[7m6,[47;16H[?12l[?25h[?25l[m[51;93H~@k[47;16H[51;93H   [46;16H[50;97H[1m[7m5,[46;16H[?12l[?25h[?25l[m[51;93H~@k[46;16H[51;93H   [45;16H[50;97H[1m[7m4,[45;16H[?12l[?25h[?25l[m[51;93H~@k[45;16H[51;93H   [45;17H[50;99H[1m[7m3 [45;17H[?12l[?25h[?25l[m[51;93H~@k[45;17H[51;93H   [45;18H[50;99H[1m[7m4 [45;18H[?12l[?25h[?25l[m[51;93H~@k[45;18H[51;93H   [45;19H[50;99H[1m[7m5 [45;19H[?12l[?25h[?25l[m[51;93H~@k[45;19H[51;93H   [45;20H[50;99H[1m[7m6 [45;20H[?12l[?25h[?25l[m[51;93H~@k[45;20H[51;93H   [45;21H[50;99H[1m[7m7 [45;21H[?12l[?25h[?25l[m[51;93H~@k[45;21H[51;93H   [44;1H[50;97H[1m[7m3,0 [44;1H[?12l[?25h[?25l[m[51;93H~@k[44;1H[51;93H   [43;20H[50;94H[1m[7m122,20[43;20H[?12l[?25h[?25l[m[51;93H~@k[43;20H[51;93H   [42;21H[50;96H[1m[7m1,21 [42;21H[?12l[?25h[?25l[m[51;93H~@k[42;21H[51;93H   [41;19H[50;96H[1m[7m0,19 [41;19H[?12l[?25h[?25l[m[51;93H~@k[41;19H[51;93H   [40;21H[50;94H[1m[7m 119,7 [40;21H[?12l[?25h[?25l[m[51;93H~@k[40;21H[51;93H   [39;21H[50;94H[1m[7m118,21 [39;21H[?12l[?25h[?25l[m[51;93H~@k[39;21H[51;93H   [38;1H[50;94H[1m[7m 117,0 [38;1H[?12l[?25h[?25l[m[51;93H~@k[38;1H[51;93H   [36;21H[50;94H[1m[7m116,21 [36;21H[?12l[?25h[?25l[m[51;93H~@k[36;21H[51;93H   [35;21H[50;96H[1m[7m5,[35;21H[?12l[?25h[?25l[m[51;93H~@k[35;21H[51;93H   [36;21H[50;96H[1m[7m6,[36;21H[?12l[?25h[?25l[m[51;93H~@k[36;21H[51;93H   [38;1H[50;94H[1m[7m 117,0 [38;1H[?12l[?25h[?25l[m[51;93H~@k[38;1H[51;93H   [39;21H[50;94H[1m[7m118,21 [39;21H[?12l[?25h[?25l[m[51;93H~@k[39;21H[51;93H   [40;21H[50;94H[1m[7m 119,7 [40;21H[?12l[?25h[?25l[m[51;93H~@k[40;21H[51;93H   [41;19H[50;94H[1m[7m120,19 [41;19H[?12l[?25h[?25l[m[51;93H~@k[41;19H[51;93H   [42;21H[50;96H[1m[7m1,21 [42;21H[?12l[?25h[?25l[m[51;93H~@k[42;21H[51;93H   [43;20H[50;96H[1m[7m2,20 [43;20H[?12l[?25h[?25l[m[51;93H~@k[43;20H[51;93H   [44;1H[50;94H[1m[7m 123,0[44;1H[?12l[?25h[?25l[m[51;93H~@k[44;1H[51;93H   [45;21H[50;97H[1m[7m4,7 [45;21H[?12l[?25h[?25l[m[51;93H~@k[45;21H[51;93H   [46;21H[50;97H[1m[7m5,[46;21H[?12l[?25h[?25l[m[51;93H~@k[46;21H[51;93H   [47;24H[50;97H[1m[7m6,3 [47;24H[?12l[?25h[?25l[m[51;93H~@k[47;24H[51;93H   [48;21H[50;97H[1m[7m7,7 [48;21H[?12l[?25h[?25l[m[51;93H~@k[48;21H[51;93H   [49;21H[50;97H[1m[7m8,[49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [49;24H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                        [m[50;97H[1m[7m9,3 [49;24H[?12l[?25h[?25l[m[51;93H~@k[49;24H[51;93H   [49;21H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                unset http_proxy[m[50;96H[1m[7m30,7 41%[49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [49;21H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                unset https_proxy[m[50;97H[1m[7m1,[49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [49;16H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                [m[50;97H[1m[7m2,2 42%[49;16H[?12l[?25h[?25l[m[51;93H~@k[49;16H[51;93H   [49;1H[1;49r[49;1H
[1;51r[50;97H[1m[7m3,0 [49;1H[?12l[?25h[?25l[m[51;93H~@k[49;1H[51;93H   [49;16H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                [m[50;97H[1m[7m4,2 43%[49;16H[?12l[?25h[?25l[m[51;93H~@k[49;16H[51;93H   [49;16H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                [m[50;97H[1m[7m5,[49;16H[?12l[?25h[?25l[m[51;93H~@k[49;16H[51;93H   [49;21H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction[m[50;97H[1m[7m6,7 44%[49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [49;21H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m[50;97H[1m[7m7,[49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [49;21H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[50;97H[1m[7m8,7 45%[49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [49;18H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                do[m[50;97H[1m[7m9,4 [49;18H[?12l[?25h[?25l[m[51;93H~@k[49;18H[51;93H   [49;21H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                   #on sp√©cifie la strat√©gie que l[m[93m'[m[95mon veut utiliser[m[50;94H[1m[7m140,21 46%[49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [48;21H[1;49r[1;1H[2M[1;51r[48;1H[95m                   echo "$PROJECT_PATH/apicloud/strategies/$strategy.sh \$1 $name_tier$i" >> /root/actii[49;1Hon.sh[m[50;96H[1m[7m1,14 47%[48;21H[?12l[?25h[?25l[m[51;93H~@k[48;21H[51;93H   [49;20H[1;49r[49;1H
[1;51r[49;1H[95m                done[m[50;94H[1m[7m 142,6 [49;20H[?12l[?25h[?25l[m[51;93H~@k[49;20H[51;93H   [49;21H[1;49r[49;1H
[1;51r[49;1H[95m                #on logue l[m[93m'[m[38;5;224metat [m[93mdu[m[38;5;224m systeme apres l[m[93m'[m[95maction[m[50;97H[1m[7m3,7 48%[49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [49;21H[1;49r[49;1H
[1;51r[49;1H[95m                echo "log_cloud_state e_\$1" >> /root/action.sh[m[50;97H[1m[7m4,[49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [49;16H[1;49r[49;1H
[1;51r[49;1H[95m                [m[50;94H[1m[7m145,16 49%[49;16H[?12l[?25h[?25l[m[51;93H~@k[49;16H[51;93H   [49;21H[1;49r[49;1H
[1;51r[49;1H[95m                for i in `seq 1 $NUMBER_APPLICATIONS`[m[50;94H[1m[7m 146,7 [49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [49;18H[1;49r[49;1H
[1;51r[49;1H[95m                do[m[50;97H[1m[7m7,4 50%[49;18H[?12l[?25h[?25l[m[51;93H~@k[49;18H[51;93H   [48;21H[1;49r[1;1H[2M[1;51r[48;1H[95m                #   ADRESS_IP_LB=`nova [m[30m[103mlist[m[95m | grep $name_tier$i"_VM_LB" | tr "|" " " |tr -s " " | cut --[49;1Hd [m[93m'[m[38;5;224m [m[93m'[m[95m -f5 | cut -d "=" -f2`[m[50;97H[1m[7m8,7 51%[48;21H[?12l[?25h[?25l[m[51;93H~@k[48;21H[51;93H   [48;21H[1;49r[1;1H[2M[1;51r[48;1H[95m                   ADRESS_IP_LB=`nova [m[30m[103mlist[m[95m | grep $name_tier$i"_VM_LB" | tr "|" " " |tr -s " " | cut -dd[49;1H [m[93m'[m[38;5;224m [m[93m'[m[95m -f8`[m[50;97H[1m[7m9,[48;21H[?12l[?25h[?25l[m[51;93H~@k[48;21H[51;93H   [48;21H[1;49r[1;1H[2M[1;51r[48;1H[95m                   while ! curl $ADRESS_IP_LB:$LB_PORT ; do echo "has done curl $ADRESS_IP_LB:$LB_PORT""[49;1H ; sleep 1 ; done[m[50;96H[1m[7m50,7 52%[48;21H[?12l[?25h[?25l[m[51;93H~@k[48;21H[51;93H   [46;21H[50;96H[1m[7m49,[46;21H[?12l[?25h[?25l[m[51;93H~@k[46;21H[51;93H   [44;21H[50;97H[1m[7m8,[44;21H[?12l[?25h[?25l[m[51;93H~@k[44;21H[51;93H   [43;18H[50;97H[1m[7m7,4 [43;18H[?12l[?25h[?25l[m[51;93H~@k[43;18H[51;93H   [42;21H[50;97H[1m[7m6,7 [42;21H[?12l[?25h[?25l[m[51;93H~@k[42;21H[51;93H   [41;16H[50;94H[1m[7m145,16 [41;16H[?12l[?25h[?25l[m[51;93H~@k[41;16H[51;93H   [40;21H[50;94H[1m[7m 144,7 [40;21H[?12l[?25h[?25l[m[51;93H~@k[40;21H[51;93H   [39;21H[50;97H[1m[7m3,[39;21H[?12l[?25h[?25l[m[51;93H~@k[39;21H[51;93H   [38;20H[50;97H[1m[7m2,6 [38;20H[?12l[?25h[?25l[m[51;93H~@k[38;20H[51;93H   [36;21H[50;94H[1m[7m141,14 [36;21H[?12l[?25h[?25l[m[51;93H~@k[36;21H[51;93H   [35;21H[50;96H[1m[7m0,21 [35;21H[?12l[?25h[?25l[m[51;93H~@k[35;21H[51;93H   [34;18H[50;94H[1m[7m 139,4 [34;18H[?12l[?25h[?25l[m[51;93H~@k[34;18H[51;93H   [33;21H[50;97H[1m[7m8,7 [33;21H[?12l[?25h[?25l[m[51;93H~@k[33;21H[51;93H   [34;18H[50;97H[1m[7m9,4 [34;18H[?12l[?25h[?25l[m[51;93H~@k[34;18H[51;93H   [35;21H[50;94H[1m[7m140,21 [35;21H[?12l[?25h[?25l[m[51;93H~@k[35;21H[51;93H   [36;21H[50;96H[1m[7m1,14 [36;21H[?12l[?25h[?25l[m[51;93H~@k[36;21H[51;93H   [38;20H[50;94H[1m[7m 142,6 [38;20H[?12l[?25h[?25l[m[51;93H~@k[38;20H[51;93H   [39;21H[50;97H[1m[7m3,7 [39;21H[?12l[?25h[?25l[m[51;93H~@k[39;21H[51;93H   [40;21H[50;97H[1m[7m4,[40;21H[?12l[?25h[?25l[m[51;93H~@k[40;21H[51;93H   [41;16H[50;94H[1m[7m145,16 [41;16H[?12l[?25h[?25l[m[51;93H~@k[41;16H[51;93H   [42;21H[50;94H[1m[7m 146,7 [42;21H[?12l[?25h[?25l[m[51;93H~@k[42;21H[51;93H   [43;18H[50;97H[1m[7m7,4 [43;18H[?12l[?25h[?25l[m[51;93H~@k[43;18H[51;93H   [44;21H[50;97H[1m[7m8,7 [44;21H[?12l[?25h[?25l[m[51;93H~@k[44;21H[51;93H   [46;21H[50;97H[1m[7m9,[46;21H[?12l[?25h[?25l[m[51;93H~@k[46;21H[51;93H   [48;21H[50;96H[1m[7m50,[48;21H[?12l[?25h[?25l[m[51;93H~@k[48;21H[51;93H   [49;21H[1;49r[49;1H
[1;51r[49;1H[95m                   lb_addresses[`expr $i - 1`]=$ADRESS_IP_LB[m[50;97H[1m[7m1,[49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [49;21H[1;49r[49;1H
[1;51r[49;1H[95m#                  export JAVA_OPTS="-DlbURL=http://$ADRESS_IP_LB:$LB_PORT"[m[50;97H[1m[7m2,8 53%[49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [49;20H[1;49r[49;1H
[1;51r[49;1H[95m                done[m[50;94H[1m[7m153,20 [49;20H[?12l[?25h[?25l[m[51;93H~@k[49;20H[51;93H   [49;1H[1;49r[49;1H
[1;51r[50;94H[1m[7m 154,0 54%[49;1H[?12l[?25h[?25l[m[51;93H~@k[49;1H[51;93H   [49;21H[1;49r[49;1H
[1;51r[49;1H[95m                logstash="logstash-1.4.2"[m[50;94H[1m[7m155,21 [49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [48;21H[1;49r[1;1H[2M[1;51r[48;1H[95m                $DEFAULT_LOCAL_CONF_PATH/$logstash/bin/logstash agent -f $DEFAULT_LOCAL_CONF_PATH/indexx[49;1Her_logstash.conf > /tmp/stdout_logstash 2> /tmp/stderr_logstash &[m[50;94H[1m[7m 156,8 55%[48;21H[?12l[?25h[?25l[m[51;93H~@k[48;21H[51;93H   [49;21H[1;49r[49;1H
[1;51r[49;1H[95m                LOGSTASH_PID=$![m[50;94H[1m[7m157,21 56%[49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [49;1H[1;49r[49;1H
[1;51r[50;94H[1m[7m 158,0 [49;1H[?12l[?25h[?25l[m[51;93H~@k[49;1H[51;93H   [48;21H[1;49r[1;1H[2M[1;51r[48;1H[95m                #timestamp of the beginning of the experiments
                start_timestamp=$(date +%s)             [m[50;94H[1m[7m159,21 57%[48;21H[?12l[?25h[?25l[m[51;93H~@k[48;21H[51;93H   [49;21H[50;95H[1m[7m60,[49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [49;1H[1;49r[49;1H
[1;51r[50;94H[1m[7m 161,0 [49;1H[?12l[?25h[?25l[m[51;93H~@k[49;1H[51;93H   [49;21H[1;49r[49;1H
[1;51r[49;1H[95m                #launch the green energy availability file reader[m[50;97H[1m[7m2,7 58%[49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [48;21H[1;49r[1;1H[2M[1;51r[48;1H[95m                $PROJECT_PATH/experiments/rubis_energy_ls/scripts/green_energy_availability.sh $PROJECTT[49;1H_PATH/experiments/rubis_energy_ls/scripts/green_energy_availability.txt 60  &[m[50;94H[1m[7m163,14 59%[48;21H[?12l[?25h[?25l[m[51;93H~@k[48;21H[51;93H   [49;1H[1;49r[49;1H
[1;51r[50;94H[1m[7m 164,0 [49;1H[?12l[?25h[?25l[m[51;93H~@k[49;1H[51;93H   [49;21H[1;49r[49;1H
[1;51r[49;1H[95m                GREEN_AVAILABILITY_PID=$! [m[50;94H[1m[7m165,21 60%[49;21H[?12l[?25h[?25l[m[51;93H~@k[49;21H[51;93H   [49;1H[1;49r[49;1H
[1;51r[50;94H[1m[7m 166,0 [49;1H[?12l[?25h[?25l[m[51;93H~@k[49;1H[51;93H   [48;21H[50;94H[1m[7m165,21 [48;21H[?12l[?25h[?25l[m[51;93H~@k[48;21H[51;93H   [47;1H[50;94H[1m[7m 164,0 [47;1H[?12l[?25h[?25l[m[51;93H~@k[47;1H[51;93H   [45;21H[50;94H[1m[7m163,14 [45;21H[?12l[?25h[?25l[m[51;93H~@k[45;21H[51;93H   [44;21H[50;94H[1m[7m 162,7 [44;21H[?12l[?25h[?25l[m[51;93H~@k[44;21H[51;93H   [43;1H[50;97H[1m[7m1,0 [43;1H[?12l[?25h[?25l[m[51;93H~@k[43;1H[51;93H   [42;21H[50;94H[1m[7m160,21 [42;21H[?12l[?25h[?25l[m[51;93H~@k[42;21H[51;93H   [41;21H[50;95H[1m[7m59,[41;21H[?12l[?25h[?25l[m[51;93H~@k[41;21H[51;93H   [40;1H[50;94H[1m[7m 158,0 [40;1H[?12l[?25h[?25l[m[51;93H~@k[40;1H[51;93H   [39;21H[50;94H[1m[7m157,21 [39;21H[?12l[?25h[?25l[m[51;93H~@k[39;21H[51;93H   [37;21H[50;94H[1m[7m 156,8 [37;21H[?12l[?25h[?25l[m[51;93H~@k[37;21H[51;93H   [36;21H[50;94H[1m[7m155,21 [36;21H[?12l[?25h[?25l[m[51;93H~@k[36;21H[51;93H   [35;1H[50;94H[1m[7m 154,0 [35;1H[?12l[?25h[?25l[m[51;93H~@k[35;1H[51;93H   [34;20H[50;94H[1m[7m153,20[34;20H[?12l[?25h[?25l[m[51;93H~@k[34;20H[51;93H   [33;21H[50;94H[1m[7m 152,8 [33;21H[?12l[?25h[?25l[m[51;93H~@k[33;21H[51;93H   [32;21H[50;97H[1m[7m1,7 [32;21H[?12l[?25h[?25l[m[51;93H~@k[32;21H[51;93H   [30;21H[50;97H[1m[7m0,[30;21H[?12l[?25h[?25l[m[51;93H~@k[30;21H[51;93H   [28;21H[50;96H[1m[7m49,[28;21H[?12l[?25h[?25l[m[51;93H~@k[28;21H[51;93H   [26;21H[50;97H[1m[7m8,[26;21H[?12l[?25h[?25l[m[51;93H~@k[26;21H[51;93H   [25;18H[50;97H[1m[7m7,4 [25;18H[?12l[?25h[?25l[m[51;93H~@k[25;18H[51;93H   [24;21H[50;97H[1m[7m6,7 [24;21H[?12l[?25h[?25l[m[51;93H~@k[24;21H[51;93H   [23;16H[50;94H[1m[7m145,16 [23;16H[?12l[?25h[?25l[m[51;93H~@k[23;16H[51;93H   [22;21H[50;94H[1m[7m 144,7 [22;21H[?12l[?25h[?25l[m[51;93H~@k[22;21H[51;93H   [21;21H[50;97H[1m[7m3,[21;21H[?12l[?25h[?25l[m[51;93H~@k[21;21H[51;93H   [20;20H[50;97H[1m[7m2,6 [20;20H[?12l[?25h[?25l[m[51;93H~@k[20;20H[51;93H   [18;21H[50;94H[1m[7m141,14 [18;21H[?12l[?25h[?25l[m[51;93H~@k[18;21H[51;93H   [17;21H[50;96H[1m[7m0,21 [17;21H[?12l[?25h[?25l[m[51;93H~@k[17;21H[51;93H   [16;18H[50;94H[1m[7m 139,4 [16;18H[?12l[?25h[?25l[m[51;93H~@k[16;18H[51;93H   [15;21H[50;97H[1m[7m8,7 [15;21H[?12l[?25h[?25l[m[51;93H~@k[15;21H[51;93H   [14;21H[50;97H[1m[7m7,[14;21H[?12l[?25h[?25l[m[51;93H~@k[14;21H[51;93H   [13;21H[50;97H[1m[7m6,[13;21H[?12l[?25h[?25l[m[51;93H~@k[13;21H[51;93H   [12;16H[50;97H[1m[7m5,2 [12;16H[?12l[?25h[?25l[m[51;93H~@k[12;16H[51;93H   [11;16H[50;97H[1m[7m4,[11;16H[?12l[?25h[?25l[m[51;93H~@k[11;16H[51;93H   [10;1H[50;97H[1m[7m3,0 [10;1H[?12l[?25h[?25l[m[51;93H~@k[10;1H[51;93H   [9;16H[50;97H[1m[7m2,2 [9;16H[?12l[?25h[?25l[m[51;93H~@k[9;16H[51;93H   [8;21H[50;97H[1m[7m1,7 [8;21H[?12l[?25h[?25l[m[51;93H~@k[8;21H[51;93H   [7;21H[50;97H[1m[7m0,[7;21H[?12l[?25h[?25l[m[51;93H~@k[7;21H[51;93H   [6;24H[50;96H[1m[7m29,3 [6;24H[?12l[?25h[?25l[m[51;93H~@k[6;24H[51;93H   [5;21H[50;97H[1m[7m8,7 [5;21H[?12l[?25h[?25l[m[51;93H~@k[5;21H[51;93H   [4;21H[50;97H[1m[7m7,[4;21H[?12l[?25h[?25l[m[51;93H~@k[4;21H[51;93H   [3;24H[50;97H[1m[7m6,3 [3;24H[?12l[?25h[?25l[m[51;93H~@k[3;24H[51;93H   [2;21H[50;97H[1m[7m5,7 [2;21H[?12l[?25h[?25l[m[51;93H~@k[2;21H[51;93H   [1;21H[50;97H[1m[7m4,[1;21H[?12l[?25h[?25l[m[51;93H~@k[1;21H[51;93H   [1;1H[1;49r[1;1H[L[1;51r[50;97H[1m[7m3,0 [1;1H[?12l[?25h[?25l[m[51;93H~@k[1;1H[51;93H   [1;20H[1;49r[1;1H[L[1;51r[1;1H[38;5;224m                done[m[50;94H[1m[7m122,20 59%[1;20H[?12l[?25h[?25l[m[51;93H~@k[1;20H[51;93H   [1;21H[1;49r[1;1H[L[1;51r[1;1H[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m[50;96H[1m[7m1,21 [1;21H[?12l[?25h[?25l[m[51;93H~@k[1;21H[51;93H   [1;19H[1;49r[1;1H[L[1;51r[1;1H[38;5;224m                do [m[49;1H[94m@                                                                                                      [m[50;96H[1m[7m0,19 58%[1;19H[?12l[?25h[?25l[m[51;93H~@k[1;19H[51;93H   [1;21H[1;49r[1;1H[L[1;51r[1;1H[38;5;224m                for n in [m[38;5;81m$compute_nodes[m[50;94H[1m[7m 119,7 [1;21H[?12l[?25h[?25l[m[51;93H~@k[1;21H[51;93H   [1;21H[1;49r[1;1H[L[1;51r[1;1H[38;5;224m                [m[1m[96mnodes[m=[50;94H[1m[7m118,21 57%[1;21H[?12l[?25h[?25l[m[51;93H~@k[1;21H[51;93H   [1;1H[1;49r[1;1H[L[1;51r[50;94H[1m[7m 117,0 [1;1H[?12l[?25h[?25l[m[51;93H~@k[1;1H[51;93H   [1;21H[1;49r[1;1H[2L[1;51r[1;1H[38;5;224m                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m  [2;1H[95m2[m[38;5;81m)[m[50;94H[1m[7m116,21 56%[1;21H[?12l[?25h[?25l[m[51;93H~@k[1;21H[51;93H   [1;21H[1;49r[1;1H[L[1;51r[1;1H[38;5;224m                #retrieve the name of the compute nodes[m[50;96H[1m[7m5,[1;21H[?12l[?25h[?25l[m[51;93H~@k[1;21H[51;93H   [1;8H[1;49r[1;1H[L[1;51r[1;1H[38;5;224m        [m[50;94H[1m[7m 114,1 55%[1;8H[?12l[?25h[?25l[m[51;93H~@k[1;8H[51;93H   [2;21H[50;94H[1m[7m115,21[2;21H[?12l[?25h[?25l[m[51;93H~@k[2;21H[51;93H   [3;21H[50;96H[1m[7m6,[3;21H[?12l[?25h[?25l[m[51;93H~@k[3;21H[51;93H   [5;1H[50;94H[1m[7m 117,0 [5;1H[?12l[?25h[?25l[m[51;93H~@k[5;1H[51;93H   [6;21H[50;94H[1m[7m118,21 [6;21H[?12l[?25h[?25l[m[51;93H~@k[6;21H[51;93H   [7;21H[50;94H[1m[7m 119,7 [7;21H[?12l[?25h[?25l[m[51;93H~@k[7;21H[51;93H   [8;19H[50;94H[1m[7m120,19 [8;19H[?12l[?25h[?25l[m[51;93H~@k[8;19H[51;93H   [9;21H[50;96H[1m[7m1,21 [9;21H[?12l[?25h[?25l[m[51;93H~@k[9;21H[51;93H   [9;22H[50;99H[1m[7m2 [9;22H[?12l[?25h[?25l[m[51;93H~@k[9;22H[51;93H   [9;23H[50;99H[1m[7m3 [9;23H[?12l[?25h[?25l[m[51;93H~@k[9;23H[51;93H   [9;24H[50;99H[1m[7m4 [9;24H[?12l[?25h[?25l[m[51;93H~@k[9;24H[51;93H   [9;25H[50;99H[1m[7m5 [9;25H[?12l[?25h[?25l[m[51;93H~@k[9;25H[51;93H   [9;26H[50;99H[1m[7m6 [9;26H[?12l[?25h[?25l[m[51;93H~@k[9;26H[51;93H   [9;27H[50;99H[1m[7m7 [9;27H[?12l[?25h[?25l[m[51;93H~@k[9;27H[51;93H   [9;28H[50;99H[1m[7m8 [9;28H[?12l[?25h[?25l[m[51;93H~@k[9;28H[51;93H   [9;29H[50;99H[1m[7m9 [9;29H[?12l[?25h[?25l[m[51;93H~@k[9;29H[51;93H   [9;30H[50;98H[1m[7m30 [9;30H[?12l[?25h[?25l[m[51;93H~@k[9;30H[51;93H   [9;31H[50;99H[1m[7m1 [9;31H[?12l[?25h[?25l[m[51;93H~@k[9;31H[51;93H   [9;32H[50;99H[1m[7m2 [9;32H[?12l[?25h[?25l[m[51;93H~@k[9;32H[51;93H   [9;33H[50;99H[1m[7m3 [9;33H[?12l[?25h[?25l[m[51;93H~@k[9;33H[51;93H   [9;34H[50;99H[1m[7m4 [9;34H[?12l[?25h[?25l[m[51;93H~@k[9;34H[51;93H   [9;35H[50;99H[1m[7m5 [9;35H[?12l[?25h[?25l[m[51;93H~@k[9;35H[51;93H   [9;36H[50;99H[1m[7m6 [9;36H[?12l[?25h[?25l[m[51;93H~@k[9;36H[51;93H   [9;37H[38;5;81m[46m([44C)[m[50;99H[1m[7m7 [9;37H[?12l[?25h[?25l[m[51;93H~@k[9;37H[51;93H   [9;38H[38;5;81m([44C)[m[50;99H[1m[7m8 [9;38H[?12l[?25h[?25l[m[51;93H~@k[9;38H[51;93H   [9;39H[50;99H[1m[7m9 [9;39H[?12l[?25h[?25l[m[51;93H~@k[9;39H[51;93H   [9;40H[50;98H[1m[7m40 [9;40H[?12l[?25h[?25l[m[51;93H~@k[9;40H[51;93H   [9;41H[50;99H[1m[7m1 [9;41H[?12l[?25h[?25l[m[51;93H~@k[9;41H[51;93H   [9;42H[50;99H[1m[7m2 [9;42H[?12l[?25h[?25l[m[51;93H~@k[9;42H[51;93H   [8;19H[50;96H[1m[7m0,19 [8;19H[?12l[?25h[?25l[m[51;93H~@k[8;19H[51;93H   [9;42H[50;96H[1m[7m1,42 [9;42H[?12l[?25h[?25l[m[51;93H~@k[9;42H[51;93H   [8;19H[50;96H[1m[7m0,19 [8;19H[?12l[?25h[?25l[m[51;93H~@k[8;19H[51;93H   [9;42H[50;96H[1m[7m1,42 [9;42H[?12l[?25h[?25l[m[51;93H~@k[9;42H[51;93H   [8;19H[50;96H[1m[7m0,19 [8;19H[?12l[?25h[?25l[m[51;93H~@k[8;19H[51;93H   [9;42H[50;96H[1m[7m1,42 [9;42H[?12l[?25h[?25l[m[51;93H~@k[9;42H[51;93H   [10;20H[50;96H[1m[7m2,20 [10;20H[?12l[?25h[?25l[m[51;93H~@k[10;20H[51;93H   [11;1H[50;94H[1m[7m 123,0[11;1H[?12l[?25h[?25l[m[51;93H~@k[11;1H[51;93H   [12;42H[50;94H[1m[7m124,28 [12;42H[?12l[?25h[?25l[m[51;93H~@k[12;42H[51;93H   [13;40H[50;96H[1m[7m5,19 [13;40H[?12l[?25h[?25l[m[51;93H~@k[13;40H[51;93H   [14;32H[50;94H[1m[7m 126,4 [14;32H[?12l[?25h[?25l[m[51;93H~@k[14;32H[51;93H   [15;42H[50;94H[1m[7m127,29 [15;42H[?12l[?25h[?25l[m[51;93H~@k[15;42H[51;93H   [16;31H[50;96H[1m[7m8,17 [16;31H[?12l[?25h[?25l[m[51;93H~@k[16;31H[51;93H   [17;24H[50;94H[1m[7m 129,3 [17;24H[?12l[?25h[?25l[m[51;93H~@k[17;24H[51;93H   [18;32H[50;94H[1m[7m130,18 [18;32H[?12l[?25h[?25l[m[51;93H~@k[18;32H[51;93H   [19;33H[50;96H[1m[7m1,19 [19;33H[?12l[?25h[?25l[m[51;93H~@k[19;33H[51;93H   [20;16H[50;94H[1m[7m 132,2 [20;16H[?12l[?25h[?25l[m[51;93H~@k[20;16H[51;93H   [21;1H[50;97H[1m[7m3,0 [21;1H[?12l[?25h[?25l[m[51;93H~@k[21;1H[51;93H   [22;16H[50;97H[1m[7m4,2 [22;16H[?12l[?25h[?25l[m[51;93H~@k[22;16H[51;93H   [23;16H[50;97H[1m[7m5,[23;16H[?12l[?25h[?25l[m[51;93H~@k[23;16H[51;93H   [24;42H[50;94H[1m[7m136,28 [24;42H[?12l[?25h[?25l[m[51;93H~@k[24;42H[51;93H   [25;42H[50;96H[1m[7m7,[25;42H[?12l[?25h[?25l[m[51;93H~@k[25;42H[51;93H   [26;42H[50;96H[1m[7m8,[26;42H[?12l[?25h[?25l[m[51;93H~@k[26;42H[51;93H   [27;18H[50;94H[1m[7m 139,4 [27;18H[?12l[?25h[?25l[m[51;93H~@k[27;18H[51;93H   [28;42H[50;94H[1m[7m140,44[28;42H[?12l[?25h[?25l[m[51;93H~@k[28;42H[51;93H   [28;43H[50;99H[1m[7m5 [28;43H[?12l[?25h[?25l[m[51;93H~@k[28;43H[51;93H   [28;44H[50;99H[1m[7m6 [28;44H[?12l[?25h[?25l[m[51;93H~@k[28;44H[51;93H   [28;45H[50;99H[1m[7m7 [28;45H[?12l[?25h[?25l[m[51;93H~@k[28;45H[51;93H   [28;46H[50;99H[1m[7m8 [28;46H[?12l[?25h[?25l[m[51;93H~@k[28;46H[51;93H   [28;47H[50;99H[1m[7m9 [28;47H[?12l[?25h[?25l[m[51;93H~@k[28;47H[51;93H   [28;48H[50;98H[1m[7m50 [28;48H[?12l[?25h[?25l[m[51;93H~@k[28;48H[51;93H   [28;49H[50;99H[1m[7m1 [28;49H[?12l[?25h[?25l[m[51;93H~@k[28;49H[51;93H   [28;50H[50;99H[1m[7m2 [28;50H[?12l[?25h[?25l[m[51;93H~@k[28;50H[51;93H   [28;51H[50;99H[1m[7m3 [28;51H[?12l[?25h[?25l[m[51;93H~@k[28;51H[51;93H   [28;52H[50;99H[1m[7m4 [28;52H[?12l[?25h[?25l[m[51;93Hi[28;52H[51;93H [28;52H[51;1H[1m-- INSERT --[28;52H[?12l[?25h[?25l[m[38;5;224mon veut utiliser[m[28;67H[K[29;1H[38;5;224m                   [m[93mecho[1C"[m[38;5;81m$PROJECT_PATH[21C$strategy.sh[m[1C[38;5;224m\$[m[2C[38;5;81m$name_tier$i[m[93m"[m[1C[38;5;224m>> /root/actii[30;1Hon.sh
                done
                #on logue l[m[1C[95metat du systeme apres l[m[1C[38;5;224maction
                [m[93mecho[1C"[m[18C[38;5;224m\$[m[1C[93m"[m[1C[38;5;224m>> /root/action.sh
                
                for i in `[mseq [1C [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [4C | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[6C"[m | tr [93m"[1C"[m [93m"[1C"[m |tr [93m-s[m [93m"[1C"[m | cut [93m--[38;1Hd[m [1C[95m [m[1C [38;5;224m-f5[m | cut [93m-d[m [93m"[1C"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [4C | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[6C"[m | tr [93m"[1C"[m [93m"[1C"[m |tr [93m-s[m [93m"[1C"[m | cut [93m-dd[m[40;1H [1C[95m [m[1C [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[1C"[m[14C[38;5;81m$ADRESS_IP_LB[1C$LB_PORT[m[93m""[m[42;1H[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [1C ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [1C[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[15C[38;5;81m$ADRESS_IP_LB[1C$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[14C"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexx[49;1Her_logstash.conf > /tmp/stdout_logstash [1C> /tmp/stderr_logstash &[m[50;9H[1m[7m[+][87C3 [28;51H[?12l[?25h[50;96H1,44 [29;51H[50;94H 142,7 [31;21H[50;94H143,37[32;51H[50;96H4,[33;51H[50;96H5,17[34;17H[50;96H6,37[35;51H[50;94H 147,5 [36;19H[50;94H148,37 [37;51H[50;96H9,[39;51H[50;95H50,[41;51H[50;96H1,[43;51H[50;96H2,38 [44;51H[50;96H3,21 [45;21H[50;94H 154,1[46;1H[50;94H155,42 [47;42H[50;96H6,38 [48;51H[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m[50;96H[1m[7m7,32 56%[49;32H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;94H[1m[7m 158,1 [49;1H[?12l[?25h[?25l[1;49r[m[1;1H[2M[1;51r[48;1H[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             [m[50;94H[1m[7m159,51 57%[48;51H[?12l[?25h[50;95H60,45 [49;49H[?25l[1;49r[m[49;1H
[1;51r[50;94H[1m[7m 161,1 [49;1H[?12l[?25h[50;94H160,45 [48;49H[50;95H59,51 [47;51H[50;94H 158,1[46;1H[50;94H157,32 [45;32H[50;96H6,38 [43;51H[50;96H5,42 [42;42H[50;94H 154,1 [41;1H[50;94H153,21[40;21H[50;96H2,38 [39;51H[50;96H1,37 [38;51H[50;96H0,[36;51H[50;95H49,[34;51H[50;96H8,[32;51H[50;94H 147,5 [31;19H[50;94H146,37 [30;51H[50;96H5,17[29;17H[50;96H6,37[30;51H[50;94H 147,5 [31;19H[50;94H148,37 [32;51H[50;96H9,[34;51H[50;95H50,[36;51H[50;96H1,[38;51H[50;96H2,38 [39;51H[50;96H3,21 [40;21H[50;94H 154,1[41;1H[50;94H155,42 [42;42H[50;96H6,38 [43;51H[50;96H7,32 [45;32H[50;94H 158,1 [46;1H[50;94H159,51[47;51H[50;95H60,45 [48;49H[50;94H 161,1 [49;1H[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                #launch the green energy availability file reader[m[50;94H[1m[7m162,37 58%[49;51H[?12l[?25h[?25l[1;49r[m[1;1H[2M[1;51r[48;1H[38;5;224m                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECTT[49;1H_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &[m[50;96H[1m[7m3,44 59%[48;51H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;94H[1m[7m 164,1 [49;1H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m [m[50;94H[1m[7m165,43 60%[49;43H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;94H[1m[7m 166,1 [49;1H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m        [m[50;97H[1m[7m7,3 61%[49;9H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                #on lance l[m[93m'[m[95mexp√©rience[m[50;94H[1m[7m168,40 [49;39H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                end=`$NUMBER_APPLICATIONS - 1`[m[50;96H[1m[7m9,33 62%[49;47H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                for i in `seq 1 $end`[m[50;95H[1m[7m70,24 [49;38H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                do[m[50;96H[1m[7m1,12 63%[49;19H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)[m[50;96H[1m[7m2,37 [49;51H[?12l[?25h[?25l[1;49r[m[1;1H[2M[1;51r[48;1H[95m                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL==[49;1Hhttp://$lb_addresses[`expr $i - 1`]:$LB_PORT;\[m[50;96H[1m[7m3,37 64%[48;51H[?12l[?25h[?25l[1;49r[m[1;1H[2M[1;51r[48;1H[95m                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$paa[49;1Httern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa[m[50;96H[1m[7m4,34 [48;51H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                done [m[50;94H[1m[7m 175,8 65%[49;22H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                [m[50;97H[1m[7m6,3 [49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"[m[50;94H[1m[7m177,37 66%[49;51H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern[m[50;96H[1m[7m8,44 [49;51H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;94H[1m[7m 179,1 67%[49;1H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                #timestamp of the beginning of the end of the experiments[m[50;94H[1m[7m180,51[49;51H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                end_timestamp=$(date +%s)               [m[50;96H[1m[7m1,43 68%[49;49H[?12l[?25h[50;96H0,51 [48;51H[50;94H 179,1[47;1H[50;94H178,44 [46;51H[50;96H7,37 [45;51H[50;94H 176,3 [44;17H[50;97H5,8 [43;22H[50;94H174,34 [41;51H[50;96H3,37 [39;51H[50;96H2,[38;51H[50;96H1,12 [37;19H[50;96H0,24 [36;38H[50;95H69,33 [35;47H[50;96H8,40 [34;39H[50;98H39 [34;38H[50;99H8 [34;37H[50;99H7 [34;36H[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/actioo[2;1Hn.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-dd[m[10;1H [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m  [12;1H[93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m  [m[14;1H[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexee[21;1Hr_logstash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT__[29;1HPATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=hh[40;1Http://$lb_addresses[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$patt[42;1Htern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               [m
[1m[7mbench.sh[+]                                                                                   168,37 68%[m[51;1H[1m-- INSERT --[34;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action..[2;1Hsh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m''[m[10;1H[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m  [m[12;1H[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m;  [m[14;1H[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer__[21;1Hlogstash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PAA[29;1HTH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=httt[40;1Hp://$lb_addresses[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattee[42;1Hrn[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               [m
[1m[7mbench.sh[+]                                                                                     168,37 68%[m[51;1H[1m-- INSERT --[34;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[2;1H                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m''[m[9;1H [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m  [11;1H[38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msll[13;1Heep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_loo[20;1Hgstash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATHH[m[28;1H[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http::[39;1H//$lb_addresses[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$patternn[m[41;1H[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        [m
[1m[7mbench.sh[+]                                                                                       168,37 68%[m[51;1H[1m-- INSERT --[33;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-ff[9;1H5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f88[11;1H`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleepp[m[13;1H[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstt[20;1Hash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/exx[28;1Hperiments/rubis_energy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$$[39;1Hlb_addresses[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m >  [41;1H~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        [m
[1m[7mbench.sh[+]                                                                                          168,37 68%[m[51;1H[1m-- INSERT --[33;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m ||[9;1H cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m  [12;1H; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstashh[19;1H.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experr[27;1Himents/rubis_energy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb__[38;1Haddresses[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/rr[40;1Hun.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID[m
[1m[7mbench.sh[+]                                                                                             168,37 68%[m[51;1H[1m-- INSERT --[32;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cc[9;1Hut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ;  [12;1Hdone
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.cc[19;1Honf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experimm[27;1Hents/rubis_energy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_add[38;1Hdresses[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/runn[40;1H.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID[m
[1m[7mbench.sh[+]                                                                                               168,37 68%[m[51;1H[1m-- INSERT --[32;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut  [9;1H[93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; donn[12;1He
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conff[19;1H > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experimentt[27;1Hs/rubis_energy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addree[38;1Hsses[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.loo[40;1Hg [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID[m
[1m[7mbench.sh[+]                                                                                                  168,37 68%[m[51;1H[1m-- INSERT --[32;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-dd[m[9;1H [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf >>[18;1H /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments//[26;1Hrubis_energy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresss[37;1Hes[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log  [m[39;1H[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID[m
[1m[7mbench.sh[+]                                                                                                    168,37 69%[m[51;1H[1m-- INSERT --[31;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m  [9;1H[93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf >  [18;1H/tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rr[26;1Hubis_energy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addressee[37;1Hs[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m22[m[39;1H[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID[m
[1m[7mbench.sh[+]                                                                                                     168,37 69%[m[51;1H[1m-- INSERT --[31;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m""[m[9;1H[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > //[18;1Htmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/ruu[26;1Hbis_energy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addressess[37;1H[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>>[39;1H&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID[m
[1m[7mbench.sh[+]                                                                                                      168,37 69%[m[51;1H[1m-- INSERT --[31;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m==[m[9;1H[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tt[18;1Hmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubb[26;1His_energy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[[[37;1H`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&&[m[39;1H[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID[m
[1m[7mbench.sh[+]                                                                                                       168,37 69%[m[51;1H[1m-- INSERT --[31;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m""[m[9;1H [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmm[18;1Hp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubii[26;1Hs_energy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[``[37;1Hexpr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m11[m[39;1H[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID[m
[1m[7mbench.sh[+]                                                                                                        168,37 69%[m[51;1H[1m-- INSERT --[31;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m  [9;1H[38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmpp[18;1H/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubiss[26;1H_energy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[`ee[37;1Hxpr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m  [39;1H&[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID[m
[1m[7mbench.sh[+]                                                                                                         168,37 69%[m[51;1H[1m-- INSERT --[31;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f22[9;1H`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stt[18;1Hdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_enn[26;1Hergy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[`exprr[37;1H $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m""[39;1H -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID[m
[1m[7mbench.sh[+]                                                                                                            168,37 69%[m[51;1H[1m-- INSERT --[31;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdouu[17;1Ht_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energg[25;1Hy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[`expr $ii[36;1H - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -ii[38;1H /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID[m

[1m[7mbench.sh[+]                                                                                                               168,37 69%[m[51;1H[1m-- INSERT --[30;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdout_loo[17;1Hgstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_lss[25;1H/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[`expr $i - 11[36;1H`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmm[38;1Hp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID[m

[1m[7mbench.sh[+]                                                                                                                   168,37 69%[m[51;1H[1m-- INSERT --[30;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdout_logstaa[17;1Hsh [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scrr[25;1Hipts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[`expr $i - 1`]:$$[36;1HLB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/idd[38;1H_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID[m

[1m[7mbench.sh[+]                                                                                                                       168,37 69%[m[51;1H[1m-- INSERT --[30;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdout_logstash [m[95m22[m[17;1H[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scriptss[25;1H/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[`expr $i - 1`]:$LB_PP[36;1HORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa[38;1H                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID

                #on sauvegarde les donn√©e li√©es √† l[m[93m'[m[38;5;224m√©tat de la plateforme[m
[1m[7mbench.sh[+]                                                                                                                           168,37 70%[m[51;1H[1m-- INSERT --[30;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tt[17;1Hmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/gree[25;1Hen_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[`expr $i - 1`]:$LB_PORT;;[36;1H\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID

                #on sauvegarde les donn√©e li√©es √† l[m[93m'[m[38;5;224m√©tat de la plateforme[m
[1m[7mbench.sh[+]                                                                                                                               168,37 70%[m[51;1H[1m-- INSERT --[30;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp//[17;1Hstderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green__[25;1Henergy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID

                #on sauvegarde les donn√©e li√©es √† l[m[93m'[m[38;5;224m√©tat de la plateforme
                cp [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/state_plateforme.log[m
[1m[7mbench.sh[+]                                                                                                                                  168,37 70%[m[51;1H[1m-- INSERT --[30;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stdd[17;1Herr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_enee[25;1Hrgy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID

                #on sauvegarde les donn√©e li√©es √† l[m[93m'[m[38;5;224m√©tat de la plateforme
                cp [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/state_plateforme.log[m
[1m[7mbench.sh[+]                                                                                                                                     168,37 70%[m[51;1H[1m-- INSERT --[30;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr[17;1Hr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energg[25;1Hy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID

                #on sauvegarde les donn√©e li√©es √† l[m[93m'[m[38;5;224m√©tat de la plateforme
                cp [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/state_plateforme.log[m
[1m[7mbench.sh[+]                                                                                                                                       168,37 70%[m[51;1H[1m-- INSERT --[30;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr__[17;1Hlogstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy__[25;1Havailability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID

                #on sauvegarde les donn√©e li√©es √† l[m[93m'[m[38;5;224m√©tat de la plateforme
                cp [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/state_plateforme.log[m
[1m[7mbench.sh[+]                                                                                                                                         168,37 70%[m[51;1H[1m-- INSERT --[30;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_ll[17;1Hogstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_aa[25;1Hvailability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID

                #on sauvegarde les donn√©e li√©es √† l[m[93m'[m[38;5;224m√©tat de la plateforme
                cp [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/state_plateforme.log[m
[1m[7mbench.sh[+]                                                                                                                                          168,37 70%[m[51;1H[1m-- INSERT --[30;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_loo[17;1Hgstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_avv[25;1Hailability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID

                #on sauvegarde les donn√©e li√©es √† l[m[93m'[m[38;5;224m√©tat de la plateforme
                cp [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/state_plateforme.log[m
[1m[7mbench.sh[+]                                                                                                                                           168,37 70%[m[51;1H[1m-- INSERT --[30;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logg[17;1Hstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_avaa[25;1Hilability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID

                #on sauvegarde les donn√©e li√©es √† l[m[93m'[m[38;5;224m√©tat de la plateforme
                cp [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/state_plateforme.log[m
[1m[7mbench.sh[+]                                                                                                                                            168,37 70%[m[51;1H[1m-- INSERT --[30;36H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logss[17;1Htash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_avaii[25;1Hlability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #on lance l[m[93m'[m[95mexp√©rience
                end=`$NUMBER_APPLICATIONS - 1`
                for i in `seq 1 $end`
                do
                     injector_node=$(sed -n $i[m[93m'[m[38;5;224mp[m[93m'[m[95m $INJECTOR_NODES_FILE)
                     ssh -o "StrictHostKeyChecking no" root@$injector_node "export JAVA_OPTS=\"-DlbURL=http://$lb_addresses[`expr $i - 1`]:$LB_PORT;\
                                              sh -c [m[93m'nohup[m[38;5;224m ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[38;5;224m > ~/run.log [m[95m2[m[38;5;224m>&[m[95m1[m[38;5;224m &[m[93m'[m[95m" -i /tmp/id_rsa
                done 
                
                export JAVA_OPTS="-DlbURL=http://$lb_addresses[`expr $NB_INSTANCES - 1`]:$LB_PORT"
                $PROJECT_PATH/gatling/bin/gatling.sh -nr -s elastica.$pattern

                #timestamp of the beginning of the end of the experiments
                end_timestamp=$(date +%s)               
        
                kill $GREEN_AVAILABILITY_PID
                kill $LOGSTASH_PID

                #on sauvegarde les donn√©e li√©es √† l[m[93m'[m[38;5;224m√©tat de la plateforme
                cp [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/state_plateforme.log[m
[1m[7mbench.sh[+]                                                                                                                                             168,37 70%[m[51;1H[1m-- INSERT --[30;36H[?12l[?25h[m[50;155H[1m[7m9,22 [31;36H[50;154H70,[32;36H[50;155H1,12[33;19H[50;155H2,22[34;36H[50;155H3,[35;36H[50;155H4,19 [36;36H[50;153H 175,8 [37;22H[50;156H6,3 [38;17H[50;153H177,22 [39;36H[50;155H8,29 [40;36H[50;153H 179,1 [41;1H[50;153H180,36 [42;36H[50;155H1,[43;36H[50;153H 182,2 [44;9H[50;153H183,36 [45;36H[50;155H4,21 [46;35H[50;153H 185,1[47;1H[50;153H186,22 [48;36H[50;155H7,[49;36H[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                [m[50;153H[1m[7m 188,3 [49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                #on sauvegarde les donn√©es li√©es √† gatling [m[38;5;81m([mtemps de r√©ponse[38;5;81m)[m[38;5;224m   [m[50;153H[1m[7m189,22 71%[49;36H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                [m[93mmv[m[38;5;224m [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/* [m[38;5;81m$path_experiment[m[38;5;224m/[m[50;154H[1m[7m90,[49;36H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m        [m[50;153H[1m[7m 191,2 72%[49;9H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                #[m[93mecho[m[95m [m[93m"[m[95mGathering result file from localhost[m[93m"[m[50;153H[1m[7m192,22[49;36H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                #[m[93mls[m[38;5;224m -t [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/ | head -n [m[95m1[m[38;5;224m | xargs -I {} [m[93mmv[m[38;5;224m [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/{} [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/report[m[50;155H[1m[7m3,22 73%[49;36H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                #cp [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/report/simulation.log [m[38;5;81m$GATHER_REPORTS_DIR[m[50;155H[1m[7m4,[49;36H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;153H[1m[7m 195,1 74%[49;1H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m#               [m[1m[96mend[m=[38;5;224m`[m[38;5;81m$NB_INSTANCES[m - [95m1[m[38;5;224m`[m[50;153H[1m[7m196,23 [49;36H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                for i in `[mseq [95m1[m [38;5;81m$end[m[38;5;224m`[m[50;155H[1m[7m7,22 75%[49;36H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                do[m[50;153H[1m[7m 198,5 [49;19H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                   [m[1m[96minjector_node[m=[38;5;224m$[m[38;5;81m([m[93msed[m [38;5;224m-n[m [38;5;81m$i[m[93m'[m[95mp[m[93m'[m [38;5;81m$INJECTOR_NODES_FILE)[m[49;35H[38;5;81m[46m([33C)[m[50;153H[1m[7m199,22 76%[49;36H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m[48;35H[38;5;81m([33C)[m[50;153H[1m[7m200,[49;36H[?12l[?25h[?25l[1;49r[m[1;1H[2M[1;51r[48;1H[38;5;224m#                  ssh -n -f root@[m[38;5;81m$injector_node[m[38;5;224m [m[93m"[m[95msh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv [m[38;5;81m${GATLING_REPORT_DIR}[m[95m{} [m[38;5;81m${GATLING_REPORT_DIR}[m[95mreportt[49;1H'[m[93m"[m[50;155H[1m[7m1,23 77%[48;36H[?12l[?25h[?25l[1;49r[m[1;1H[2M[1;51r[48;1H[38;5;224m                   scp -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m -i /tmp/id_rsa  -r root@[m[38;5;81m$injector_node[m[38;5;224m:~/gatling/results/* [m[38;5;81m$path_experiment[m[38;5;224m/
# [m[38;5;81m${GATHER_REPORTS_DIR}[m[38;5;224msimulation-[m[38;5;81m$i.log[m[50;155H[1m[7m2,22 78%[48;36H[?12l[?25h[50;155H3,36 [49;36H[50;155H2,22 [48;36H[50;155H1,23 [46;36H[50;155H0,22 [45;36H[?25l[m[44;35H[38;5;81m[46m([33C)[m[50;153H[1m[7m199,[44;36H[?12l[?25h[?25l[m[38;5;81m([33C)[m[50;153H[1m[7m 198,5 [43;19H[?12l[?25h[50;153H197,22 [42;36H[50;155H6,23 [41;36H[50;153H 195,1 [40;1H[50;153H194,22 [39;36H[50;155H3,[38;36H[50;155H2,[37;36H[50;153H 191,2[36;9H[50;153H190,22[35;36H[50;154H89,[34;36H[50;153H 188,3 [33;17H[50;153H187,22 [32;36H[50;155H6,[31;36H[50;153H 185,1 [30;1H[50;153H184,21[29;35H[50;155H3,36 [28;36H[50;153H 182,2 [27;9H[50;153H181,36 [26;36H[50;155H0,[25;36H[50;153H 179,1 [24;1H[50;153H178,29 [23;36H[50;155H7,22 [22;36H[50;153H 176,3 [21;17H[50;156H5,8 [20;22H[50;153H174,19 [19;36H[50;155H3,22 [18;36H[50;155H2,[17;36H[50;155H1,12[16;19H[50;155H0,22[15;36H[50;154H69,[14;36H[50;155H8,37 [13;36H[50;153H 167,3 [12;9H[50;156H6,1 [11;1H[50;153H165,36 [10;36H[50;153H 164,1 [9;1H[50;153H163,29 [7;36H[50;155H2,22 [6;36H[50;153H 161,1 [5;1H[50;153H160,36 [4;36H[50;153H 161,1 [5;1H[50;153H162,22 [6;36H[50;155H3,29 [7;36H[50;153H 164,1 [9;1H[50;153H165,36 [10;36H[50;153H 166,1 [11;1H[50;156H7,3 [12;9H[50;153H168,37 [13;36H[50;158H8 [13;37H[50;158H9 [13;38H[50;158H8 [13;37H[50;158H7 [13;36H[50;158H6 [13;35H[50;158H5 [13;34H[50;158H4 [13;33H[50;158H2 [13;32H[50;158H1 [13;31H[50;158H0 [13;30H[50;157H29 [13;29H[50;158H8 [13;28H[50;158H7 [13;27H[50;158H6 [13;26H[50;158H5 [13;25H[50;158H4 [13;24H[50;158H3 [13;23H[50;158H2 [13;22H[50;158H1 [13;21H[50;158H0 [13;20H[50;157H19 [13;19H[50;158H8 [13;18H[?25l[m[38;5;224mion lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m9 [13;19H[?12l[?25h[?25l[m[38;5;224mlon lance l[m[93m'[m[95mexp√©rience[m[50;157H[1m[7m20 [13;20H[?12l[?25h[?25l[m[38;5;224mon lance l[m[93m'[m[95mexp√©rience[m[13;40H[K[50;157H[1m[7m19 [13;19H[?12l[?25h[?25l[m[38;5;224mon lance l[m[93m'[m[95mexp√©rience[m[13;39H[K[50;158H[1m[7m8 [13;18H[?12l[?25h[?25l[m[38;5;224mlon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m9 [13;19H[?12l[?25h[?25l[m[38;5;224maon lance l[m[93m'[m[95mexp√©rience[m[50;157H[1m[7m20 [13;20H[?12l[?25h[?25l[m[38;5;224mcon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m1 [13;21H[?12l[?25h[?25l[m[38;5;224muon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m2 [13;22H[?12l[?25h[?25l[m[38;5;224mnon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m3 [13;23H[?12l[?25h[?25l[m[38;5;224mon lance l[m[93m'[m[95mexp√©rience[m[13;43H[K[50;158H[1m[7m2 [13;22H[?12l[?25h[?25l[m[38;5;224mon lance l[m[93m'[m[95mexp√©rience[m[13;42H[K[50;158H[1m[7m1 [13;21H[?12l[?25h[?25l[m[38;5;224mon lance l[m[93m'[m[95mexp√©rience[m[13;41H[K[50;158H[1m[7m0 [13;20H[?12l[?25h[?25l[m[38;5;224mon lance l[m[93m'[m[95mexp√©rience[m[13;40H[K[50;157H[1m[7m19 [13;19H[?12l[?25h[?25l[m[38;5;224muon lance l[m[93m'[m[95mexp√©rience[m[50;157H[1m[7m20 [13;20H[?12l[?25h[?25l[m[38;5;224mon lance l[m[93m'[m[95mexp√©rience[m[13;40H[K[50;157H[1m[7m19 [13;19H[?12l[?25h[?25l[m[38;5;224maon lance l[m[93m'[m[95mexp√©rience[m[50;157H[1m[7m20 [13;20H[?12l[?25h[?25l[m[38;5;224muon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m1 [13;21H[?12l[?25h[?25l[m[38;5;224mnon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m2 [13;22H[?12l[?25h[?25l[m[38;5;224mcon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m3 [13;23H[?12l[?25h[?25l[m[38;5;224mhon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m4 [13;24H[?12l[?25h[?25l[m[38;5;224m on lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m5 [13;25H[?12l[?25h[?25l[m[38;5;224mton lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m6 [13;26H[?12l[?25h[?25l[m[38;5;224meon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m7 [13;27H[?12l[?25h[?25l[m[38;5;224mon lance l[m[93m'[m[95mexp√©rience[m[13;47H[K[50;158H[1m[7m6 [13;26H[?12l[?25h[?25l[m[38;5;224mon lance l[m[93m'[m[95mexp√©rience[m[13;46H[K[50;158H[1m[7m5 [13;25H[?12l[?25h[?25l[m[38;5;224meon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m6 [13;26H[?12l[?25h[?25l[m[38;5;224mon lance l[m[93m'[m[95mexp√©rience[m[13;46H[K[50;158H[1m[7m5 [13;25H[?12l[?25h[?25l[m[38;5;224meon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m6 [13;26H[?12l[?25h[?25l[m[38;5;224mxon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m7 [13;27H[?12l[?25h[?25l[m[38;5;224mpon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m8 [13;28H[?12l[?25h[?25l[m[38;5;224meon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m9 [13;29H[?12l[?25h[?25l[m[38;5;224mron lance l[m[93m'[m[95mexp√©rience[m[50;157H[1m[7m30 [13;30H[?12l[?25h[?25l[m[38;5;224mion lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m1 [13;31H[?12l[?25h[?25l[m[38;5;224mmon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m2 [13;32H[?12l[?25h[?25l[m[38;5;224meon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m3 [13;33H[?12l[?25h[?25l[m[38;5;224mnon lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m4 [13;34H[?12l[?25h[?25l[m[38;5;224mton lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m5 [13;35H[?12l[?25h[?25l[m[38;5;224m on lance l[m[93m'[m[95mexp√©rience[m[50;158H[1m[7m6 [13;36H[?12l[?25h[50;158H7 [13;37H[50;158H8 [13;38H[50;158H9 [13;39H[50;157H40 [13;40H[50;158H1 [13;41H[50;158H2 [13;42H[50;158H1 [13;41H[50;158H0 [13;40H[50;157H39 [13;39H[50;157H40 [13;40H[50;158H1 [13;41H[50;158H2 [13;42H[50;158H3 [13;43H[50;158H4 [13;44H[50;158H5 [13;45H[50;158H6 [13;46H[50;158H7 [13;47H[50;158H8 [13;48H[50;158H9 [13;49H[50;157H50 [13;50H[50;158H2 [13;51H[50;158H3 [13;52H[50;158H4 [13;53H[50;158H5 [13;54H[50;158H6 [13;55H[50;158H7 [13;56H[50;158H8 [13;57H[?25l[m[13;56H[K[50;158H[1m[7m7 [13;56H[?12l[?25h[?25l[m[13;55H[K[50;158H[1m[7m6 [13;55H[?12l[?25h[?25l[m[13;54H[K[50;158H[1m[7m5 [13;54H[?12l[?25h[?25l[m[13;53H[K[50;158H[1m[7m4 [13;53H[?12l[?25h[?25l[m[13;52H[K[50;158H[1m[7m3 [13;52H[?12l[?25h[?25l[m[13;51H[K[50;158H[1m[7m2 [13;51H[?12l[?25h[?25l[m[13;50H[K[50;158H[1m[7m0 [13;50H[?12l[?25h[?25l[m[13;49H[K[50;157H[1m[7m49 [13;49H[?12l[?25h[?25l[m[13;48H[K[50;158H[1m[7m8 [13;48H[?12l[?25h[?25l[m[13;47H[K[50;158H[1m[7m7 [13;47H[?12l[?25h[?25l[m[13;46H[K[14;1H[38;5;224m                [m[1m[96mend[m=[38;5;224m`[m[38;5;81m$NUMBER_APPLICATIONS[m - [1C[38;5;224m`
                for i in `[mseq [1C [38;5;81m$end[m[38;5;224m`
                do
                     [m[1m[96minjector_node[m=[38;5;224m$[m[38;5;81m([m[93msed[m [38;5;224m-n[m [38;5;81m$i[m[1C[95mp[m[1C [38;5;81m$INJECTOR_NODES_FILE)[m
[38;5;224m                     ssh -o [m[93m"[24C"[m[38;5;224m root@[m[38;5;81m$injector_node[m[38;5;224m [m[93m"[m[17C[38;5;224m\"[m[15C[38;5;81m$lb_addresses[m[1C[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m - [1C`[m[2C[38;5;81m$LB_PORT[m[19;53H[95m'nohup ~/gatling/bin/gatling.sh -nr -s elastica.[8C > ~/run.log 2>&1 &'[m[93m"[m[38;5;224m -i /tmp/id_rsa
                done 
                
                export [m[1m[96mJAVA_OPTS[m=[93m"[m[15C[38;5;81m$lb_addresses[m[1C[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$NB_INSTANCES[m[38;5;224m - [1C`[m[2C[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m

[38;5;224m                #timestamp of the beginning of the end of the experiments
                [m[1m[96mend_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m               
        
                [m[93mkill[m[38;5;224m [m[38;5;81m$GREEN_AVAILABILITY_PID[m
[38;5;224m                [m[93mkill[m[38;5;224m [m[38;5;81m$LOGSTASH_PID[m

[38;5;224m                #on sauvegarde les donn√©e li√©es √† l[m[1C[95m√©tat de la plateforme
                cp $TMP_FILE_LOG_CLOUD_STATE $path_experiment/state_plateforme.log
                
                #on sauvegarde les donn√©es li√©es √† gatling (temps de r√©ponse)   
                mv $PROJECT_PATH/gatling/results/* $path_experiment/
        
                #echo "[36C"
                #ls -t $PROJECT_PATH/gatling/results/ | head -n 1 | xargs -I {} mv $PROJECT_PATH/gatling/results/{} $PROJECT_PATH/gatling/results/report
                #cp $PROJECT_PATH/gatling/results/report/simulation.log $GATHER_REPORTS_DIR

#               end=`$NB_INSTANCES - 1`
                for i in `seq 1 $end`
                do
                   injector_node=$(sed -n $i[m[1C[38;5;224mp[m[1C[95m $INJECTOR_NODES_FILE)
                   echo "[33C$injector_node"
#                  ssh -n -f root@$injector_node "[m[6C[93m'ls[m[38;5;224m -t ~/gatling/results/ | head -n [1C | xargs -I {} [m[93mmv[m[38;5;224m [21C{} [21Creportt[m[47;1H[93m'[m[95m"
                   scp -o "[24C" -i /tmp/id_rsa  -r root@$injector_node:~/gatling/results/* $path_experiment/
# ${GATHER_REPORTS_DIR}simulation-$i.log[m[50;158H[1m[7m6 [13;46H[?12l[?25h[?25l[m[13;45H[K[50;158H[1m[7m5 [13;45H[?12l[?25h[?25l[m[13;44H[K[50;158H[1m[7m4 [13;44H[?12l[?25h[?25l[m[13;43H[K[50;158H[1m[7m3 [13;43H[?12l[?25h[?25l[m[13;42H[K[50;158H[1m[7m2 [13;42H[?12l[?25h[?25l[m[13;41H[K[50;158H[1m[7m1 [13;41H[?12l[?25h[?25l[m[13;40H[K[50;158H[1m[7m0 [13;40H[?12l[?25h[?25l[m[13;39H[K[50;157H[1m[7m39 [13;39H[?12l[?25h[?25l[m[13;38H[K[50;158H[1m[7m8 [13;38H[?12l[?25h[?25l[m[13;37H[K[50;158H[1m[7m7 [13;37H[?12l[?25h[?25l[m[13;36H[K[50;158H[1m[7m6 [13;36H[?12l[?25h[?25l[m[13;35H[K[50;158H[1m[7m5 [13;35H[?12l[?25h[50;155H9,21 [14;35H[50;154H70,[15;35H[50;155H1,12 [16;19H[50;155H2,21 [17;35H[50;155H3,[18;35H[50;155H4,18 [19;35H[50;153H 175,8[20;22H[50;156H6,3 [21;17H[50;153H177,21 [22;35H[50;155H8,28 [23;35H[50;153H 179,1 [24;1H[50;153H180,35 [25;35H[50;155H1,[26;35H[50;153H 182,2 [27;9H[50;153H183,35 [28;35H[50;155H4,21 [29;35H[50;153H 185,1[30;1H[50;153H186,21[31;35H[50;155H7,[32;35H[50;153H 188,3 [33;17H[50;153H189,21 [34;35H[50;154H90,[35;35H[50;153H 191,2 [36;9H[50;153H192,21 [37;35H[50;155H3,[38;35H[50;155H4,[39;35H[50;153H 195,1[40;1H[50;153H196,22 [41;35H[50;155H7,21 [42;35H[50;153H 198,5 [43;19H[50;153H197,21 [42;35H[50;155H6,22 [41;35H[50;153H 195,1 [40;1H[50;153H194,21[39;35H[50;155H3,[38;35H[50;155H2,[37;35H[50;153H 191,2 [36;9H[50;153H190,21 [35;35H[50;154H89,[34;35H[50;153H 188,3 [33;17H[50;153H187,21 [32;35H[50;155H6,[31;35H[50;158H0 [31;34H[50;157H19 [31;33H[50;158H8 [31;32H[50;158H7 [31;31H[50;158H6 [31;30H[50;158H5 [31;29H[50;158H4 [31;28H[50;158H3 [31;27H[50;153H 185,1 [30;1H[50;153H186,13 [31;27H[50;158H4 [31;28H[50;158H5 [31;29H[50;158H6 [31;30H[50;158H7 [31;31H[50;158H8 [31;32H[50;158H9 [31;33H[50;157H20 [31;34H[50;158H1 [31;35H[50;158H2 [31;36H[50;158H3 [31;37H[50;158H4 [31;38H[50;158H5 [31;39H[50;158H6 [31;40H[50;158H8 [31;41H[50;158H9 [31;42H[50;157H30 [31;43H[50;158H1 [31;44H[50;158H2 [31;45H[50;158H4 [31;46H[50;158H5 [31;47H[50;158H6 [31;48H[50;158H7 [31;49H[50;158H9 [31;50H[50;157H40 [31;51H[50;158H1 [31;52H[50;158H2 [31;53H[?25l[m[38;5;224m√©tat de la plateforme[m[31;73H[K[32;1H[38;5;224m                cp [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/state_plateforme.log
                
                #on sauvegarde les donn√©es li√©es √† gatling [m[38;5;81m([mtemps de r√©ponse[38;5;81m)[m[38;5;224m   
                [m[93mmv[m[38;5;224m [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/* [m[38;5;81m$path_experiment[m[38;5;224m/
        
                #[m[93mecho[1C"[36C"[m
[38;5;224m                #[m[93mls[m[38;5;224m -t [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/ | head -n [1C | xargs -I {} [m[93mmv[m[38;5;224m [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/{} [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/report
                #cp [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/report/simulation.log [m[38;5;81m$GATHER_REPORTS_DIR[m

[38;5;224m#               [m[1m[96mend[m=[38;5;224m`[m[38;5;81m$NB_INSTANCES[m - [1C[38;5;224m`
                for i in `[mseq [1C [38;5;81m$end[m[38;5;224m`
                do
                   [m[1m[96minjector_node[m=[38;5;224m$[m[38;5;81m([m[93msed[m [38;5;224m-n[m [38;5;81m$i[m[1C[95mp[m[1C [38;5;81m$INJECTOR_NODES_FILE)[m
[38;5;224m                   [m[93mecho[1C"[m[33C[38;5;81m$injector_node[m[93m"[m
[38;5;224m#                  ssh -n -f root@[m[38;5;81m$injector_node[m[38;5;224m [m[93m"[m[6C[95m'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv [21C{} [21Creportt[47;1H'[m[93m"[m
[38;5;224m                   scp -o [m[93m"[24C"[m[38;5;224m -i /tmp/id_rsa  -r root@[m[38;5;81m$injector_node[m[38;5;224m:~/gatling/results/* [m[38;5;81m$path_experiment[m[38;5;224m/
# [m[38;5;81m${GATHER_REPORTS_DIR}[m[38;5;224msimulation-[m[38;5;81m$i.log[m[50;158H[1m[7m1 [31;52H[?12l[?25h[50;155H7,38 [32;52H[50;155H6,41 [31;52H[50;153H 185,1[30;1H[50;153H184,21[29;35H[50;155H3,45 [28;45H[50;153H 182,2 [27;9H[50;153H181,43 [26;49H[50;155H0,52 [25;52H[50;153H 179,1 [24;1H[50;153H178,45 [23;52H[50;155H7,38 [22;52H[50;153H 176,3 [21;17H[50;156H5,8 [20;22H[50;153H174,35 [19;52H[50;155H3,38 [18;52H[50;155H2,[17;52H[50;155H1,12 [16;19H[50;155H0,24 [15;38H[50;154H69,33 [14;47H[50;155H8,35 [13;35H[50;153H 167,3 [12;9H[50;156H6,1 [11;1H[50;153H165,43 [10;43H[50;153H 164,1 [9;1H[50;153H163,45 [7;52H[50;155H2,38 [6;52H[50;153H 161,1 [5;1H[50;153H160,45 [4;49H[50;154H59,52 [3;52H[50;153H 158,1 [2;1H[50;153H157,32 [1;32H[?25l[1;49r[m[1;1H[2L[1;51r[1;1H[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logss[2;1Htash &[m[50;155H[1m[7m6,39 77%[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m[49;1H[94m@                                                                                                                                                                 [m[50;155H[1m[7m5,42 [1;42H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[50;153H[1m[7m 154,1 76%[1;1H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                done[m[50;153H[1m[7m153,21[1;21H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[50;155H[1m[7m2,39 75%[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m[50;155H[1m[7m1,38 [1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done[m[50;155H[1m[7m0,38 74%[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`[m[50;154H[1m[7m49,[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`[m[50;155H[1m[7m8,38 73%[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                do[m[50;153H[1m[7m 147,5 [1;19H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[50;153H[1m[7m146,38 72%[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[50;155H[1m[7m5,17 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m[50;155H[1m[7m4,38 71%[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction[m[50;155H[1m[7m3,[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                done[m[50;153H[1m[7m 142,7 70%[1;21H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m[50;153H[1m[7m141,45 [1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                   #on sp√©cifie la strat√©gie que lon veut utiliser[m[50;155H[1m[7m0,54 69%[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                do[m[50;153H[1m[7m 139,5 [1;19H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[50;153H[1m[7m138,38 68%[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m[50;155H[1m[7m7,[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction[m[50;155H[1m[7m6,38 67%[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[50;153H[1m[7m 135,3 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[50;156H[1m[7m4,3 66%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[50;156H[1m[7m3,1 [1;1H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[50;156H[1m[7m2,3 65%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                unset https_proxy[m[50;153H[1m[7m131,20 [1;34H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                unset http_proxy[m[50;155H[1m[7m0,19 64%[1;33H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                        [m[50;153H[1m[7m 129,4 [1;25H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                init_plateforme[m[50;153H[1m[7m128,18 63%[1;32H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #on r√©initialise la plateforme : par defaut un seul worker[m[50;155H[1m[7m7,39 [1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                                [m[50;153H[1m[7m 126,5 62%[1;33H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                erase_plateforme        [m[50;153H[1m[7m125,20 [1;41H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #on supprime la plateforme actuelle [m[50;155H[1m[7m4,38 61%[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[50;153H[1m[7m 123,1 [1;1H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                done[m[50;153H[1m[7m122,21 60%[1;21H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m[50;155H[1m[7m1,52 [1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                do [m[50;155H[1m[7m0,20 59%[1;20H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                for n in [m[38;5;81m$compute_nodes[m[50;154H[1m[7m19,26 [1;40H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[1m[96mnodes[m=[50;155H[1m[7m8,23 58%[1;23H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[50;153H[1m[7m 117,1 [1;1H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m[49;1H[94m@                                                                                                                                                                 [m[50;153H[1m[7m116,52 57%[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #retrieve the name of the compute nodes[m[50;155H[1m[7m5,[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m        [m[50;153H[1m[7m 114,2[1;9H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[50;153H[1m[7m113,34 56%[1;48H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[50;155H[1m[7m2,[1;48H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[50;153H[1m[7m 111,3 55%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m[50;153H[1m[7m110,25 [1;39H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #on cr√©√© le r√©pertoire de resultats de bench[m[50;154H[1m[7m09,41 54%[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[49;1H[94m@                                                                                                                                                                 [m[50;153H[1m[7m 108,3 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m[50;153H[1m[7m107,38 53%[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m[50;155H[1m[7m6,[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[50;153H[1m[7m 105,3 52%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[50;156H[1m[7m4,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv[m[50;153H[1m[7m103,38 51%[1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #on nettoie les log de ram/cpu[m[50;155H[1m[7m2,33 [1;47H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[50;153H[1m[7m 101,3 50%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*[m[50;153H[1m[7m100,38 [1;52H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #on nettoie les logs gatling[m[50;153H[1m[7m 99,31 49%[1;45H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m        do[m[50;154H[1m[7m 98,4 [1;11H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m[50;154H[1m[7m97,29 48%[1;36H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224mdo [m[50;154H[1m[7m 96,4 [1;4H[?12l[?25h[50;154H97,29 [2;36H[50;154H 98,4 [3;11H[50;154H99,31 [4;45H[50;153H100,38 [5;52H[50;153H 101,3 [6;17H[50;153H102,33[7;47H[50;155H3,38 [8;52H[50;153H 104,3 [9;17H[50;156H5,[10;17H[50;153H106,38 [11;52H[50;155H7,[12;52H[50;153H 108,3 [13;17H[50;153H109,41 [14;52H[50;154H10,25 [15;39H[50;153H 111,3 [16;17H[50;153H112,34 [17;48H[50;155H3,[18;48H[50;153H 114,2 [19;9H[50;153H115,52[20;52H[50;155H6,[21;52H[50;153H 117,1 [22;1H[50;153H118,23 [23;23H[50;155H9,26 [24;40H[50;154H20,20 [25;20H[50;155H1,52 [26;52H[50;155H2,21 [27;21H[50;153H 123,1[28;1H[50;153H124,38 [29;52H[50;155H5,20 [30;41H[50;153H 126,5 [31;33H[50;153H127,39 [32;52H[50;155H8,18 [33;32H[50;153H 129,4 [34;25H[50;153H130,19 [35;33H[50;155H1,20 [36;34H[50;153H 132,3 [37;17H[50;156H3,1 [38;1H[50;156H4,3 [39;17H[50;156H5,[40;17H[50;153H136,38 [41;52H[50;153H 135,3 [40;17H[50;156H4,[39;17H[50;156H5,[40;17H[50;156H4,[39;17H[50;156H3,1 [38;1H[50;156H2,3 [37;17H[50;153H131,20 [36;34H[50;155H0,19 [35;33H[50;153H 129,4 [34;25H[50;153H128,18 [33;32H[50;155H7,39 [32;52H[50;153H 126,5 [31;33H[50;153H125,20 [30;41H[50;155H4,38 [29;52H[50;153H 123,1 [28;1H[50;153H122,21[27;21H[50;155H1,52 [26;52H[50;158H3 [26;53H[50;158H4 [26;54H[50;158H5 [26;55H[50;158H6 [26;56H[50;158H7 [26;57H[50;158H8 [26;58H[50;158H9 [26;59H[?25l[m[1C[95m[46m([3C)[m[50;157H[1m[7m60 [26;60H[?12l[?25h[?25l[50;158H1 [26;61H[?12l[?25h[?25l[m[95m(.*\)[m[50;158H[1m[7m2 [26;62H[?12l[?25h[50;158H3 [26;63H[?25l[m[95m[46m([3C)[m[50;158H[1m[7m4 [26;64H[?12l[?25h[?25l[50;158H5 [26;65H[?12l[?25h[?25l[m[95m(.*\)[m[50;158H[1m[7m6 [26;66H[?12l[?25h[50;158H7 [26;67H[50;158H8 [26;68H[50;158H9 [26;69H[50;157H70 [26;70H[50;158H1 [26;71H[50;158H2 [26;72H[50;158H3 [26;73H[50;158H4 [26;74H[50;158H5 [26;75H[50;158H6 [26;76H[50;158H7 [26;77H[50;158H8 [26;78H[50;158H9 [26;79H[50;157H80 [26;80H[50;158H1 [26;81H[?25l[m[26;37H[38;5;81m[46m([44C)[m[50;158H[1m[7m2 [26;82H[?12l[?25h[?25l[50;158H3 [26;83H[?12l[?25h[?25l[m[26;37H[38;5;81m([44C)[m[50;153H[1m[7m 122,1 [27;1H[?12l[?25h[?25l[m[26;37H[38;5;81m[46m([44C)[m[50;153H[1m[7m121,83 [26;83H[?12l[?25h[?25l[50;158H2 [26;82H[?12l[?25h[?25l[m[26;37H[38;5;81m([44C)[m[50;158H[1m[7m1 [26;81H[?12l[?25h[50;158H0 [26;80H[50;157H79 [26;79H[50;158H8 [26;78H[50;158H7 [26;77H[50;158H6 [26;76H[50;158H5 [26;75H[50;158H4 [26;74H[50;158H3 [26;73H[50;158H2 [26;72H[50;158H1 [26;71H[50;158H0 [26;70H[50;155H0,20[25;20H[50;154H19,26 [24;40H[50;155H8,23 [23;23H[50;153H 117,1 [22;1H[50;153H116,70 [21;70H[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                                                            116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                                                           116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                                                          116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                                                        116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                                                      116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                                                    116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                                                  116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                                                 116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                                               116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                                              116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                                             116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                                            116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                                          116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                                       116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                                 116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                         116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                                    116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                               116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                            116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                         116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                        116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[47;1H                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                       116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                        116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                         116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                          116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                           116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                            116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                             116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-[30m[103mlist[m | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mbench.sh[+]                                                                                              116,70 48%[m[51;1H[1m-- INSERT --[21;70H[?12l[?25h[m[50;106H[1m[7m 117,1 [22;1H[?25l[27m[23m[m[H[2J[1;1H[38;5;224m                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m |  [7;1Hcut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ;;[10;1H done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/indexer_logstash..[17;1Hconf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstash &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experii[25;1Hments/rubis_energy_ls/scripts/green_energy_availability.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #launch experiment
                [m[1m[96mend[m=[38;5;224m`[m[38;5;81m$NUMBER_APPLICATIONS[m - [95m1[m[38;5;224m`
                for i in `[mseq [95m1[m [38;5;81m$end[m[38;5;224m`
                do
                     [m[1m[96minjector_node[m=[38;5;224m$[m[38;5;81m([m[93msed[m [38;5;224m-n[m [38;5;81m$i[m[93m'[m[95mp[m[93m'[m [38;5;81m$INJECTOR_NODES_FILE)[m
[38;5;224m                     ssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m root@[m[38;5;81m$injector_node[m[38;5;224m [m[93m"[m[95mexport JAVA_OPTS=[m[38;5;224m\"[m[95m-DlbURL=http://[m[38;5;81m$lb_aa[36;1Hddresses[m[95m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m - [m[95m1[m[38;5;224m`[m[95m]:[m[38;5;81m$LB_PORT[m[95m;\
                                              sh -c 'nohup ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[95m > ~/ruu[38;1Hn.log 2>&1 &'[m[93m"[m[38;5;224m -i /tmp/id_rsa
                done 
                
                export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$lb_addresses[m[95m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$NB_INSTANCES[m[38;5;224m - [m[95m1[m[38;5;224m`[m[95m]:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m

[38;5;224m                #timestamp of the beginning of the end of the experiments
                [m[1m[96mend_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m               
        
                [m[93mkill[m[38;5;224m [m[38;5;81m$GREEN_AVAILABILITY_PID[m
[38;5;224m                [m[93mkill[m[38;5;224m [m[38;5;81m$LOGSTASH_PID[m

[1m[7mbench.sh[+]                                                                                               143,3 69%[m[51;1H[1m-- INSERT --[1;17H[?12l[?25h[m[50;109H[1m[7m4,[2;17H[?25l[27m[23m[m[H[2J[1;1H[38;5;224m                [m[93mkill[m[38;5;224m [m[38;5;81m$LOGSTASH_PID[m

[38;5;224m                #on sauvegarde les donn√©e li√©es √† l√©tat de la plateforme
                cp [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/state_plateforme.log
                
                #on sauvegarde les donn√©es li√©es √† gatling [m[38;5;81m([mtemps de r√©ponse[38;5;81m)[m[38;5;224m   
                [m[93mmv[m[38;5;224m [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/* [m[38;5;81m$path_experiment[m[38;5;224m/
        
                #[m[93mecho[m[95m [m[93m"[m[95mGathering result file from localhost[m[93m"[m
[38;5;224m                #[m[93mls[m[38;5;224m -t [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/ | head -n [m[95m1[m[38;5;224m | xargs -I {} [m[93mmv[m[38;5;224m [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/{}}[11;1H [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/report
                #cp [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/report/simulation.log [m[38;5;81m$GATHER_REPORTS_DIR[m

[38;5;224m#               [m[1m[96mend[m=[38;5;224m`[m[38;5;81m$NB_INSTANCES[m - [95m1[m[38;5;224m`
                for i in `[mseq [95m1[m [38;5;81m$end[m[38;5;224m`
                do
                   [m[1m[96minjector_node[m=[38;5;224m$[m[38;5;81m([m[93msed[m [38;5;224m-n[m [38;5;81m$i[m[93m'[m[95mp[m[93m'[m [38;5;81m$INJECTOR_NODES_FILE)[m
[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[38;5;224m#                  ssh -n -f root@[m[38;5;81m$injector_node[m[38;5;224m [m[93m"[m[95msh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv [m[38;5;81m${GAA[20;1HTLING_REPORT_DIR}[m[95m{} [m[38;5;81m${GATLING_REPORT_DIR}[m[95mreport'[m[93m"[m
[38;5;224m                   scp -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m -i /tmp/id_rsa  -r root@[m[38;5;81m$injector_node[m[38;5;224m:~/gatling/results/* [m[38;5;81m$paa[22;1Hth_experiment[m[38;5;224m/
# [m[38;5;81m${GATHER_REPORTS_DIR}[m[38;5;224msimulation-[m[38;5;81m$i.log[m
[38;5;224m                done

                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                
                   #on sauvegarde les donn√©es li√©es a nginx
                   scp -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m -i [m[38;5;81m$PATH_KEYPAIR[m[38;5;224m/id_rsa ubuntu@[m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:/root/access_nginn[32;1Hx.log [m[38;5;81m$path_experiment[m[38;5;224m/access_nginx[m[38;5;81m${i}[m[38;5;224m.log
                done
        
        
                #on sauvegarde les donn√©es li√©es √† la ram et au cpu
                [m[93mmv[m[38;5;224m [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv [m[38;5;81m$path_experiment[m[38;5;224m/
                
                #on sauvegarde le scenario
                cp [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/user-files/simulations/elastica/[m[38;5;81m$pattern.scala[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/
                
                #on sauvegarde le code [m[93mdu[m[38;5;224m handler de l[m[93m'[m[95melasticit√© manager
                cp $PROJECT_PATH/elasticity_manager/handle_event.sh $path_experiment/
        
        
                #retrieving energy log files
                echo "retrieving energy log files from"$nodes
                $PROJECT_PATH/experiments/rubis_energy_ls/scripts/get_energy_log.sh $start_timestamp $end_timestampp[49;1H $path_experiment $nodes[m
[1m[7mbench.sh[+]                                                                                               184,3 90%[m[51;1H[1m-- INSERT --[1;17H[?12l[?25h[m[50;109H[1m[7m5,1 [2;1H[50;109H6,3 [3;17H[50;109H7,[4;17H[50;109H8,[5;17H[50;109H9,[6;17H[50;108H90,[7;17H[50;109H1,2 [8;9H[50;109H2,3 [9;17H[50;109H3,[10;17H[50;109H4,[12;17H[50;109H5,1 [13;1H[50;109H6,4 [14;17H[50;109H7,3 [15;17H[50;109H8,[16;17H[50;109H9,[17;17H[50;107H200,[18;17H[?25l[1;49r[m[1;1H[46M[1;51r[5;1H[95m                
                rm -f /root/action.sh
                echo "checking if action in progress"
                #on ne peut passer qu[m[93m'[m[38;5;224m√† l[m[93m'[m[95mexp√© suivante si on on a pas d[m[93m'[m[38;5;224maction en cours
                while ! [ -z [m[93m"[m[38;5;224m`ps aux | [m[93mgrep[m[38;5;224m /root/action.sh | [m[93mgrep[m[38;5;224m -v [m[93mgrep[m[38;5;224m`[m[93m"[m[38;5;224m ]
                do 
                        [m[93mecho[m[95m -n [m[93m"[m[95m.[m[93m"[m
[38;5;224m                        [m[93msleep[m[38;5;224m [m[95m1[m
[38;5;224m                done
                
                [m[93mecho[m[95m [m[93m"[m[95mno more action in progress[m[93m"[m
[38;5;224m                
        done
done
if [ -d [m[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m ]
then
    scp -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m -r [m[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m [m[38;5;81m$G5K_USER[m[38;5;224m@frontend:~/results/
fi[m
[94m~                                                                                                                  [24;1H~                                                                                                                  [25;1H~                                                                                                                  [26;1H~                                                                                                                  [27;1H~                                                                                                                  [28;1H~                                                                                                                  [29;1H~                                                                                                                  [30;1H~                                                                                                                  [31;1H~                                                                                                                  [32;1H~                                                                                                                  [33;1H~                                                                                                                  [34;1H~                                                                                                                  [35;1H~                                                                                                                  [36;1H~                                                                                                                  [37;1H~                                                                                                                  [38;1H~                                                                                                                  [39;1H~                                                                                                                  [40;1H~                                                                                                                  [41;1H~                                                                                                                  [42;1H~                                                                                                                  [43;1H~                                                                                                                  [44;1H~                                                                                                                  [45;1H~                                                                                                                  [46;1H~                                                                                                                  [47;1H~                                                                                                                  [48;1H~                                                                                                                  [49;1H~                                                                                                                  [m[50;106H[1m[7m226,17 Bot[1;17H[?12l[?25h[50;108H7,[2;17H[50;106H 228,1 [4;1H[50;109H9,3 [5;17H[50;108H30,[6;17H[50;108H29,[5;17H[50;109H8,1 [4;1H[50;109H9,3 [5;17H[50;108H30,[6;17H[50;109H1,[7;17H[50;109H2,[8;17H[50;109H3,[9;17H[50;109H4,[10;17H[50;109H5,[11;17H[50;109H6,[12;17H[50;109H7,[13;17H[50;109H8,[14;17H[50;109H7,[13;17H[50;109H6,[12;17H[50;109H5,[11;17H[50;109H4,[10;17H[50;109H3,[9;17H[50;109H2,[8;17H[50;109H1,[7;17H[50;109H0,[6;17H[50;108H29,[5;17H[50;109H8,1 [4;1H[50;106H227,17 [2;17H[50;108H6,[1;17H[?25l[1;49r[m[1;1H[L[1;51r[1;1H[95m                #retrieving energy log files[m[50;106H[1m[7m 225,3 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[95m        [m[50;109H[1m[7m4,2 [1;9H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[95m        [m[50;109H[1m[7m3,[1;9H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[95m                cp $PROJECT_PATH/elasticity_manager/handle_event.sh $path_experiment/[m[50;109H[1m[7m2,3 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #on sauvegarde le code [m[93mdu[m[38;5;224m handler de l[m[93m'[m[95melasticit√© manager[m[50;109H[1m[7m1,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[50;109H[1m[7m0,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                cp [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/user-files/simulations/elastica/[m[38;5;81m$pattern.scala[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/[m[50;108H[1m[7m19,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #on sauvegarde le scenario[m[50;109H[1m[7m8,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[50;109H[1m[7m7,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[93mmv[m[38;5;224m [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv [m[38;5;81m$path_experiment[m[38;5;224m/[m[50;109H[1m[7m6,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[50;109H[1m[7m5,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m        [m[50;109H[1m[7m4,2 [1;9H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m        [m[50;109H[1m[7m3,[1;9H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                done[m[50;106H[1m[7m212,10 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[2L[1;51r[1;1H[38;5;224m                   scp -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m -i [m[38;5;81m$PATH_KEYPAIR[m[38;5;224m/id_rsa ubuntu@[m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:/root/access_nginn[2;1Hx.log [m[38;5;81m$path_experiment[m[38;5;224m/access_nginx[m[38;5;81m${i}[m[38;5;224m.log[m[50;106H[1m[7m 211,3 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                   #on sauvegarde les donn√©es li√©es a nginx[m[50;106H[1m[7m210,10 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[50;107H[1m[7m09,17 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova [30m[103mlist[m | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`[m[50;106H[1m[7m 208,3 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                do[m[50;109H[1m[7m7,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m[50;109H[1m[7m6,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[50;109H[1m[7m5,1 [1;1H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                done[m[50;109H[1m[7m4,3 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m# [m[38;5;81m${GATHER_REPORTS_DIR}[m[38;5;224msimulation-[m[38;5;81m$i.log[m[50;106H[1m[7m203,17 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[2L[1;51r[1;1H[38;5;224m                   scp -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m -i /tmp/id_rsa  -r root@[m[38;5;81m$injector_node[m[38;5;224m:~/gatling/results/* [m[38;5;81m$paa[2;1Hth_experiment[m[38;5;224m/[m[50;106H[1m[7m 202,3 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[2L[1;51r[1;1H[38;5;224m#                  ssh -n -f root@[m[38;5;81m$injector_node[m[38;5;224m [m[93m"[m[95msh -c 'ls -t ~/gatling/results/ | head -n 1 | xargs -I {} mv [m[38;5;81m${GAA[2;1HTLING_REPORT_DIR}[m[95m{} [m[38;5;81m${GATLING_REPORT_DIR}[m[95mreport'[m[93m"[m[50;109H[1m[7m1,4 99%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m[50;109H[1m[7m0,3 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                   [m[1m[96minjector_node[m=[38;5;224m$[m[38;5;81m([m[93msed[m [38;5;224m-n[m [38;5;81m$i[m[93m'[m[95mp[m[93m'[m [38;5;81m$INJECTOR_NODES_FILE)[m[50;107H[1m[7m199,3 98%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                do[m[50;109H[1m[7m8,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                for i in `[mseq [95m1[m [38;5;81m$end[m[38;5;224m`[m[50;109H[1m[7m7,3 97%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m#               [m[1m[96mend[m=[38;5;224m`[m[38;5;81m$NB_INSTANCES[m - [95m1[m[38;5;224m`[m[50;109H[1m[7m6,4 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[50;109H[1m[7m5,1 96%[1;1H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #cp [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/report/simulation.log [m[38;5;81m$GATHER_REPORTS_DIR[m[50;109H[1m[7m4,3 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[2L[1;51r[1;1H[38;5;224m                #[m[93mls[m[38;5;224m -t [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/ | head -n [m[95m1[m[38;5;224m | xargs -I {} [m[93mmv[m[38;5;224m [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/{}}[2;1H [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/report[m[50;109H[1m[7m3,3 95%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #[m[93mecho[m[95m [m[93m"[m[95mGathering result file from localhost[m[93m"[m[50;109H[1m[7m2,3 94%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m        [m[50;109H[1m[7m1,2 [1;9H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[93mmv[m[38;5;224m [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/* [m[38;5;81m$path_experiment[m[38;5;224m/[m[50;109H[1m[7m0,3 93%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #on sauvegarde les donn√©es li√©es √† gatling [m[38;5;81m([mtemps de r√©ponse[38;5;81m)[m[38;5;224m   [m[50;108H[1m[7m89,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[50;109H[1m[7m8,3 92%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                cp [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/state_plateforme.log[m[50;109H[1m[7m7,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #on sauvegarde les donn√©e li√©es √† l√©tat de la plateforme[m[50;109H[1m[7m6,3 91%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[50;109H[1m[7m5,1 [1;1H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[93mkill[m[38;5;224m [m[38;5;81m$LOGSTASH_PID[m[50;109H[1m[7m4,3 90%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[93mkill[m[38;5;224m [m[38;5;81m$GREEN_AVAILABILITY_PID[m[49;1H[94m@                                                                                                                  [m[50;106H[1m[7m183,17 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m        [m[50;106H[1m[7m 182,2 [1;9H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[1m[96mend_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m               [m[50;106H[1m[7m181,17 89%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #timestamp of the beginning of the end of the experiments[m[50;108H[1m[7m0,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[50;106H[1m[7m 179,1 88%[1;1H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[50;106H[1m[7m178,10 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$lb_addresses[m[95m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$NB_INSTANCES[m[38;5;224m - [m[95m1[m[38;5;224m`[m[95m]:[m[38;5;81m$LB_PORT[m[93m"[m[50;106H[1m[7m 177,3 87%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[50;109H[1m[7m6,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                done [m[50;109H[1m[7m5,3 86%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[2L[1;51r[1;1H[95m                                              sh -c 'nohup ~/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m[95m > ~/ruu[2;1Hn.log 2>&1 &'[m[93m"[m[38;5;224m -i /tmp/id_rsa[m[50;106H[1m[7m174,11 85%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[2L[1;51r[1;1H[38;5;224m                     ssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m root@[m[38;5;81m$injector_node[m[38;5;224m [m[93m"[m[95mexport JAVA_OPTS=[m[38;5;224m\"[m[95m-DlbURL=http://[m[38;5;81m$lb_aa[2;1Hddresses[m[95m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m - [m[95m1[m[38;5;224m`[m[95m]:[m[38;5;81m$LB_PORT[m[95m;\[m[50;106H[1m[7m 173,3 84%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                     [m[1m[96minjector_node[m=[38;5;224m$[m[38;5;81m([m[93msed[m [38;5;224m-n[m [38;5;81m$i[m[93m'[m[95mp[m[93m'[m [38;5;81m$INJECTOR_NODES_FILE)[m[50;109H[1m[7m2,[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                do[m[50;106H[1m[7m171,10 83%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                for i in `[mseq [95m1[m [38;5;81m$end[m[38;5;224m`[m[50;106H[1m[7m 170,3 [1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                [m[1m[96mend[m=[38;5;224m`[m[38;5;81m$NUMBER_APPLICATIONS[m - [95m1[m[38;5;224m`[m[50;108H[1m[7m69,3 82%[1;17H[?12l[?25h[?25l[1;49r[m[1;1H[L[1;51r[1;1H[38;5;224m                #launch experiment[m[49;1H[94m@                                                                                                                  [m[50;106H[1m[7m168,17 [1;17H[?12l[?25h[50;106H 169,3 [2;17H[50;108H70,[3;17H[50;106H171,10 [4;17H[50;106H 172,3 [5;17H[50;109H3,[6;17H[50;106H174,11 [8;17H[50;106H 175,3 [10;17H[50;109H6,[11;17H[50;109H7,[12;17H[50;106H178,10 [13;17H[50;106H 179,1 [14;1H[50;106H180,17 [15;17H[50;108H1,[16;17H[50;106H 182,2 [17;9H[50;106H183,17 [18;17H[50;106H 184,3 [19;17H[50;109H5,1 [20;1H[50;109H6,3 [21;17H[50;109H7,[22;17H[50;109H8,[23;17H[50;109H9,[24;17H[50;108H90,[25;17H[50;109H1,2 [26;9H[50;109H2,3 [27;17H[50;109H3,[28;17H[50;109H4,[30;17H[50;109H5,1 [31;1H[50;109H6,4 [32;17H[50;109H7,3 [33;17H[50;109H8,[34;17H[50;109H9,[35;17H[50;107H200,[36;17H[50;109H1,4 [37;17H[50;109H2,3 [39;17H[50;106H203,17 [41;17H[50;106H 204,3 [42;17H[50;109H5,1 [43;1H[50;109H6,3 [44;17H[50;109H7,[45;17H[50;109H8,[46;17H[50;106H209,17 [47;17H[50;107H10,10 [48;17H[?25l[1;49r[m[49;1H
[1;51r[48;1H[38;5;224m                   scp -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m -i [m[38;5;81m$PATH_KEYPAIR[m[38;5;224m/id_rsa ubuntu@[m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:/root/access_nginn[49;1Hx.log [m[38;5;81m$path_experiment[m[38;5;224m/access_nginx[m[38;5;81m${i}[m[38;5;224m.log[m[50;106H[1m[7m 211,3 [48;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                done[m[50;106H[1m[7m212,10 83%[49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m        [m[50;106H[1m[7m 213,2 [49;9H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m        [m[50;109H[1m[7m4,2 84%[49;9H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                #on sauvegarde les donn√©es li√©es √† la ram et au cpu[m[50;109H[1m[7m5,3 [49;17H[?12l[?25h[?25l[1;49r[m[1;1H[2M[1;51r[48;1H[38;5;224m                [m[93mmv[m[38;5;224m [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv [m[38;5;81m$path_experiment[m[38;5;224m/
                [m[50;109H[1m[7m6,3 85%[48;17H[?12l[?25h[50;109H7,[49;17H[?25l[1;49r[m[1;1H[2M[1;51r[48;1H[38;5;224m                #on sauvegarde le scenario
                cp [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/user-files/simulations/elastica/[m[38;5;81m$pattern.scala[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/[m[50;109H[1m[7m8,3 86%[48;17H[?12l[?25h[50;109H9,[49;17H[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                [m[50;108H[1m[7m20,3 87%[49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                #on sauvegarde le code [m[93mdu[m[38;5;224m handler de l[m[93m'[m[95melasticit√© manager[m[50;109H[1m[7m1,[49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                cp $PROJECT_PATH/elasticity_manager/handle_event.sh $path_experiment/[m[50;109H[1m[7m2,3 88%[49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m        [m[50;109H[1m[7m3,2 [49;9H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m        [m[50;109H[1m[7m4,2 89%[49;9H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                #retrieving energy log files[m[50;109H[1m[7m5,3 [49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                echo "retrieving energy log files from"$nodes[m[50;106H[1m[7m226,17 90%[49;17H[?12l[?25h[?25l[1;49r[m[1;1H[2M[1;51r[48;1H[95m                $PROJECT_PATH/experiments/rubis_energy_ls/scripts/get_energy_log.sh $start_timestamp $end_timestampp[49;1H $path_experiment $nodes[m[50;108H[1m[7m7,[48;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;106H[1m[7m 228,1 91%[49;1H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                [m[50;109H[1m[7m9,3 [49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                rm -f /root/action.sh[m[50;108H[1m[7m30,3 92%[49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                echo "checking if action in progress"[m[50;109H[1m[7m1,[49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[95m                #on ne peut passer qu[m[93m'[m[38;5;224m√† l[m[93m'[m[95mexp√© suivante si on on a pas d[m[93m'[m[38;5;224maction en cours[m[50;109H[1m[7m2,3 93%[49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                while ! [ -z [m[93m"[m[38;5;224m`ps aux | [m[93mgrep[m[38;5;224m /root/action.sh | [m[93mgrep[m[38;5;224m -v [m[93mgrep[m[38;5;224m`[m[93m"[m[38;5;224m ][m[50;109H[1m[7m3,[49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                do [m[50;109H[1m[7m4,3 94%[49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                        [m[93mecho[m[95m -n [m[93m"[m[95m.[m[93m"[m[50;109H[1m[7m5,[49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                        [m[93msleep[m[38;5;224m [m[95m1[m[50;109H[1m[7m6,3 95%[49;17H[?12l[?25h[?25l[1;49r[m[1;1H[2M[1;51r[48;1H[38;5;224m                done
                [m[50;109H[1m[7m7,3 96%[48;17H[?12l[?25h[50;109H8,[49;17H[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                [m[93mecho[m[95m [m[93m"[m[95mno more action in progress[m[93m"[m[50;109H[1m[7m9,[49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m                [m[50;108H[1m[7m40,3 97%[49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m        done[m[50;109H[1m[7m1,6 [49;13H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224mdone[m[50;109H[1m[7m2,5 98%[49;5H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224mif [ -d [m[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m ][m[50;106H[1m[7m243,17 [49;17H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224mthen[m[50;106H[1m[7m 244,5 99%[49;5H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[38;5;224m    scp -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m -r [m[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m [m[38;5;81m$G5K_USER[m[38;5;224m@frontend:~/results/[m[50;106H[1m[7m245,17 [49;17H[?12l[?25h[?25l[1;49r[m[1;1H[2M[1;51r[48;1H[38;5;224mfi[m
[94m~                                                                                                                  [m[50;106H[1m[7m 246,3 Bot[48;3H[?12l[?25h[50;106H245,17 [47;17H[50;106H 244,5 [46;5H[50;106H243,17 [45;17H[m[51;1H[K[45;16H[?25l[51;105H^[[45;16H[?12l[?25h[?25l[51;105H  [45;17H[50;111H[1m[7m6 [45;16H[?12l[?25h[?25l[m[51;105H^[[45;16H[?12l[?25h[?25l[51;105H  [45;16H[?12l[?25h[?25l[51;105H:[45;16H[51;105H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"bench.sh" 246L, 7760C written[45;16H[50;9H[1m[7m    [45;16H[?12l[?25h[?25l[m[51;105H:[45;16H[51;1H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica/experiments/rubis_energy_ls/scripts$ vim ru[K[Kget
getCloudState.sh   get_energy_log.sh  
falvaresdeoliveira@flyon:~/elastica/experiments/rubis_energy_ls/scripts$ vim get
getCloudState.sh   get_energy_log.sh  
falvaresdeoliveira@flyon:~/elastica/experiments/rubis_energy_ls/scripts$ vim get_energy_log.sh 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"get_energy_log.sh" 85L, 2365C[>c[2;1H[93mif ![m [93m[[m [93m-d[m /share [93m][m || [93m![m [93m[[m [93m-f[m /root/openrc [93m]
then[4;6Hecho[m[95m [m[93m"[m[95mThis script should be executed on the controller.[m[93m"[5;6Hexit[m [95m1[m
[93mfi

if [[m [38;5;81m$#[m [93m-lt[m [95m4[m [93m]
then
[m    [93mecho[m[95m [m[93m"[m[95mUsage: [m[38;5;81m$0[m[95m <start_timestamp> <end_timestamp> <output_log_path> <node1> <node2>...[m[93m"
[m    [93mexit[m [95m1[m
[93mfi


source[m [38;5;81m$PROJECT_PATH[m/common/util.sh

[93mif ![m [93m[[m [93m-f[m [38;5;81m$G5K_USER_PATH[m [93m-a[m [93m-f[m [38;5;81m$G5K_PWD_PATH[m [93m]
then
[m    [93mecho[m[95m [m[93m"[m[95mError: Username or password not stored![m[93m"
[m    [93mexit[m [95m1[m
[93mfi[m

[1m[96mG5K_PWD[m=[38;5;81m$([m[38;5;224mcat [m[38;5;81m$G5K_PWD_PATH[m[38;5;224m | base64 --decode[m[38;5;81m)[m
[1m[96mG5K_USER[m=[38;5;81m$([m[38;5;224mcat [m[38;5;81m$G5K_USER_PATH)[m[28;1H[1m[96mSTART_LOG_TIME[m=[38;5;81m$1[m
[1m[96mEND_LOG_TIME[m=[38;5;81m$2[m
[1m[96mOUTPUT_LOG_PATH[m=[38;5;81m$3[m

[93mshift[m [95m3[m

[1m[96mSYEAR[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$START_LOG_TIME[m[38;5;224m +%Y[m[38;5;81m)[m
[1m[96mSMONTH[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$START_LOG_TIME[m[38;5;224m +%m[m[38;5;81m)[m
[1m[96mSDAY[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$START_LOG_TIME[m[38;5;224m +%d[m[38;5;81m)[m
[1m[96mSHOUR[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$START_LOG_TIME[m[38;5;224m +%H[m[38;5;81m)[m
[1m[96mSMINUTE[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$START_LOG_TIME[m[38;5;224m +%M[m[38;5;81m)[m
[1m[96mSSECOND[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$START_LOG_TIME[m[38;5;224m +%S[m[38;5;81m)[m

[1m[96mEYEAR[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$END_LOG_TIME[m[38;5;224m +%Y[m[38;5;81m)[m
[1m[96mEMONTH[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$END_LOG_TIME[m[38;5;224m +%m[m[38;5;81m)[m
[1m[96mEDAY[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$END_LOG_TIME[m[38;5;224m +%d[m[38;5;81m)[m
[1m[96mEHOUR[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$END_LOG_TIME[m[38;5;224m +%H[m[38;5;81m)[m
[1m[96mEMINUTE[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$END_LOG_TIME[m[38;5;224m +%M[m[38;5;81m)[m
[1m[96mESECOND[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$END_LOG_TIME[m[38;5;224m +%S[m[38;5;81m)[m[50;1H[1m[7mget_energy_log.sh                                                                                           1,0 Top[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [2;1H[50;109H[1m[7m2,1 [2;1H[?12l[?25h[?25l[m[51;105H~@k[2;1H[51;105H   [3;1H[50;109H[1m[7m3,[3;1H[?12l[?25h[?25l[m[51;105H~@k[3;1H[51;105H   [4;1H[50;109H[1m[7m4,[4;1H[?12l[?25h[?25l[m[51;105H~@k[4;1H[51;105H   [5;1H[50;109H[1m[7m5,[5;1H[?12l[?25h[?25l[m[51;105H~@k[5;1H[51;105H   [6;1H[50;109H[1m[7m6,[6;1H[?12l[?25h[?25l[m[51;105H~@k[6;1H[51;105H   [7;1H[50;109H[1m[7m7,0 [7;1H[?12l[?25h[?25l[m[51;105H~@k[7;1H[51;105H   [8;1H[50;109H[1m[7m8,1 [8;1H[?12l[?25h[?25l[m[51;105H~@k[8;1H[51;105H   [9;1H[50;109H[1m[7m9,[9;1H[?12l[?25h[?25l[m[51;105H~@k[9;1H[51;105H   [10;1H[50;108H[1m[7m10,[10;1H[?12l[?25h[?25l[m[51;105H~@k[10;1H[51;105H   [11;1H[50;109H[1m[7m1,[11;1H[?12l[?25h[?25l[m[51;105H~@k[11;1H[51;105H   [12;1H[50;109H[1m[7m2,[12;1H[?12l[?25h[?25l[m[51;105H~@k[12;1H[51;105H   [13;1H[50;109H[1m[7m3,0 [13;1H[?12l[?25h[?25l[m[51;105H~@k[13;1H[51;105H   [14;1H[50;109H[1m[7m4,[14;1H[?12l[?25h[?25l[m[51;105H~@k[14;1H[51;105H   [15;1H[50;109H[1m[7m5,1 [15;1H[?12l[?25h[?25l[m[51;105H~@k[15;1H[51;105H   [16;1H[50;109H[1m[7m6,0 [16;1H[?12l[?25h[?25l[m[51;105H~@k[16;1H[51;105H   [17;1H[50;109H[1m[7m7,1 [17;1H[?12l[?25h[?25l[m[51;105H~@k[17;1H[51;105H   [18;1H[50;109H[1m[7m8,[18;1H[?12l[?25h[?25l[m[51;105H~@k[18;1H[51;105H   [19;1H[50;109H[1m[7m9,[19;1H[?12l[?25h[?25l[m[51;105H~@k[19;1H[51;105H   [20;1H[50;108H[1m[7m20,[20;1H[?12l[?25h[?25l[m[51;105H~@k[20;1H[51;105H   [21;1H[50;109H[1m[7m1,[21;1H[?12l[?25h[?25l[m[51;105H~@k[21;1H[51;105H   [22;1H[50;109H[1m[7m2,0 [22;1H[?12l[?25h[?25l[m[51;105H~@k[22;1H[51;105H   [23;1H[50;109H[1m[7m3,1 [23;1H[?12l[?25h[?25l[m[51;105H~@k[23;1H[51;105H   [24;1H[50;109H[1m[7m4,[24;1H[?12l[?25h[?25l[m[51;105H~@k[24;1H[51;105H   [25;1H[50;109H[1m[7m5,0 [25;1H[?12l[?25h[?25l[m[51;105H~@k[25;1H[51;105H   [26;1H[50;109H[1m[7m6,[26;1H[?12l[?25h[?25l[m[51;105H~@k[26;1H[51;105H   [27;1H[50;109H[1m[7m7,[27;1H[?12l[?25h[?25l[m[51;105H~@k[27;1H[51;105H   [28;1H[50;109H[1m[7m8,1 [28;1H[?12l[?25h[?25l[m[51;105H~@k[28;1H[51;105H   [29;1H[50;109H[1m[7m9,[29;1H[?12l[?25h[?25l[m[51;105H~@k[29;1H[51;105H   [30;1H[50;108H[1m[7m30,[30;1H[?12l[?25h[?25l[m[51;105H~@k[30;1H[51;105H   [31;1H[50;109H[1m[7m1,0 [31;1H[?12l[?25h[?25l[m[51;105H~@k[31;1H[51;105H   [32;1H[50;109H[1m[7m2,1 [32;1H[?12l[?25h[?25l[m[51;105H~@k[32;1H[51;105H   [1;1H[27m[23m[m[H[2J[3;1H[93mecho[m[95m [m[93m"[m[95mnodes : [m[93m"[m[95m [m[38;5;81m$@[m

[1m[96mi[m=[95m0[m
[1m[96mnode_params[m=
[93mfor[m node [93min[m [93m"[m[38;5;81m$@[m[93m"
do[m
  [1m[96mnode_params[m=[38;5;81m$node_params[m[93m"[m[95m&node[[m[38;5;81m$i[m[95m]=[m[38;5;81m$node[m[93m"[m
  [1m[96mi[m=[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m + [m[95m1[m[38;5;224m`[m
[93mdone[m

[1m[96mWATTMETER_URL[m=[93m"[m[95mhttps://intranet.grid5000.fr/supervision/lyon/wattmetre[m[93m"

export[m[1m[96m https_proxy=[m[93m'[m[95mhttp://proxy:3128[m[93m'
export[m[1m[96m https_proxy=[m[38;5;81m$http_proxy[m

[96m#echo "start-year=${SYEAR}&start-month=${SMONTH}&start-day=${SDAY}&start-hour=${SHOUR}&start-minute=${SMINUTE}&starr[19;1Ht-second=${SSECOND}&end-year=${EYEAR}&end-month=${EMONTH}&end-day=${EDAY}&end-hour=${EHOUR}&end-minute=${EMINUTE}&ee[20;1Hnd-second=${ESECOND}}${node_params}&incr=1"
#exit;[m

curl [38;5;224m-u[m [38;5;81m$G5K_USER[m:[38;5;81m$G5K_PWD[m [38;5;224m-d[m [93m"[m[95mstart-year=[m[38;5;81m${SYEAR}[m[95m&start-month=[m[38;5;81m${SMONTH}[m[95m&start-day=[m[38;5;81m${SDAY}[m[95m&start-hour=[m[38;5;81m${SHOUR}[m[95m&starr[24;1Ht-minute=[m[38;5;81m${SMINUTE}[m[95m&start-second=[m[38;5;81m${SSECOND}[m[95m&end-year=[m[38;5;81m${EYEAR}[m[95m&end-month=[m[38;5;81m${EMONTH}[m[95m&end-day=[m[38;5;81m${EDAY}[m[95m&end-hour=[m[38;5;81m${EHOUR}}[m[25;1H[95m&end-minute=[m[38;5;81m${EMINUTE}[m[95m&end-second=[m[38;5;81m${ESECOND}[m[95m}[m[38;5;81m${node_params}[m[95m&incr=1[m[93m"[m [38;5;81m$WATTMETER_URL[m/traitement.php [93m>[m [38;5;81m$OUTPUT_LOG_PATT[26;1HH[m/tmp_html

[93mrm[m [38;5;81m$OUTPUT_LOG_PATH[m/*.watt.log

[93mfor[m node [93min[m [38;5;81m$@[m
[93mdo[m
  [1m[96mLOG_PATH[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[93m"[m[95ms/.*href[m[38;5;224m\=\"\.\(\/[m[95muserlogs.*[m[38;5;81m$node.dat[m[38;5;224m\)\"[m[95m.*$/[m[38;5;224m\1[m[95m/p[m[93m"[m[38;5;224m [m[38;5;81m$OUTPUT_LOG_PATH[m[38;5;224m/tmp_html[m[38;5;81m)[m
  wget [38;5;224m--http-user=[m[38;5;81m$G5K_USER[m [38;5;224m--http-passwor=[m[38;5;81m$G5K_PWD[m [38;5;81m$WATTMETER_URL[m/[38;5;81m$LOG_PATH[m [93m-O[m [38;5;81m$OUTPUT_LOG_PATH[m/[38;5;81m$node.watt.log[m
[93mdone

unset[m[1m[96m http_proxy[m
[93munset[m[1m[96m https_proxy[m

[96m#awk 'FNR==NR{a[$1]=$3;next} {print $0" "a[$1]}' $OUTPUT_LOG_PATH/*.watt.log > $OUTPUT_LOG_PATH/energy.log[m

[93mrm[m [38;5;81m$OUTPUT_LOG_PATH[m/tmp_html


[94m~                                                                                                                  [45;1H~                                                                                                                  [46;1H~                                                                                                                  [47;1H~                                                                                                                  [48;1H~                                                                                                                  [49;1H~                                                                                                                  [m[50;1H[1m[7mget_energy_log.sh                                                                                          48,0 Bot[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [2;1H[50;109H[1m[7m9,[2;1H[?12l[?25h[?25l[m[51;105H~@k[2;1H[51;105H   [3;1H[50;108H[1m[7m50,1 [3;1H[?12l[?25h[?25l[m[51;105H~@k[3;1H[51;105H   [4;1H[50;109H[1m[7m1,0 [4;1H[?12l[?25h[?25l[m[51;105H~@k[4;1H[51;105H   [5;1H[50;109H[1m[7m2,1 [5;1H[?12l[?25h[?25l[m[51;105H~@k[5;1H[51;105H   [6;1H[50;109H[1m[7m3,[6;1H[?12l[?25h[?25l[m[51;105H~@k[6;1H[51;105H   [7;1H[50;109H[1m[7m4,[7;1H[?12l[?25h[?25l[m[51;105H~@k[7;1H[51;105H   [8;1H[50;109H[1m[7m5,[8;1H[?12l[?25h[?25l[m[51;105H~@k[8;1H[51;105H   [9;1H[50;109H[1m[7m6,[9;1H[?12l[?25h[?25l[m[51;105H~@k[9;1H[51;105H   [10;1H[50;109H[1m[7m7,[10;1H[?12l[?25h[?25l[m[51;105H~@k[10;1H[51;105H   [11;1H[50;109H[1m[7m8,[11;1H[?12l[?25h[?25l[m[51;105H~@k[11;1H[51;105H   [12;1H[50;109H[1m[7m9,0 [12;1H[?12l[?25h[?25l[m[51;105H~@k[12;1H[51;105H   [13;1H[50;108H[1m[7m60,1 [13;1H[?12l[?25h[?25l[m[51;105H~@k[13;1H[51;105H   [14;1H[50;109H[1m[7m1,0 [14;1H[?12l[?25h[?25l[m[51;105H~@k[14;1H[51;105H   [15;1H[50;109H[1m[7m2,1 [15;1H[?12l[?25h[?25l[m[51;105H~@k[15;1H[51;105H   [16;1H[50;109H[1m[7m3,[16;1H[?12l[?25h[?25l[m[51;105H~@k[16;1H[51;105H   [17;1H[50;109H[1m[7m4,0 [17;1H[?12l[?25h[?25l[m[51;105H~@k[17;1H[51;105H   [18;1H[50;109H[1m[7m5,1 [18;1H[?12l[?25h[?25l[m[51;105H~@k[18;1H[51;105H   [21;1H[50;109H[1m[7m6,[21;1H[?12l[?25h[?25l[m[51;105H~@k[21;1H[51;105H   [22;1H[50;109H[1m[7m7,0 [22;1H[?12l[?25h[?25l[m[51;105H~@k[22;1H[51;105H   [23;1H[50;109H[1m[7m8,1 [23;1H[?12l[?25h[?25l[m[51;105H~@k[23;1H[51;105H   [27;1H[50;109H[1m[7m9,0 [27;1H[?12l[?25h[?25l[m[51;105H~@k[27;1H[51;105H   [28;1H[50;108H[1m[7m70,1 [28;1H[?12l[?25h[?25l[m[51;105H~@k[28;1H[51;105H   [27;1H[50;108H[1m[7m69,0 [27;1H[?12l[?25h[?25l[m[51;105H~@k[27;1H[51;105H   [23;1H[50;109H[1m[7m8,1 [23;1H[?12l[?25h[?25l[m[51;105H~@k[23;1H[51;105H   [27;1H[50;109H[1m[7m9,0 [27;1H[?12l[?25h[?25l[m[51;105H~@k[27;1H[51;105H   [23;1H[50;109H[1m[7m8,1 [23;1H[?12l[?25h[?25l[m[51;105H~@k[23;1H[51;105H   [22;1H[50;109H[1m[7m7,0 [22;1H[?12l[?25h[?25l[m[51;105H~@k[22;1H[51;105H   [21;1H[50;109H[1m[7m6,1 [21;1H[?12l[?25h[?25l[m[51;105H~@k[21;1H[51;105H   [18;1H[50;109H[1m[7m5,[18;1H[?12l[?25h[?25l[m[51;105H~@k[18;1H[51;105H   [17;1H[50;109H[1m[7m4,0 [17;1H[?12l[?25h[?25l[m[51;105H~@k[17;1H[51;105H   [16;1H[50;109H[1m[7m3,1 [16;1H[?12l[?25h[?25l[m[51;105H~@k[16;1H[51;105H   [15;1H[50;109H[1m[7m2,[15;1H[?12l[?25h[?25l[m[51;105H~@k[15;1H[51;105H   [14;1H[50;109H[1m[7m1,0 [14;1H[?12l[?25h[?25l[m[51;105H~@k[14;1H[51;105H   [13;1H[50;109H[1m[7m0,1 [13;1H[?12l[?25h[?25l[m[51;105H~@k[13;1H[51;105H   [12;1H[50;108H[1m[7m59,0 [12;1H[?12l[?25h[?25l[m[51;105H~@k[12;1H[51;105H   [13;1H[50;108H[1m[7m60,1 [13;1H[?12l[?25h[?25l[m[51;105H~@k[13;1H[51;105H   [14;1H[50;109H[1m[7m1,0 [14;1H[?12l[?25h[?25l[m[51;105H~@k[14;1H[51;105H   [15;1H[50;109H[1m[7m2,1 [15;1H[?12l[?25h[?25l[m[51;105H~@k[15;1H[51;105H   [16;1H[50;109H[1m[7m3,[16;1H[?12l[?25h[?25l[m[51;105H~@k[16;1H[51;105H   [17;1H[50;109H[1m[7m4,0 [17;1H[?12l[?25h[?25l[m[51;105H~@k[17;1H[51;105H   [18;1H[50;109H[1m[7m5,1 [18;1H[?12l[?25h[?25l[m[51;105H~@k[18;1H[51;105H   [17;1H[50;109H[1m[7m4,0 [17;1H[?12l[?25h[?25l[m[51;105H~@k[17;1H[51;105H   [16;1H[50;109H[1m[7m3,1 [16;1H[?12l[?25h[?25l[m[51;105H~@k[16;1H[51;105H   [15;1H[50;109H[1m[7m2,[15;1H[?12l[?25h[?25l[m[51;105H~@k[15;1H[51;105H   [14;1H[50;109H[1m[7m1,0 [14;1H[?12l[?25h[?25l[m[51;105H~@k[14;1H[51;105H   [13;1H[50;109H[1m[7m0,1 [13;1H[?12l[?25h[?25l[m[51;105H~@k[13;1H[51;105H   [12;1H[50;108H[1m[7m59,0 [12;1H[?12l[?25h[?25l[m[51;105H~@k[12;1H[51;105H   [11;1H[50;109H[1m[7m8,1 [11;1H[?12l[?25h[?25l[m[51;105H~@k[11;1H[51;105H   [10;1H[50;109H[1m[7m7,[10;1H[?12l[?25h[?25l[m[51;105H~@k[10;1H[51;105H   [9;1H[50;109H[1m[7m6,[9;1H[?12l[?25h[?25l[m[51;105H~@k[9;1H[51;105H   [10;1H[50;109H[1m[7m7,[10;1H[?12l[?25h[?25l[m[51;105H~@k[10;1H[51;105H   [11;1H[50;109H[1m[7m8,[11;1H[?12l[?25h[?25l[m[51;105H~@k[11;1H[51;105H   [12;1H[50;109H[1m[7m9,0 [12;1H[?12l[?25h[?25l[m[51;105H~@k[12;1H[51;105H   [13;1H[50;108H[1m[7m60,1 [13;1H[?12l[?25h[?25l[m[51;105H~@k[13;1H[51;105H   [14;1H[50;109H[1m[7m1,0 [14;1H[?12l[?25h[?25l[m[51;105H~@k[14;1H[51;105H   [15;1H[50;109H[1m[7m2,1 [15;1H[?12l[?25h[?25l[m[51;105H~@k[15;1H[51;105H   [16;1H[50;109H[1m[7m3,[16;1H[?12l[?25h[?25l[m[51;105H~@k[16;1H[51;105H   [17;1H[50;109H[1m[7m4,0 [17;1H[?12l[?25h[?25l[m[51;105H~@k[17;1H[51;105H   [18;1H[50;109H[1m[7m5,1 [18;1H[?12l[?25h[?25l[m[51;105H~@k[18;1H[51;105H   [21;1H[50;109H[1m[7m6,[21;1H[?12l[?25h[?25l[m[51;105H~@k[21;1H[51;105H   [22;1H[50;109H[1m[7m7,0 [22;1H[?12l[?25h[?25l[m[51;105H~@k[22;1H[51;105H   [23;1H[50;109H[1m[7m8,1 [23;1H[?12l[?25h[?25l[m[51;105H~@k[23;1H[51;105H   [27;1H[50;109H[1m[7m9,0 [27;1H[?12l[?25h[?25l[m[51;105H~@k[27;1H[51;105H   [28;1H[50;108H[1m[7m70,1 [28;1H[?12l[?25h[?25l[m[51;105H~@k[28;1H[51;105H   [29;1H[50;109H[1m[7m1,0 [29;1H[?12l[?25h[?25l[m[51;105H~@k[29;1H[51;105H   [30;1H[50;109H[1m[7m2,1 [30;1H[?12l[?25h[?25l[m[51;105H~@k[30;1H[51;105H   [31;1H[50;109H[1m[7m3,[31;1H[?12l[?25h[?25l[m[51;105H~@k[31;1H[51;105H   [32;1H[50;109H[1m[7m4,[32;1H[?12l[?25h[?25l[m[51;105H~@k[32;1H[51;105H   [33;1H[50;109H[1m[7m5,[33;1H[?12l[?25h[?25l[m[51;105H~@k[33;1H[51;105H   [32;1H[50;109H[1m[7m4,[32;1H[?12l[?25h[?25l[m[51;105H~@k[32;1H[51;105H   [31;1H[50;109H[1m[7m3,[31;1H[?12l[?25h[?25l[m[51;105H~@k[31;1H[51;105H   [30;1H[50;109H[1m[7m2,[30;1H[?12l[?25h[?25l[m[51;105H~@k[30;1H[51;105H   [29;1H[50;109H[1m[7m1,0 [29;1H[?12l[?25h[?25l[m[51;105H~@k[29;1H[51;105H   [28;1H[50;109H[1m[7m0,1 [28;1H[?12l[?25h[?25l[m[51;105H~@k[28;1H[51;105H   [27;1H[50;108H[1m[7m69,0 [27;1H[?12l[?25h[?25l[m[51;105H~@k[27;1H[51;105H   [28;1H[50;108H[1m[7m70,1 [28;1H[?12l[?25h[?25l[m[51;105H~@k[28;1H[51;105H   [29;1H[50;109H[1m[7m1,0 [29;1H[?12l[?25h[?25l[m[51;105H~@k[29;1H[51;105H   [30;1H[50;109H[1m[7m2,1 [30;1H[?12l[?25h[?25l[m[51;105H~@k[30;1H[51;105H   [31;1H[50;109H[1m[7m3,[31;1H[?12l[?25h[?25l[m[51;105H~@k[31;1H[51;105H   [31;2H[50;111H[1m[7m2 [31;2H[?12l[?25h[?25l[m[51;105H~@k[31;2H[51;105H   [32;1H[50;109H[1m[7m4,1 [32;1H[?12l[?25h[?25l[m[51;105H~@k[32;1H[51;105H   [32;2H[50;111H[1m[7m2 [32;2H[?12l[?25h[?25l[m[51;105H~@k[32;2H[51;105H   [32;3H[50;111H[1m[7m3 [32;3H[?12l[?25h[?25l[m[51;105H~@k[32;3H[51;105H   [32;4H[50;111H[1m[7m4 [32;4H[?12l[?25h[?25l[m[51;105H~@k[32;4H[51;105H   [33;4H[50;109H[1m[7m5,[33;4H[?12l[?25h[?25l[m[51;105H~@k[33;4H[51;105H   [33;5H[50;111H[1m[7m5 [33;5H[?12l[?25h[?25l[m[51;105H~@k[33;5H[51;105H   [33;6H[50;111H[1m[7m6 [33;6H[?12l[?25h[?25l[m[51;105H~@k[33;6H[51;105H   [33;7H[50;111H[1m[7m7 [33;7H[?12l[?25h[?25l[m[51;105H~@k[33;7H[51;105H   [33;8H[50;111H[1m[7m8 [33;8H[?12l[?25h[?25l[m[51;105H~@k[33;8H[51;105H   [33;9H[50;111H[1m[7m9 [33;9H[?12l[?25h[?25l[m[51;105H~@k[33;9H[51;105H   [33;10H[50;107H[1m[7m75,10 [33;10H[?12l[?25h[?25l[m[51;105H~@k[33;10H[51;105H   [33;11H[50;111H[1m[7m1 [33;11H[?12l[?25h[?25l[m[51;105H~@k[33;11H[51;105H   [33;12H[50;111H[1m[7m2 [33;12H[?12l[?25h[?25l[m[51;105H~@k[33;12H[51;105H   [33;13H[50;111H[1m[7m3 [33;13H[?12l[?25h[?25l[m[51;105H~@k[33;13H[51;105H   [33;14H[50;111H[1m[7m4 [33;14H[?12l[?25h[?25l[m[51;105H~@k[33;14H[51;105H   [33;15H[50;111H[1m[7m5 [33;15H[?12l[?25h[?25l[m[51;105H~@k[33;15H[51;105H   [33;16H[50;111H[1m[7m6 [33;16H[?12l[?25h[?25l[m[51;105H~@k[33;16H[51;105H   [33;17H[50;111H[1m[7m7 [33;17H[?12l[?25h[?25l[m[51;105H~@k[33;17H[51;105H   [33;18H[50;111H[1m[7m8 [33;18H[?12l[?25h[?25l[m[51;105H~@k[33;18H[51;105H   [33;19H[50;111H[1m[7m9 [33;19H[?12l[?25h[?25l[m[51;105H~@k[33;19H[51;105H   [33;20H[50;110H[1m[7m20 [33;20H[?12l[?25h[?25l[m[51;105H~@k[33;20H[51;105H   [33;21H[50;111H[1m[7m1 [33;21H[?12l[?25h[?25l[m[51;105H~@k[33;21H[51;105H   [33;22H[50;111H[1m[7m2 [33;22H[?12l[?25h[?25l[m[51;105H~@k[33;22H[51;105H   [33;23H[50;111H[1m[7m3 [33;23H[?12l[?25h[?25l[m[51;105H~@k[33;23H[51;105H   [33;24H[50;111H[1m[7m4 [33;24H[?12l[?25h[?25l[m[51;105H~@k[33;24H[51;105H   [33;25H[50;111H[1m[7m5 [33;25H[?12l[?25h[?25l[m[51;105H~@k[33;25H[51;105H   [33;26H[50;111H[1m[7m6 [33;26H[?12l[?25h[?25l[m[51;105H~@k[33;26H[51;105H   [33;27H[50;111H[1m[7m7 [33;27H[?12l[?25h[?25l[m[51;105H~@k[33;27H[51;105H   [33;28H[50;111H[1m[7m8 [33;28H[?12l[?25h[?25l[m[51;105H~@k[33;28H[51;105H   [33;29H[50;111H[1m[7m9 [33;29H[?12l[?25h[?25l[m[51;105H~@k[33;29H[51;105H   [33;30H[50;110H[1m[7m30 [33;30H[?12l[?25h[?25l[m[51;105H~@k[33;30H[51;105H   [33;31H[50;111H[1m[7m1 [33;31H[?12l[?25h[?25l[m[51;105H~@k[33;31H[51;105H   [33;32H[50;111H[1m[7m2 [33;32H[?12l[?25h[?25l[m[51;105H~@k[33;32H[51;105H   [33;33H[50;111H[1m[7m3 [33;33H[?12l[?25h[?25l[m[51;105H~@k[33;33H[51;105H   [33;34H[50;111H[1m[7m4 [33;34H[?12l[?25h[?25l[m[51;105H~@k[33;34H[51;105H   [33;35H[50;111H[1m[7m5 [33;35H[?12l[?25h[?25l[m[51;105H~@k[33;35H[51;105H   [33;36H[50;111H[1m[7m6 [33;36H[?12l[?25h[?25l[m[51;105H~@k[33;36H[51;105H   [33;37H[50;111H[1m[7m7 [33;37H[?12l[?25h[?25l[m[51;105H~@k[33;37H[51;105H   [33;38H[50;111H[1m[7m8 [33;38H[?12l[?25h[?25l[m[51;105H~@k[33;38H[51;105H   [33;39H[50;111H[1m[7m9 [33;39H[?12l[?25h[?25l[m[51;105H~@k[33;39H[51;105H   [34;4H[50;107H[1m[7m 76,4 [34;4H[?12l[?25h[?25l[m[51;105H~@k[34;4H[51;105H   [35;1H[50;109H[1m[7m7,0 [35;1H[?12l[?25h[?25l[m[51;105H~@k[35;1H[51;105H   [36;16H[50;107H[1m[7m78,16 [36;16H[?12l[?25h[?25l[m[51;105H~@k[36;16H[51;105H   [37;17H[50;108H[1m[7m9,17 [37;17H[?12l[?25h[?25l[m[51;105H~@k[37;17H[51;105H   [38;1H[50;107H[1m[7m 80,0 [38;1H[?12l[?25h[?25l[m[51;105H~@k[38;1H[51;105H   [39;39H[50;107H[1m[7m81,39 [39;39H[?12l[?25h[?25l[m[51;105H~@k[39;39H[51;105H   [40;1H[50;107H[1m[7m 82,0 [40;1H[?12l[?25h[?25l[m[51;105H~@k[40;1H[51;105H   [41;28H[50;107H[1m[7m83,28 [41;28H[?12l[?25h[?25l[m[51;105H~@k[41;28H[51;105H   [40;1H[50;107H[1m[7m 82,0 [40;1H[?12l[?25h[?25l[m[51;105H~@k[40;1H[51;105H   [39;39H[50;107H[1m[7m81,39 [39;39H[?12l[?25h[?25l[m[51;105H~@k[39;39H[51;105H   [38;1H[50;107H[1m[7m 80,0 [38;1H[?12l[?25h[?25l[m[51;105H~@k[38;1H[51;105H   [37;17H[50;107H[1m[7m79,17 [37;17H[?12l[?25h[?25l[m[51;105H~@k[37;17H[51;105H   [36;16H[50;108H[1m[7m8,16 [36;16H[?12l[?25h[?25l[m[51;105H~@k[36;16H[51;105H   [35;1H[50;107H[1m[7m 77,0 [35;1H[?12l[?25h[?25l[m[51;105H~@k[35;1H[51;105H   [34;4H[50;109H[1m[7m6,4 [34;4H[?12l[?25h[?25l[m[51;105H~@k[34;4H[51;105H   [33;39H[50;107H[1m[7m75,39 [33;39H[?12l[?25h[50;108H4,[32;39H[?25l[m[51;105H~@k[32;39H[51;105H   [31;2H[50;107H[1m[7m 73,2 [31;2H[?12l[?25h[?25l[m[51;105H~@k[31;2H[51;105H   [30;14H[50;107H[1m[7m72,14 [30;14H[?12l[?25h[?25l[m[51;105H~@k[30;14H[51;105H   [29;1H[50;107H[1m[7m 71,0 [29;1H[?12l[?25h[?25l[m[51;105H~@k[29;1H[51;105H   [28;30H[50;107H[1m[7m70,30[28;30H[?12l[?25h[?25l[m[51;105H~@k[28;30H[51;105H   [27;1H[50;107H[1m[7m 69,0[27;1H[?12l[?25h[?25l[m[51;105H~@k[27;1H[51;105H   [23;39H[50;107H[1m[7m68,39 [23;39H[?12l[?25h[?25l[m[51;105H~@k[23;39H[51;105H   [22;1H[50;107H[1m[7m 67,0 [22;1H[?12l[?25h[?25l[m[51;105H~@k[22;1H[51;105H   [21;6H[50;109H[1m[7m6,6 [21;6H[?12l[?25h[?25l[m[51;105H~@k[21;6H[51;105H   [18;39H[50;107H[1m[7m65,39 [18;39H[?12l[?25h[?25l[m[51;105H~@k[18;39H[51;105H   [17;1H[50;107H[1m[7m 64,0 [17;1H[?12l[?25h[?25l[m[51;105H~@k[17;1H[51;105H   [16;30H[50;107H[1m[7m63,30[16;30H[?12l[?25h[?25l[m[51;105H~@k[16;30H[51;105H   [15;38H[50;108H[1m[7m2,38 [15;38H[?12l[?25h[?25l[m[51;105H~@k[15;38H[51;105H   [14;1H[50;107H[1m[7m 61,0 [14;1H[?12l[?25h[?25l[m[51;105H^[[14;1H[?12l[?25h[?25l[51;105H  [14;1H[?12l[?25h[?25l[51;105H:[14;1H[51;105H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica/experiments/rubis_energy_ls/scripts$ vim [K[K[K[Kcd ..
falvaresdeoliveira@flyon:~/elastica/experiments/rubis_energy_ls$ cd ..
falvaresdeoliveira@flyon:~/elastica/experiments$ cd ..
falvaresdeoliveira@flyon:~/elastica$ cd ..
falvaresdeoliveira@flyon:~$ vim [Kfalvaresdeoliveira@flyon:~$ vim [K[K[K[K/elastica/experiments/rubis_energy_ls/scripts$[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cc/elastica/experiments/rubis_energy_ls/scripts$[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cd/elastica/experiments/rubis_energy_ls/scripts$[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C /elastica/experiments/rubis_energy_ls/scripts$[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[K
bash: cd: /elastica/experiments/rubis_energy_ls/scripts: No such file or directory
falvaresdeoliveira@flyon:~$ cd /elastica/experiments/rubis_energy_ls/scripts[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1Pelastica/experiments/rubis_energy_ls/scripts[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C
falvaresdeoliveira@flyon:~/elastica/experiments/rubis_energy_ls/scripts$ vim get
getCloudState.sh   get_energy_log.sh  
falvaresdeoliveira@flyon:~/elastica/experiments/rubis_energy_ls/scripts$ vim get_energy_log.sh 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"get_energy_log.sh" 85L, 2365C[>c[2;1H[93mif ![m [93m[[m [93m-d[m /share [93m][m || [93m![m [93m[[m [93m-f[m /root/openrc [93m]
then[4;6Hecho[m[95m [m[93m"[m[95mThis script should be executed on the controller.[m[93m"[5;6Hexit[m [95m1[m
[93mfi

if [[m [38;5;81m$#[m [93m-lt[m [95m4[m [93m]
then
[m    [93mecho[m[95m [m[93m"[m[95mUsage: [m[38;5;81m$0[m[95m <start_timestamp> <end_timestamp> <output_log_path> <node1> <node2>...[m[93m"
[m    [93mexit[m [95m1[m
[93mfi


source[m [38;5;81m$PROJECT_PATH[m/common/util.sh

[93mif ![m [93m[[m [93m-f[m [38;5;81m$G5K_USER_PATH[m [93m-a[m [93m-f[m [38;5;81m$G5K_PWD_PATH[m [93m]
then
[m    [93mecho[m[95m [m[93m"[m[95mError: Username or password not stored![m[93m"
[m    [93mexit[m [95m1[m
[93mfi[m

[1m[96mG5K_PWD[m=[38;5;81m$([m[38;5;224mcat [m[38;5;81m$G5K_PWD_PATH[m[38;5;224m | base64 --decode[m[38;5;81m)[m
[1m[96mG5K_USER[m=[38;5;81m$([m[38;5;224mcat [m[38;5;81m$G5K_USER_PATH)[m[28;1H[1m[96mSTART_LOG_TIME[m=[38;5;81m$1[m
[1m[96mEND_LOG_TIME[m=[38;5;81m$2[m
[1m[96mOUTPUT_LOG_PATH[m=[38;5;81m$3[m

[93mshift[m [95m3[m

[1m[96mSYEAR[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$START_LOG_TIME[m[38;5;224m +%Y[m[38;5;81m)[m
[1m[96mSMONTH[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$START_LOG_TIME[m[38;5;224m +%m[m[38;5;81m)[m
[1m[96mSDAY[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$START_LOG_TIME[m[38;5;224m +%d[m[38;5;81m)[m
[1m[96mSHOUR[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$START_LOG_TIME[m[38;5;224m +%H[m[38;5;81m)[m
[1m[96mSMINUTE[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$START_LOG_TIME[m[38;5;224m +%M[m[38;5;81m)[m
[1m[96mSSECOND[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$START_LOG_TIME[m[38;5;224m +%S[m[38;5;81m)[m

[1m[96mEYEAR[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$END_LOG_TIME[m[38;5;224m +%Y[m[38;5;81m)[m
[1m[96mEMONTH[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$END_LOG_TIME[m[38;5;224m +%m[m[38;5;81m)[m
[1m[96mEDAY[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$END_LOG_TIME[m[38;5;224m +%d[m[38;5;81m)[m
[1m[96mEHOUR[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$END_LOG_TIME[m[38;5;224m +%H[m[38;5;81m)[m
[1m[96mEMINUTE[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$END_LOG_TIME[m[38;5;224m +%M[m[38;5;81m)[m
[1m[96mESECOND[m=[38;5;81m$([m[38;5;224mdate -d @[m[38;5;81m$END_LOG_TIME[m[38;5;224m +%S[m[38;5;81m)[m[50;1H[1m[7mget_energy_log.sh                                                                                           1,0 Top[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [2;1H[50;109H[1m[7m2,1 [2;1H[?12l[?25h[?25l[m[51;105H~@k[2;1H[51;105H   [3;1H[50;109H[1m[7m3,[3;1H[?12l[?25h[?25l[m[51;105H~@k[3;1H[51;105H   [4;1H[50;109H[1m[7m4,[4;1H[?12l[?25h[?25l[m[51;105H~@k[4;1H[51;105H   [5;1H[50;109H[1m[7m5,[5;1H[?12l[?25h[?25l[m[51;105H~@k[5;1H[51;105H   [6;1H[50;109H[1m[7m6,[6;1H[?12l[?25h[?25l[m[51;105H~@k[6;1H[51;105H   [7;1H[50;109H[1m[7m7,0 [7;1H[?12l[?25h[?25l[m[51;105H~@k[7;1H[51;105H   [8;1H[50;109H[1m[7m8,1 [8;1H[?12l[?25h[?25l[m[51;105H~@k[8;1H[51;105H   [9;1H[50;109H[1m[7m9,[9;1H[?12l[?25h[?25l[m[51;105H~@k[9;1H[51;105H   [10;1H[50;108H[1m[7m10,[10;1H[?12l[?25h[?25l[m[51;105H~@k[10;1H[51;105H   [11;1H[50;109H[1m[7m1,[11;1H[?12l[?25h[?25l[m[51;105H~@k[11;1H[51;105H   [12;1H[50;109H[1m[7m2,[12;1H[?12l[?25h[?25l[m[51;105H~@k[12;1H[51;105H   [13;1H[50;109H[1m[7m3,0 [13;1H[?12l[?25h[?25l[m[51;105H~@k[13;1H[51;105H   [14;1H[50;109H[1m[7m4,[14;1H[?12l[?25h[?25l[m[51;105H~@k[14;1H[51;105H   [15;1H[50;109H[1m[7m5,1 [15;1H[?12l[?25h[?25l[m[51;105H~@k[15;1H[51;105H   [16;1H[50;109H[1m[7m6,0 [16;1H[?12l[?25h[?25l[m[51;105H~@k[16;1H[51;105H   [17;1H[50;109H[1m[7m7,1 [17;1H[?12l[?25h[?25l[m[51;105H~@k[17;1H[51;105H   [18;1H[50;109H[1m[7m8,[18;1H[?12l[?25h[?25l[m[51;105H~@k[18;1H[51;105H   [19;1H[50;109H[1m[7m9,[19;1H[?12l[?25h[?25l[m[51;105H~@k[19;1H[51;105H   [20;1H[50;108H[1m[7m20,[20;1H[?12l[?25h[?25l[m[51;105H~@k[20;1H[51;105H   [21;1H[50;109H[1m[7m1,[21;1H[?12l[?25h[?25l[m[51;105H~@k[21;1H[51;105H   [22;1H[50;109H[1m[7m2,0 [22;1H[?12l[?25h[?25l[m[51;105H~@k[22;1H[51;105H   [23;1H[50;109H[1m[7m3,1 [23;1H[?12l[?25h[?25l[m[51;105H~@k[23;1H[51;105H   [24;1H[50;109H[1m[7m4,[24;1H[?12l[?25h[50;109H5,0 [25;1H[50;109H6,[26;1H[?25l[m[51;105H~@k[26;1H[51;105H   [27;1H[50;109H[1m[7m7,[27;1H[?12l[?25h[?25l[m[51;105H~@k[27;1H[51;105H   [1;1H[27m[23m[m[H[2J[3;1H[93mecho[m[95m [m[93m"[m[95mnodes : [m[93m"[m[95m [m[38;5;81m$@[m

[1m[96mi[m=[95m0[m
[1m[96mnode_params[m=
[93mfor[m node [93min[m [93m"[m[38;5;81m$@[m[93m"
do[m
  [1m[96mnode_params[m=[38;5;81m$node_params[m[93m"[m[95m&node[[m[38;5;81m$i[m[95m]=[m[38;5;81m$node[m[93m"[m
  [1m[96mi[m=[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m + [m[95m1[m[38;5;224m`[m
[93mdone[m

[1m[96mWATTMETER_URL[m=[93m"[m[95mhttps://intranet.grid5000.fr/supervision/lyon/wattmetre[m[93m"

export[m[1m[96m https_proxy=[m[93m'[m[95mhttp://proxy:3128[m[93m'
export[m[1m[96m https_proxy=[m[38;5;81m$http_proxy[m

[96m#echo "start-year=${SYEAR}&start-month=${SMONTH}&start-day=${SDAY}&start-hour=${SHOUR}&start-minute=${SMINUTE}&starr[19;1Ht-second=${SSECOND}&end-year=${EYEAR}&end-month=${EMONTH}&end-day=${EDAY}&end-hour=${EHOUR}&end-minute=${EMINUTE}&ee[20;1Hnd-second=${ESECOND}}${node_params}&incr=1"
#exit;[m

curl [38;5;224m-u[m [38;5;81m$G5K_USER[m:[38;5;81m$G5K_PWD[m [38;5;224m-d[m [93m"[m[95mstart-year=[m[38;5;81m${SYEAR}[m[95m&start-month=[m[38;5;81m${SMONTH}[m[95m&start-day=[m[38;5;81m${SDAY}[m[95m&start-hour=[m[38;5;81m${SHOUR}[m[95m&starr[24;1Ht-minute=[m[38;5;81m${SMINUTE}[m[95m&start-second=[m[38;5;81m${SSECOND}[m[95m&end-year=[m[38;5;81m${EYEAR}[m[95m&end-month=[m[38;5;81m${EMONTH}[m[95m&end-day=[m[38;5;81m${EDAY}[m[95m&end-hour=[m[38;5;81m${EHOUR}}[m[25;1H[95m&end-minute=[m[38;5;81m${EMINUTE}[m[95m&end-second=[m[38;5;81m${ESECOND}[m[95m}[m[38;5;81m${node_params}[m[95m&incr=1[m[93m"[m [38;5;81m$WATTMETER_URL[m/traitement.php [93m>[m [38;5;81m$OUTPUT_LOG_PATT[26;1HH[m/tmp_html

[93mrm[m [38;5;81m$OUTPUT_LOG_PATH[m/*.watt.log

[93mfor[m node [93min[m [38;5;81m$@[m
[93mdo[m
  [1m[96mLOG_PATH[m=[38;5;81m$([m[93msed[m[38;5;224m -n [m[93m"[m[95ms/.*href[m[38;5;224m\=\"\.\(\/[m[95muserlogs.*[m[38;5;81m$node.dat[m[38;5;224m\)\"[m[95m.*$/[m[38;5;224m\1[m[95m/p[m[93m"[m[38;5;224m [m[38;5;81m$OUTPUT_LOG_PATH[m[38;5;224m/tmp_html[m[38;5;81m)[m
  wget [38;5;224m--http-user=[m[38;5;81m$G5K_USER[m [38;5;224m--http-passwor=[m[38;5;81m$G5K_PWD[m [38;5;81m$WATTMETER_URL[m/[38;5;81m$LOG_PATH[m [93m-O[m [38;5;81m$OUTPUT_LOG_PATH[m/[38;5;81m$node.watt.log[m
[93mdone

unset[m[1m[96m http_proxy[m
[93munset[m[1m[96m https_proxy[m

[96m#awk 'FNR==NR{a[$1]=$3;next} {print $0" "a[$1]}' $OUTPUT_LOG_PATH/*.watt.log > $OUTPUT_LOG_PATH/energy.log[m

[93mrm[m [38;5;81m$OUTPUT_LOG_PATH[m/tmp_html


[94m~                                                                                                                  [45;1H~                                                                                                                  [46;1H~                                                                                                                  [47;1H~                                                                                                                  [48;1H~                                                                                                                  [49;1H~                                                                                                                  [m[50;1H[1m[7mget_energy_log.sh                                                                                          48,0 Bot[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [2;1H[50;109H[1m[7m9,[2;1H[?12l[?25h[?25l[m[51;105H~@k[2;1H[51;105H   [3;1H[50;108H[1m[7m50,1 [3;1H[?12l[?25h[?25l[m[51;105H~@k[3;1H[51;105H   [4;1H[50;109H[1m[7m1,0 [4;1H[?12l[?25h[?25l[m[51;105H~@k[4;1H[51;105H   [5;1H[50;109H[1m[7m2,1 [5;1H[?12l[?25h[?25l[m[51;105H~@k[5;1H[51;105H   [6;1H[50;109H[1m[7m3,[6;1H[?12l[?25h[?25l[m[51;105H~@k[6;1H[51;105H   [7;1H[50;109H[1m[7m4,[7;1H[?12l[?25h[?25l[m[51;105H~@k[7;1H[51;105H   [8;1H[50;109H[1m[7m5,[8;1H[?12l[?25h[?25l[m[51;105H^[[8;1H[?12l[?25h[?25l[51;105H  [8;1H[?12l[?25h[?25l[51;105H^[[8;1H[?12l[?25h[?25l[51;105H  [8;1H[?12l[?25h[?25l[51;105H:[8;1H[51;105H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica/experiments/rubis_energy_ls/scripts$ vim bench.sh 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"bench.sh" 246L, 7760C[>c[1;1H[96m#!/bin/bash

#PATTERNS_WORKLOAD="IncreasingWorkload WorkloadPeak" #name pattern[m

[1m[96mPATTERNS_WORKLOAD[m=[93m"[m[95mwikipedia[m[93m"[m

[96m#STRATEGIES="nothing horInfra_vertSoft onlyhorInfra onlyvertSoft"
#STRATEGIES="horInfra_vertSoft onlyhorInfra onlyvertSoft"[m
[1m[96mSTRATEGIES[m=[93m"[m[95monlyvertSoft[m[93m"
if ![m [93m[[m [93m-d[m /share [93m][m || [93m![m [93m[[m [93m-f[m /root/adminrc [93m]
then[12;9Hecho[m[95m [m[93m"[m[95mThis script must be executed on the Cloud controller[m[93m"[m[95m     [m[13;9H[93mexit[m [95m1[m
[93mfi


cd[m [38;5;81m$PROJECT_PATH[m

[93msource[m [38;5;81m$PROJECT_PATH[m/common/util.sh


[93mif ![m [93m[[m [93m-f[m [38;5;81m$G5K_USER_PATH[m [93m-a[m [93m-f[m [38;5;81m$G5K_PWD_PATH[m [93m]
then
[m    [93mecho[m[95m [m[93m"[m[95mError: Username or password not stored![m[93m"
[m    [93mexit[m [95m1[m
[93mfi[m

[96m#G5K_PWD=$(cat $G5K_PWD_PATH | base64 --decode)[m
[1m[96mG5K_USER[m=[38;5;81m$([m[38;5;224mcat [m[38;5;81m$G5K_USER_PATH)[m

[1m[96mPATH_RESULTS[m=[38;5;81m$PROJECT_PATH[m/experiments/rubis_energy_ls/results

[1m[96mNAME_BENCH[m=bench_[38;5;224m`date +%s`[m

[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[43;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[50;1H[1m[7mbench.sh                                                                                                    1,1 Top[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [2;1H[50;109H[1m[7m2,0 [2;1H[?12l[?25h[?25l[m[51;105H~@k[2;1H[51;105H   [3;1H[50;109H[1m[7m3,1 [3;1H[?12l[?25h[?25l[m[51;105H~@k[3;1H[51;105H   [4;1H[50;109H[1m[7m4,0 [4;1H[?12l[?25h[?25l[m[51;105H~@k[4;1H[51;105H   [5;1H[50;109H[1m[7m5,1 [5;1H[?12l[?25h[?25l[m[51;105H~@k[5;1H[51;105H   [6;1H[50;109H[1m[7m6,0 [6;1H[?12l[?25h[?25l[m[51;105H~@k[6;1H[51;105H   [7;1H[50;109H[1m[7m7,1 [7;1H[?12l[?25h[?25l[m[51;105H~@k[7;1H[51;105H   [8;1H[50;109H[1m[7m8,[8;1H[?12l[?25h[?25l[m[51;105H~@k[8;1H[51;105H   [9;1H[50;109H[1m[7m9,[9;1H[?12l[?25h[?25l[m[51;105H~@k[9;1H[51;105H   [10;1H[50;108H[1m[7m10,[10;1H[?12l[?25h[?25l[m[51;105H~@k[10;1H[51;105H   [11;1H[50;109H[1m[7m1,[11;1H[?12l[?25h[?25l[m[51;105H~@k[11;1H[51;105H   [12;8H[50;109H[1m[7m2,[12;8H[?12l[?25h[?25l[m[51;105H~@k[12;8H[51;105H   [13;1H[50;109H[1m[7m3,[13;1H[?12l[?25h[?25l[m[51;105H~@k[13;1H[51;105H   [14;1H[50;109H[1m[7m4,[14;1H[?12l[?25h[?25l[m[51;105H~@k[14;1H[51;105H   [15;1H[50;109H[1m[7m5,0 [15;1H[?12l[?25h[?25l[m[51;105H~@k[15;1H[51;105H   [16;1H[50;109H[1m[7m6,[16;1H[?12l[?25h[?25l[m[51;105H~@k[16;1H[51;105H   [17;1H[50;109H[1m[7m7,1 [17;1H[?12l[?25h[?25l[m[51;105H~@k[17;1H[51;105H   [18;1H[50;109H[1m[7m8,0 [18;1H[?12l[?25h[?25l[m[51;105H~@k[18;1H[51;105H   [19;1H[50;109H[1m[7m9,1 [19;1H[?12l[?25h[?25l[m[51;105H~@k[19;1H[51;105H   [20;1H[50;108H[1m[7m20,0 [20;1H[?12l[?25h[?25l[m[51;105H~@k[20;1H[51;105H   [21;1H[50;109H[1m[7m1,[21;1H[?12l[?25h[?25l[m[51;105H~@k[21;1H[51;105H   [22;1H[50;109H[1m[7m2,1 [22;1H[?12l[?25h[?25l[m[51;105H~@k[22;1H[51;105H   [1;1H[27m[23m[m[H[2J[6;1H[1m[96mname_tier[m=tier[11;1H[1m[96merase_plateforme () {[m[12;9H[93mfor[m name_vm [93min[m [38;5;224m`nova list | [m[93mgrep[m[38;5;224m private | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[13;9H[93mdo[m[14;17Hnova delete [38;5;81m$name_vm[m[15;9H[93mdone[17;9Hif [[m [93m-e[m [38;5;81m$TIER_LIST_PATH[m/[38;5;81m$name_tier[m [93m][18;9Hthen[19;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_LIST_PATH[m/[38;5;81m$name_tier[m[20;9H[93mfi[21;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[22;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[23;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[24;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[31;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m
[96m#      DB_IP_ADDRESS=`nova list | grep dbtier$i | tr "|" " " |tr -s " " | cut -d ' ' -f5 | cut -d "=" -f2`[m[34;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f8
      [m[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[38;5;224m> [m[38;5;81m$DB_INFO_FILE[m
[38;5;224m      [m[38;5;81m$PROJECT_PATH[m[38;5;224m/apicloud/scale-iaas.sh out [m[38;5;81m$name_tier$i[m
[38;5;224m    done
}


reset_plateforme [m[38;5;81m()[m[38;5;224m {
        erase_plateforme
        init_plateforme 
}

ssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m [m[38;5;81m$G5K_USER[m[38;5;224m@frontend [m[93m"[m[95mmkdir -p ~/results[m[93m"[m

[38;5;224mfor pattern in [m[38;5;81m$PATTERNS_WORKLOAD[m
[38;5;224mdo [m
[1m[7mbench.sh                                                                                                   48,0 23%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [2;1H[50;109H[1m[7m9,[2;1H[?12l[?25h[?25l[m[51;105H~@k[2;1H[51;105H   [3;1H[50;108H[1m[7m50,[3;1H[?12l[?25h[?25l[m[51;105H~@k[3;1H[51;105H   [4;1H[50;109H[1m[7m1,[4;1H[?12l[?25h[?25l[m[51;105H~@k[4;1H[51;105H   [5;1H[50;109H[1m[7m2,[5;1H[?12l[?25h[?25l[m[51;105H~@k[5;1H[51;105H   [6;1H[50;109H[1m[7m3,1 [6;1H[?12l[?25h[?25l[m[51;105H~@k[6;1H[51;105H   [7;1H[50;109H[1m[7m4,0 [7;1H[?12l[?25h[?25l[m[51;105H~@k[7;1H[51;105H   [8;1H[50;109H[1m[7m5,[8;1H[?12l[?25h[?25l[m[51;105H~@k[8;1H[51;105H   [9;1H[50;109H[1m[7m6,[9;1H[?12l[?25h[?25l[m[51;105H~@k[9;1H[51;105H   [10;1H[50;109H[1m[7m7,[10;1H[?12l[?25h[?25l[m[51;105H~@k[10;1H[51;105H   [11;1H[50;109H[1m[7m8,1 [11;1H[?12l[?25h[?25l[m[51;105H~@k[11;1H[51;105H   [12;8H[50;109H[1m[7m9,[12;8H[?12l[?25h[?25l[m[51;105H~@k[12;8H[51;105H   [13;8H[50;108H[1m[7m60,[13;8H[?12l[?25h[?25l[m[51;105H~@k[13;8H[51;105H   [14;8H[50;109H[1m[7m1,[14;8H[?12l[?25h[?25l[m[51;105H~@k[14;8H[51;105H   [15;8H[50;109H[1m[7m2,[15;8H[?12l[?25h[?25l[m[51;105H~@k[15;8H[51;105H   [16;8H[50;109H[1m[7m3,[16;8H[?12l[?25h[?25l[m[51;105H~@k[16;8H[51;105H   [1;1H[27m[23m[m[H[2J[1;1H[38;5;224mfor pattern in [m[38;5;81m$PATTERNS_WORKLOAD[m
[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction[m
[1m[7mbench.sh                                                                                                   95,1 47%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [2;1H[50;109H[1m[7m6,[2;1H[?12l[?25h[?25l[m[51;105H~@k[2;1H[51;105H   [3;8H[50;109H[1m[7m7,[3;8H[?12l[?25h[?25l[m[51;105H~@k[3;8H[51;105H   [4;8H[50;109H[1m[7m8,[4;8H[?12l[?25h[?25l[m[51;105H~@k[4;8H[51;105H   [5;8H[50;109H[1m[7m9,[5;8H[?12l[?25h[?25l[m[51;105H~@k[5;8H[51;105H   [6;8H[50;107H[1m[7m100,[6;8H[?12l[?25h[?25l[m[51;105H~@k[6;8H[51;105H   [7;8H[50;109H[1m[7m1,[7;8H[?12l[?25h[?25l[m[51;105H~@k[7;8H[51;105H   [8;8H[50;109H[1m[7m2,[8;8H[?12l[?25h[?25l[m[51;105H~@k[8;8H[51;105H   [9;8H[50;109H[1m[7m3,[9;8H[?12l[?25h[?25l[m[51;105H~@k[9;8H[51;105H   [10;8H[50;109H[1m[7m4,[10;8H[?12l[?25h[?25l[m[51;105H~@k[10;8H[51;105H   [11;8H[50;109H[1m[7m5,[11;8H[?12l[?25h[?25l[m[51;105H~@k[11;8H[51;105H   [12;8H[50;109H[1m[7m6,[12;8H[?12l[?25h[?25l[m[51;105H~@k[12;8H[51;105H   [13;8H[50;109H[1m[7m7,[13;8H[?12l[?25h[?25l[m[51;105H~@k[13;8H[51;105H   [14;8H[50;109H[1m[7m8,[14;8H[?12l[?25h[?25l[m[51;105H~@k[14;8H[51;105H   [15;8H[50;109H[1m[7m9,[15;8H[?12l[?25h[?25l[m[51;105H~@k[15;8H[51;105H   [16;8H[50;108H[1m[7m10,[16;8H[?12l[?25h[?25l[m[51;105H~@k[16;8H[51;105H   [17;8H[50;109H[1m[7m1,[17;8H[?12l[?25h[?25l[m[51;105H~@k[17;8H[51;105H   [18;8H[50;109H[1m[7m2,[18;8H[?12l[?25h[?25l[m[51;105H~@k[18;8H[51;105H   [19;8H[50;109H[1m[7m3,[19;8H[?12l[?25h[?25l[m[51;105H~@k[19;8H[51;105H   [20;8H[50;109H[1m[7m4,[20;8H[?12l[?25h[?25l[m[51;105H~@k[20;8H[51;105H   [21;1H[50;109H[1m[7m5,[21;1H[?12l[?25h[?25l[m[51;105H~@k[21;1H[51;105H   [22;1H[50;109H[1m[7m6,[22;1H[?12l[?25h[?25l[m[51;105H~@k[22;1H[51;105H   [23;1H[50;109H[1m[7m7,0 [23;1H[?12l[?25h[?25l[m[51;105H~@k[23;1H[51;105H   [24;1H[50;109H[1m[7m8,1 [24;1H[?12l[?25h[?25l[m[51;105H~@k[24;1H[51;105H   [25;8H[50;109H[1m[7m9,[25;8H[?12l[?25h[?25l[m[51;105H~@k[25;8H[51;105H   [24;1H[50;109H[1m[7m8,[24;1H[?12l[?25h[?25l[m[51;105H~@k[24;1H[51;105H   [23;1H[50;109H[1m[7m7,0 [23;1H[?12l[?25h[?25l[m[51;105H~@k[23;1H[51;105H   [22;1H[50;109H[1m[7m6,1 [22;1H[?12l[?25h[?25l[m[51;105H~@k[22;1H[51;105H   [22;2H[50;111H[1m[7m2 [22;2H[?12l[?25h[?25l[m[51;105H~@k[22;2H[51;105H   [22;3H[50;111H[1m[7m3 [22;3H[?12l[?25h[?25l[m[51;105H~@k[22;3H[51;105H   [22;4H[50;111H[1m[7m4 [22;4H[?12l[?25h[?25l[m[51;105H~@k[22;4H[51;105H   [22;5H[50;111H[1m[7m5 [22;5H[?12l[?25h[?25l[m[51;105H~@k[22;5H[51;105H   [22;6H[50;111H[1m[7m6 [22;6H[?12l[?25h[?25l[m[51;105H~@k[22;6H[51;105H   [22;7H[50;111H[1m[7m7 [22;7H[?12l[?25h[?25l[m[51;105H~@k[22;7H[51;105H   [22;8H[50;111H[1m[7m8 [22;8H[?12l[?25h[?25l[m[51;105H~@k[22;8H[51;105H   [22;9H[50;111H[1m[7m9 [22;9H[?12l[?25h[?25l[m[51;105H~@k[22;9H[51;105H   [22;10H[50;106H[1m[7m116,10 [22;10H[?12l[?25h[?25l[m[51;105H~@k[22;10H[51;105H   [22;11H[50;111H[1m[7m1 [22;11H[?12l[?25h[?25l[m[51;105H~@k[22;11H[51;105H   [22;12H[50;111H[1m[7m2 [22;12H[?12l[?25h[?25l[m[51;105H~@k[22;12H[51;105H   [22;13H[50;111H[1m[7m3 [22;13H[?12l[?25h[?25l[m[51;105H~@k[22;13H[51;105H   [22;14H[50;111H[1m[7m4 [22;14H[?12l[?25h[?25l[m[51;105H~@k[22;14H[51;105H   [22;15H[50;111H[1m[7m5 [22;15H[?12l[?25h[?25l[m[51;105H~@k[22;15H[51;105H   [22;16H[50;111H[1m[7m6 [22;16H[?12l[?25h[?25l[m[51;105H~@k[22;16H[51;105H   [22;17H[50;111H[1m[7m7 [22;17H[?12l[?25h[?25l[m[51;105H~@k[22;17H[51;105H   [22;18H[50;111H[1m[7m8 [22;18H[?12l[?25h[?25l[m[51;105H~@k[22;18H[51;105H   [22;19H[50;111H[1m[7m9 [22;19H[?12l[?25h[?25l[m[51;105H~@k[22;19H[51;105H   [22;20H[50;110H[1m[7m20 [22;20H[?12l[?25h[?25l[m[51;105H~@k[22;20H[51;105H   [22;21H[50;111H[1m[7m1 [22;21H[?12l[?25h[?25l[m[51;105H~@k[22;21H[51;105H   [22;22H[50;111H[1m[7m2 [22;22H[?12l[?25h[?25l[m[51;105H~@k[22;22H[51;105H   [22;23H[50;111H[1m[7m3 [22;23H[?12l[?25h[?25l[m[51;105H~@k[22;23H[51;105H   [22;24H[50;111H[1m[7m4 [22;24H[?12l[?25h[?25l[m[51;105H~@k[22;24H[51;105H   [22;25H[50;111H[1m[7m5 [22;25H[?12l[?25h[?25l[m[51;105H~@k[22;25H[51;105H   [22;26H[50;111H[1m[7m6 [22;26H[?12l[?25h[?25l[m[51;105H~@k[22;26H[51;105H   [22;27H[50;111H[1m[7m7 [22;27H[?12l[?25h[?25l[m[51;105H~@k[22;27H[51;105H   [22;28H[50;111H[1m[7m8 [22;28H[?12l[?25h[?25l[m[51;105H~@k[22;28H[51;105H   [22;29H[50;111H[1m[7m9 [22;29H[?12l[?25h[?25l[m[51;105H~@k[22;29H[51;105H   [22;30H[50;110H[1m[7m30 [22;30H[?12l[?25h[?25l[m[51;105H~@k[22;30H[51;105H   [22;31H[50;111H[1m[7m1 [22;31H[?12l[?25h[?25l[m[51;105H~@k[22;31H[51;105H   [22;32H[38;5;81m[46m([72C)[m[50;111H[1m[7m2 [22;32H[?12l[?25h[?25l[m[51;105H~@k[22;32H[51;105H   [22;33H[38;5;81m([72C)[m[50;111H[1m[7m3 [22;33H[?12l[?25h[?25l[m[51;105H~@k[22;33H[51;105H   [22;32H[38;5;81m[46m([72C)[m[50;111H[1m[7m2 [22;32H[?12l[?25h[?25l[m[51;105H~@k[22;32H[51;105H   [22;31H[1C[38;5;81m([72C)[m[50;111H[1m[7m1 [22;31H[?12l[?25h[?25l[m[51;105H~@k[22;31H[51;105H   [22;30H[50;111H[1m[7m0 [22;30H[?12l[?25h[?25l[m[51;105H~@k[22;30H[51;105H   [22;29H[50;110H[1m[7m29 [22;29H[?12l[?25h[?25l[m[51;105H~@k[22;29H[51;105H   [22;28H[50;111H[1m[7m8 [22;28H[?12l[?25h[?25l[m[51;105H~@k[22;28H[51;105H   [22;27H[50;111H[1m[7m7 [22;27H[?12l[?25h[?25l[m[51;105H~@k[22;27H[51;105H   [22;26H[50;111H[1m[7m6 [22;26H[?12l[?25h[?25l[m[51;105H~@k[22;26H[51;105H   [22;25H[50;111H[1m[7m5 [22;25H[?12l[?25h[?25l[m[51;105H~@k[22;25H[51;105H   [22;24H[50;111H[1m[7m4 [22;24H[?12l[?25h[?25l[m[51;105H~@k[22;24H[51;105H   [22;23H[50;111H[1m[7m3 [22;23H[?12l[?25h[?25l[m[51;105H~@k[22;23H[51;105H   [22;22H[50;111H[1m[7m2 [22;22H[?12l[?25h[?25l[m[51;105H~@k[22;22H[51;105H   [23;1H[50;106H[1m[7m 117,0 [23;1H[?12l[?25h[?25l[m[51;105H~@k[23;1H[51;105H   [24;22H[50;106H[1m[7m118,22 [24;22H[?12l[?25h[?25l[m[51;105H~@k[24;22H[51;105H   [24;21H[50;111H[1m[7m1 [24;21H[?12l[?25h[?25l[m[51;105H~@k[24;21H[51;105H   [24;20H[50;111H[1m[7m0 [24;20H[?12l[?25h[?25l[m[51;105H~@k[24;20H[51;105H   [24;19H[50;110H[1m[7m19 [24;19H[?12l[?25h[?25l[m[51;105H~@k[24;19H[51;105H   [24;18H[50;111H[1m[7m8 [24;18H[?12l[?25h[?25l[m[51;105H~@k[24;18H[51;105H   [24;17H[50;111H[1m[7m7 [24;17H[?12l[?25h[?25l[m[51;105H~@k[24;17H[51;105H   [24;16H[50;111H[1m[7m6 [24;16H[?12l[?25h[?25l[m[51;105H~@k[24;16H[51;105H   [24;15H[50;111H[1m[7m5 [24;15H[?12l[?25h[?25l[m[51;105H~@k[24;15H[51;105H   [25;16H[50;106H[1m[7m 119,2 [25;16H[?12l[?25h[?25l[m[51;105H~@k[25;16H[51;105H   [26;15H[50;106H[1m[7m120,15 [26;15H[?12l[?25h[?25l[m[51;105H~@k[26;15H[51;105H   [27;15H[50;108H[1m[7m1,[27;15H[?12l[?25h[?25l[m[51;105H~@k[27;15H[51;105H   [27;16H[50;111H[1m[7m6 [27;16H[?12l[?25h[?25l[m[51;105H~@k[27;16H[51;105H   [26;16H[50;108H[1m[7m0,[26;16H[?12l[?25h[?25l[m[51;105H~@k[26;16H[51;105H   [25;16H[50;106H[1m[7m 119,2 [25;16H[?12l[?25h[?25l[m[51;105H~@k[25;16H[51;105H   [24;16H[50;106H[1m[7m118,16 [24;16H[?12l[?25h[?25l[m[51;105H~@k[24;16H[51;105H   [23;1H[50;106H[1m[7m 117,0 [23;1H[?12l[?25h[?25l[m[51;105H~@k[23;1H[51;105H   [22;16H[50;106H[1m[7m116,16 [22;16H[?12l[?25h[?25l[m[51;105H~@k[22;16H[51;105H   [22;17H[50;111H[1m[7m7 [22;17H[?12l[?25h[?25l[m[51;105H~@k[22;17H[51;105H   [22;18H[50;111H[1m[7m8 [22;18H[?12l[?25h[?25l[m[51;105H~@k[22;18H[51;105H   [22;19H[50;111H[1m[7m9 [22;19H[?12l[?25h[?25l[m[51;105H~@k[22;19H[51;105H   [22;20H[50;110H[1m[7m20 [22;20H[?12l[?25h[?25l[m[51;105H~@k[22;20H[51;105H   [22;21H[50;111H[1m[7m1 [22;21H[?12l[?25h[?25l[m[51;105H~@k[22;21H[51;105H   [22;22H[50;111H[1m[7m2 [22;22H[?12l[?25h[?25l[m[51;105H~@k[22;22H[51;105H   [22;23H[50;111H[1m[7m3 [22;23H[?12l[?25h[?25l[m[51;105H~@k[22;23H[51;105H   [23;1H[50;106H[1m[7m 117,0 [23;1H[?12l[?25h[?25l[m[51;105H~@k[23;1H[51;105H   [24;22H[50;106H[1m[7m118,22 [24;22H[?12l[?25h[?25l[m[51;105H~@k[24;22H[51;105H   [25;23H[50;106H[1m[7m 119,9 [25;23H[?12l[?25h[?25l[m[51;105H~@k[25;23H[51;105H   [26;19H[50;106H[1m[7m120,19[26;19H[?12l[?25h[?25l[m[51;105H~@k[26;19H[51;105H   [27;23H[50;108H[1m[7m1,23 [27;23H[?12l[?25h[?25l[m[51;105Hi[27;23H[51;105H [27;23H[51;1H[1m-- INSERT --[27;23H[?12l[?25h[m[50;111H[1m[7m2 [27;22H[50;111H1 [27;21H[?25l[m[38;5;224m#[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m[50;9H[1m[7m[+][99C2 [27;22H[?12l[?25h[50;111H3 [27;23H[50;111H4 [27;24H[50;111H5 [27;25H[50;111H6 [27;26H[50;111H7 [27;27H[50;111H8 [27;28H[50;111H9 [27;29H[50;110H30 [27;30H[50;111H1 [27;31H[50;111H2 [27;32H[50;111H1 [27;31H[m[51;1H[K[27;30H[?25l[51;105H^[[27;30H[?12l[?25h[?25l[51;105H  [27;31H[50;111H[1m[7m0 [27;30H[?12l[?25h[?25l[m[51;105Hy[27;30H[?12l[?25h[?25l[51;106Hy[27;30H[51;105H  [27;30H[?12l[?25h[?25l[51;105H~@@[27;30H[51;105H   [27;83H[27;38H[38;5;81m[46m([44C)[m[50;110H[1m[7m83 [27;83H[?12l[?25h[?25l[m[51;105Hi[27;83H[51;105H [27;83H[51;1H[1m-- INSERT --[27;83H[?12l[?25h[?25l[m[50;111H[1m[7m4 [27;84H[?12l[?25h[?25l[28;49r[m[28;1H[L[1;51r[27;38H[38;5;81m([44C)[m[50;106H[1m[7m 122,1 [28;1H[?12l[?25h[m[51;1H[K[28;1H[?25l[51;105H^[[28;1H[?12l[?25h[?25l[51;105H  [28;1H[50;111H[1m[7m0 [28;1H[?12l[?25h[?25l[m[51;105Hp[28;1H[51;105H [29;21H[29;49r[29;1H[L[1;51r[29;1H[38;5;224m                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m[50;106H[1m[7m123,21 [29;21H[?12l[?25h[?25l[m[51;105Hi[29;21H[51;105H [29;21H[51;1H[1m-- INSERT --[29;21H[?12l[?25h[m[50;106H[1m[7m 122,1[28;1H[m[51;1H[K[28;1H[?25l[51;105H^[[28;1H[?12l[?25h[?25l[51;105H  [28;1H[50;111H[1m[7m0 [28;1H[?12l[?25h[?25l[m[51;105Hd[28;1H[?12l[?25h[?25l[51;106Hd[28;1H[51;105H  [28;21H[28;49r[49;1H
[1;51r[49;1H[38;5;224m                done[m[50;106H[1m[7m122,21 [28;21H[?12l[?25h[?25l[m[51;105H~@k[28;21H[51;105H   [28;22H[50;111H[1m[7m2 [28;22H[?12l[?25h[?25l[m[51;105Hi[28;22H[51;105H [28;22H[51;1H[1m-- INSERT --[28;22H[?12l[?25h[?25l[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m[28;83H[K[50;111H[1m[7m1 [28;21H[?12l[?25h[50;111H2 [28;22H[50;111H3 [28;23H[50;111H4 [28;24H[50;111H5 [28;25H[50;111H6 [28;26H[50;111H7 [28;27H[50;111H8 [28;28H[50;111H9 [28;29H[50;110H30 [28;30H[50;111H1 [28;31H[50;111H2 [28;32H[50;111H3 [28;33H[50;111H4 [28;34H[50;111H5 [28;35H[50;111H6 [28;36H[?25l[m[38;5;224m $[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m[50;111H[1m[7m7 [28;37H[?12l[?25h[50;111H6 [28;36H[?25l[m[38;5;224m$ $[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m[50;111H[1m[7m7 [28;37H[?12l[?25h[?25l[m[38;5;81m$n[m[38;5;224m $[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m[50;111H[1m[7m8 [28;38H[?12l[?25h[50;111H9 [28;39H[?25l[29;49r[m[29;1H[L[1;51r[28;39H[K[29;1H[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m[50;106H[1m[7m 123,1 [29;1H[?12l[?25h[m[51;1H[K[29;1H[?25l[51;105H^[[29;1H[?12l[?25h[?25l[51;105H  [29;1H[?12l[?25h[?25l[51;105Hd[29;1H[?12l[?25h[?25l[51;106Hd[29;1H[51;105H  [29;17H[29;49r[49;1H
[1;51r[49;1H[38;5;224m                done[m[50;106H[1m[7m123,17 [29;17H[?12l[?25h[?25l[m[51;105H^[[29;17H[?12l[?25h[?25l[51;105H  [29;17H[?12l[?25h[?25l[51;105H^[[29;17H[?12l[?25h[?25l[51;105H  [29;17H[?12l[?25h[?25l[51;105H:[29;17H[51;105H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"bench.sh" 247L, 7800C written[29;17H[50;9H[1m[7m    [29;17H[?12l[?25h[?25l[m[51;105H:[29;17H[51;1H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"bench.sh" 247L, 7800C written[29;17H[?12l[?25h[?25l[51;105H:[29;17H[51;1H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"bench.sh" 247L, 7800C written[29;17H[?12l[?25h[?25l[51;105H:[29;17H[51;1H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica/experiments/rubis_energy_ls/scripts$ vim bench.sh 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"bench.sh" 247L, 7800C[>c[1;1H[96m#!/bin/bash

#PATTERNS_WORKLOAD="IncreasingWorkload WorkloadPeak" #name pattern[m

[1m[96mPATTERNS_WORKLOAD[m=[93m"[m[95mwikipedia[m[93m"[m

[96m#STRATEGIES="nothing horInfra_vertSoft onlyhorInfra onlyvertSoft"
#STRATEGIES="horInfra_vertSoft onlyhorInfra onlyvertSoft"[m
[1m[96mSTRATEGIES[m=[93m"[m[95monlyvertSoft[m[93m"
if ![m [93m[[m [93m-d[m /share [93m][m || [93m![m [93m[[m [93m-f[m /root/adminrc [93m]
then[12;9Hecho[m[95m [m[93m"[m[95mThis script must be executed on the Cloud controller[m[93m"[m[95m     [m[13;9H[93mexit[m [95m1[m
[93mfi


cd[m [38;5;81m$PROJECT_PATH[m

[93msource[m [38;5;81m$PROJECT_PATH[m/common/util.sh


[93mif ![m [93m[[m [93m-f[m [38;5;81m$G5K_USER_PATH[m [93m-a[m [93m-f[m [38;5;81m$G5K_PWD_PATH[m [93m]
then
[m    [93mecho[m[95m [m[93m"[m[95mError: Username or password not stored![m[93m"
[m    [93mexit[m [95m1[m
[93mfi[m

[96m#G5K_PWD=$(cat $G5K_PWD_PATH | base64 --decode)[m
[1m[96mG5K_USER[m=[38;5;81m$([m[38;5;224mcat [m[38;5;81m$G5K_USER_PATH)[m

[1m[96mPATH_RESULTS[m=[38;5;81m$PROJECT_PATH[m/experiments/rubis_energy_ls/results

[1m[96mNAME_BENCH[m=bench_[38;5;224m`date +%s`[m

[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[43;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[50;1H[1m[7mbench.sh                                                                                                    1,1 Top[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [2;1H[50;109H[1m[7m2,0 [2;1H[?12l[?25h[?25l[m[51;105H~@k[2;1H[51;105H   [3;1H[50;109H[1m[7m3,1 [3;1H[?12l[?25h[?25l[m[51;105H~@k[3;1H[51;105H   [4;1H[50;109H[1m[7m4,0 [4;1H[?12l[?25h[?25l[m[51;105H~@k[4;1H[51;105H   [5;1H[50;109H[1m[7m5,1 [5;1H[?12l[?25h[?25l[m[51;105H~@k[5;1H[51;105H   [6;1H[50;109H[1m[7m6,0 [6;1H[?12l[?25h[?25l[m[51;105H~@k[6;1H[51;105H   [7;1H[50;109H[1m[7m7,1 [7;1H[?12l[?25h[?25l[m[51;105H~@k[7;1H[51;105H   [8;1H[50;109H[1m[7m8,[8;1H[?12l[?25h[?25l[m[51;105H~@k[8;1H[51;105H   [9;1H[50;109H[1m[7m9,[9;1H[?12l[?25h[?25l[m[51;105H~@k[9;1H[51;105H   [10;1H[50;108H[1m[7m10,[10;1H[?12l[?25h[?25l[m[51;105H~@k[10;1H[51;105H   [11;1H[50;109H[1m[7m1,[11;1H[?12l[?25h[?25l[m[51;105H~@k[11;1H[51;105H   [12;8H[50;109H[1m[7m2,[12;8H[?12l[?25h[?25l[m[51;105H~@k[12;8H[51;105H   [13;1H[50;109H[1m[7m3,[13;1H[?12l[?25h[?25l[m[51;105H~@k[13;1H[51;105H   [14;1H[50;109H[1m[7m4,[14;1H[?12l[?25h[?25l[m[51;105H~@k[14;1H[51;105H   [15;1H[50;109H[1m[7m5,0 [15;1H[?12l[?25h[?25l[m[51;105H~@k[15;1H[51;105H   [16;1H[50;109H[1m[7m6,[16;1H[?12l[?25h[?25l[m[51;105H~@k[16;1H[51;105H   [17;1H[50;109H[1m[7m7,1 [17;1H[?12l[?25h[?25l[m[51;105H~@k[17;1H[51;105H   [18;1H[50;109H[1m[7m8,0 [18;1H[?12l[?25h[?25l[m[51;105H~@k[18;1H[51;105H   [1;1H[27m[23m[m[H[2J[6;1H[1m[96mname_tier[m=tier[11;1H[1m[96merase_plateforme () {[m[12;9H[93mfor[m name_vm [93min[m [38;5;224m`nova list | [m[93mgrep[m[38;5;224m private | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[13;9H[93mdo[m[14;17Hnova delete [38;5;81m$name_vm[m[15;9H[93mdone[17;9Hif [[m [93m-e[m [38;5;81m$TIER_LIST_PATH[m/[38;5;81m$name_tier[m [93m][18;9Hthen[19;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_LIST_PATH[m/[38;5;81m$name_tier[m[20;9H[93mfi[21;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[22;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[23;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[24;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[31;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m
[96m#      DB_IP_ADDRESS=`nova list | grep dbtier$i | tr "|" " " |tr -s " " | cut -d ' ' -f5 | cut -d "=" -f2`[m[34;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f8
      [m[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[38;5;224m> [m[38;5;81m$DB_INFO_FILE[m
[38;5;224m      [m[38;5;81m$PROJECT_PATH[m[38;5;224m/apicloud/scale-iaas.sh out [m[38;5;81m$name_tier$i[m
[38;5;224m    done
}


reset_plateforme [m[38;5;81m()[m[38;5;224m {
        erase_plateforme
        init_plateforme 
}

ssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m [m[38;5;81m$G5K_USER[m[38;5;224m@frontend [m[93m"[m[95mmkdir -p ~/results[m[93m"[m

[38;5;224mfor pattern in [m[38;5;81m$PATTERNS_WORKLOAD[m
[38;5;224mdo [m
[1m[7mbench.sh                                                                                                   48,0 23%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [2;1H[50;109H[1m[7m9,[2;1H[?12l[?25h[?25l[m[51;105H~@k[2;1H[51;105H   [3;1H[50;108H[1m[7m50,[3;1H[?12l[?25h[?25l[m[51;105H~@k[3;1H[51;105H   [4;1H[50;109H[1m[7m1,[4;1H[?12l[?25h[?25l[m[51;105H~@k[4;1H[51;105H   [5;1H[50;109H[1m[7m2,[5;1H[?12l[?25h[?25l[m[51;105H~@k[5;1H[51;105H   [6;1H[50;109H[1m[7m3,1 [6;1H[?12l[?25h[?25l[m[51;105H~@k[6;1H[51;105H   [7;1H[50;109H[1m[7m4,0 [7;1H[?12l[?25h[?25l[m[51;105H~@k[7;1H[51;105H   [8;1H[50;109H[1m[7m5,[8;1H[?12l[?25h[?25l[m[51;105H~@k[8;1H[51;105H   [9;1H[50;109H[1m[7m6,[9;1H[?12l[?25h[?25l[m[51;105H~@k[9;1H[51;105H   [10;1H[50;109H[1m[7m7,[10;1H[?12l[?25h[?25l[m[51;105H~@k[10;1H[51;105H   [11;1H[50;109H[1m[7m8,1 [11;1H[?12l[?25h[?25l[m[51;105H~@k[11;1H[51;105H   [12;8H[50;109H[1m[7m9,[12;8H[?12l[?25h[?25l[m[51;105H~@k[12;8H[51;105H   [13;8H[50;108H[1m[7m60,[13;8H[?12l[?25h[?25l[m[51;105H~@k[13;8H[51;105H   [14;8H[50;109H[1m[7m1,[14;8H[?12l[?25h[?25l[m[51;105H~@k[14;8H[51;105H   [15;8H[50;109H[1m[7m2,[15;8H[?12l[?25h[?25l[m[51;105H~@k[15;8H[51;105H   [16;8H[50;109H[1m[7m3,[16;8H[?12l[?25h[?25l[m[51;105H~@k[16;8H[51;105H   [17;1H[50;109H[1m[7m4,[17;1H[?12l[?25h[?25l[m[51;105H~@k[17;1H[51;105H   [18;8H[50;109H[1m[7m5,[18;8H[?12l[?25h[?25l[m[51;105H~@k[18;8H[51;105H   [19;8H[50;109H[1m[7m6,[19;8H[?12l[?25h[?25l[m[51;105H~@k[19;8H[51;105H   [20;8H[50;109H[1m[7m7,[20;8H[?12l[?25h[?25l[m[51;105H~@k[20;8H[51;105H   [21;8H[50;109H[1m[7m8,[21;8H[?12l[?25h[?25l[m[51;105H~@k[21;8H[51;105H   [22;8H[50;109H[1m[7m9,[22;8H[?12l[?25h[?25l[m[51;105H~@k[22;8H[51;105H   [23;8H[50;108H[1m[7m70,[23;8H[?12l[?25h[?25l[m[51;105H~@k[23;8H[51;105H   [24;8H[50;109H[1m[7m1,[24;8H[?12l[?25h[?25l[m[51;105H~@k[24;8H[51;105H   [1;1H[27m[23m[m[H[2J[1;1H[38;5;224mfor pattern in [m[38;5;81m$PATTERNS_WORKLOAD[m
[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done[m
[1m[7mbench.sh                                                                                                   95,1 47%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [2;1H[50;109H[1m[7m6,[2;1H[?12l[?25h[?25l[m[51;105H~@k[2;1H[51;105H   [3;8H[50;109H[1m[7m7,[3;8H[?12l[?25h[?25l[m[51;105H~@k[3;8H[51;105H   [4;8H[50;109H[1m[7m8,[4;8H[?12l[?25h[?25l[m[51;105H~@k[4;8H[51;105H   [5;8H[50;109H[1m[7m9,[5;8H[?12l[?25h[?25l[m[51;105H~@k[5;8H[51;105H   [6;8H[50;107H[1m[7m100,[6;8H[?12l[?25h[?25l[m[51;105H~@k[6;8H[51;105H   [7;8H[50;109H[1m[7m1,[7;8H[?12l[?25h[?25l[m[51;105H~@k[7;8H[51;105H   [8;8H[50;109H[1m[7m2,[8;8H[?12l[?25h[?25l[m[51;105H~@k[8;8H[51;105H   [9;8H[50;109H[1m[7m3,[9;8H[?12l[?25h[?25l[m[51;105H~@k[9;8H[51;105H   [10;8H[50;109H[1m[7m4,[10;8H[?12l[?25h[?25l[m[51;105H~@k[10;8H[51;105H   [11;8H[50;109H[1m[7m5,[11;8H[?12l[?25h[?25l[m[51;105H~@k[11;8H[51;105H   [12;8H[50;109H[1m[7m6,[12;8H[?12l[?25h[?25l[m[51;105H~@k[12;8H[51;105H   [13;8H[50;109H[1m[7m7,[13;8H[?12l[?25h[?25l[m[51;105H~@k[13;8H[51;105H   [14;8H[50;109H[1m[7m8,[14;8H[?12l[?25h[?25l[m[51;105H~@k[14;8H[51;105H   [15;8H[50;109H[1m[7m9,[15;8H[?12l[?25h[?25l[m[51;105H~@k[15;8H[51;105H   [16;8H[50;108H[1m[7m10,[16;8H[?12l[?25h[?25l[m[51;105H~@k[16;8H[51;105H   [17;8H[50;109H[1m[7m1,[17;8H[?12l[?25h[?25l[m[51;105H~@k[17;8H[51;105H   [18;8H[50;109H[1m[7m2,[18;8H[?12l[?25h[?25l[m[51;105H~@k[18;8H[51;105H   [19;8H[50;109H[1m[7m3,[19;8H[?12l[?25h[?25l[m[51;105H~@k[19;8H[51;105H   [20;8H[50;109H[1m[7m4,[20;8H[?12l[?25h[?25l[m[51;105H~@k[20;8H[51;105H   [21;1H[50;109H[1m[7m5,[21;1H[?12l[?25h[?25l[m[51;105H~@k[21;1H[51;105H   [22;1H[50;109H[1m[7m6,[22;1H[?12l[?25h[?25l[m[51;105H~@k[22;1H[51;105H   [23;1H[50;109H[1m[7m7,0 [23;1H[?12l[?25h[?25l[m[51;105H~@k[23;1H[51;105H   [24;1H[50;109H[1m[7m8,1 [24;1H[?12l[?25h[?25l[m[51;105H~@k[24;1H[51;105H   [25;8H[50;109H[1m[7m9,[25;8H[?12l[?25h[?25l[m[51;105H~@k[25;8H[51;105H   [25;16H[50;111H[1m[7m2 [25;16H[?12l[?25h[?25l[m[51;105H~@k[25;16H[51;105H   [25;17H[50;111H[1m[7m3 [25;17H[?12l[?25h[?25l[m[51;105H~@k[25;17H[51;105H   [25;18H[50;111H[1m[7m4 [25;18H[?12l[?25h[?25l[m[51;105H~@k[25;18H[51;105H   [25;19H[50;111H[1m[7m5 [25;19H[?12l[?25h[?25l[m[51;105H~@k[25;19H[51;105H   [25;20H[50;111H[1m[7m6 [25;20H[?12l[?25h[?25l[m[51;105H~@k[25;20H[51;105H   [25;21H[50;111H[1m[7m7 [25;21H[?12l[?25h[?25l[m[51;105H~@k[25;21H[51;105H   [25;22H[50;111H[1m[7m8 [25;22H[?12l[?25h[?25l[m[51;105H~@k[25;22H[51;105H   [25;23H[50;111H[1m[7m9 [25;23H[?12l[?25h[?25l[m[51;105H~@k[25;23H[51;105H   [25;24H[50;106H[1m[7m119,10 [25;24H[?12l[?25h[?25l[m[51;105H~@k[25;24H[51;105H   [25;25H[50;111H[1m[7m1 [25;25H[?12l[?25h[?25l[m[51;105H~@k[25;25H[51;105H   [25;26H[50;111H[1m[7m2 [25;26H[?12l[?25h[?25l[m[51;105H~@k[25;26H[51;105H   [25;27H[50;111H[1m[7m3 [25;27H[?12l[?25h[?25l[m[51;105H~@k[25;27H[51;105H   [25;28H[50;111H[1m[7m4 [25;28H[?12l[?25h[?25l[m[51;105H~@k[25;28H[51;105H   [26;19H[50;107H[1m[7m20,19 [26;19H[?12l[?25h[?25l[m[51;105H~@k[26;19H[51;105H   [27;1H[50;106H[1m[7m 121,1 [27;1H[?12l[?25h[?25l[m[51;105H~@k[27;1H[51;105H   [27;2H[50;111H[1m[7m2 [27;2H[?12l[?25h[?25l[m[51;105H~@k[27;2H[51;105H   [27;3H[50;111H[1m[7m3 [27;3H[?12l[?25h[?25l[m[51;105H~@k[27;3H[51;105H   [27;4H[50;111H[1m[7m4 [27;4H[?12l[?25h[?25l[m[51;105H~@k[27;4H[51;105H   [27;5H[50;111H[1m[7m5 [27;5H[?12l[?25h[?25l[m[51;105H~@k[27;5H[51;105H   [27;6H[50;111H[1m[7m6 [27;6H[?12l[?25h[?25l[m[51;105H~@k[27;6H[51;105H   [27;7H[50;111H[1m[7m7 [27;7H[?12l[?25h[?25l[m[51;105H~@k[27;7H[51;105H   [27;8H[50;111H[1m[7m8 [27;8H[?12l[?25h[?25l[m[51;105H~@k[27;8H[51;105H   [27;9H[50;111H[1m[7m9 [27;9H[?12l[?25h[?25l[m[51;105H~@k[27;9H[51;105H   [27;10H[50;106H[1m[7m121,10 [27;10H[?12l[?25h[?25l[m[51;105H~@k[27;10H[51;105H   [27;11H[50;111H[1m[7m1 [27;11H[?12l[?25h[?25l[m[51;105H~@k[27;11H[51;105H   [27;12H[50;111H[1m[7m2 [27;12H[?12l[?25h[?25l[m[51;105H~@k[27;12H[51;105H   [27;13H[50;111H[1m[7m3 [27;13H[?12l[?25h[?25l[m[51;105H~@k[27;13H[51;105H   [27;14H[50;111H[1m[7m4 [27;14H[?12l[?25h[?25l[m[51;105H~@k[27;14H[51;105H   [27;15H[50;111H[1m[7m5 [27;15H[?12l[?25h[?25l[m[51;105H~@k[27;15H[51;105H   [27;16H[50;111H[1m[7m6 [27;16H[?12l[?25h[?25l[m[51;105H~@k[27;16H[51;105H   [27;17H[50;111H[1m[7m7 [27;17H[?12l[?25h[?25l[m[51;105H~@k[27;17H[51;105H   [27;18H[50;111H[1m[7m8 [27;18H[?12l[?25h[?25l[m[51;105H~@k[27;18H[51;105H   [27;19H[50;111H[1m[7m9 [27;19H[?12l[?25h[?25l[m[51;105H~@k[27;19H[51;105H   [27;20H[50;110H[1m[7m20 [27;20H[?12l[?25h[?25l[m[51;105H~@k[27;20H[51;105H   [27;21H[50;111H[1m[7m1 [27;21H[?12l[?25h[?25l[m[51;105H~@k[27;21H[51;105H   [27;22H[50;111H[1m[7m2 [27;22H[?12l[?25h[?25l[m[51;105H~@k[27;22H[51;105H   [27;23H[50;111H[1m[7m3 [27;23H[?12l[?25h[?25l[m[51;105H~@k[27;23H[51;105H   [27;24H[50;111H[1m[7m4 [27;24H[?12l[?25h[?25l[m[51;105H~@k[27;24H[51;105H   [27;25H[50;111H[1m[7m5 [27;25H[?12l[?25h[?25l[m[51;105H~@k[27;25H[51;105H   [27;26H[50;111H[1m[7m6 [27;26H[?12l[?25h[?25l[m[51;105H~@k[27;26H[51;105H   [27;27H[50;111H[1m[7m7 [27;27H[?12l[?25h[?25l[m[51;105H~@k[27;27H[51;105H   [27;28H[50;111H[1m[7m8 [27;28H[?12l[?25h[?25l[m[51;105H~@k[27;28H[51;105H   [27;29H[50;111H[1m[7m9 [27;29H[?12l[?25h[?25l[m[51;105H~@k[27;29H[51;105H   [27;30H[50;110H[1m[7m30 [27;30H[?12l[?25h[?25l[m[51;105H~@k[27;30H[51;105H   [27;31H[50;111H[1m[7m1 [27;31H[?12l[?25h[?25l[m[51;105H~@k[27;31H[51;105H   [27;32H[50;111H[1m[7m2 [27;32H[?12l[?25h[?25l[m[51;105H~@k[27;32H[51;105H   [27;33H[50;111H[1m[7m3 [27;33H[?12l[?25h[?25l[m[51;105H^[[27;33H[?12l[?25h[?25l[51;105H  [27;33H[?12l[?25h[?25l[51;105H:[27;33H[51;105H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"bench.sh" 247L, 7800C written[27;33H[?12l[?25h[?25l[51;105H:[27;33H[51;1H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"bench.sh" 247L, 7800C written[27;33H[?12l[?25h[?25l[51;105H:[27;33H[51;1H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"bench.sh" 247L, 7800C written[27;33H[?12l[?25h[?25l[51;105H:[27;33H[51;1H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica/experiments/rubis_energy_ls/scripts$ cd ..
falvaresdeoliveira@flyon:~/elastica/experiments/rubis_energy_ls$ cd ..
falvaresdeoliveira@flyon:~/elastica/experiments$ cd ..
falvaresdeoliveira@flyon:~/elastica$ cd apicloud/
falvaresdeoliveira@flyon:~/elastica/apicloud$ ls
create_disk_images.sh  new_vm.sh  scale-iaas.sh  scale-saas.sh	strategies  test.sh
falvaresdeoliveira@flyon:~/elastica/apicloud$ vim scale-saas.sh 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"scale-saas.sh" 90L, 2024C[>c[1;1H[96m#!/bin/bash[m

[1m[96mfunction[m [1m[96mindexOf () {
[m   [1m[96mlist[m=[38;5;81m([m [93m"[m[38;5;81m${@[m[93m:[m[95m2[m[38;5;81m}[m[93m"[m [38;5;81m)[m
   [1m[96mi[m=[95m0[m
   [93mif [m [93m[[m [38;5;81m${#list[[m@[38;5;81m]}[m [93m-lt[m [95m0[m [93m][m; [93mthen[7;9Hreturn[m [95m-1[m
   [93mfi
[m   [93mwhile [[m [38;5;81m$i[m [93m-lt[m  [38;5;81m${#list[[m@[38;5;81m]}[m [93m-a[m  [93m"[m[38;5;81m${list[$i]}[m[93m"[m [93m!=[m [93m"[m[38;5;81m$1[m[93m"[m [93m]; do[m[10;9H[1m[96mi[m=[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m + [m[95m1[m[38;5;224m`[m
   [93mdone[m
   [96m#echo $i[m
   [93mif [[m [38;5;81m$i[m [93m-lt[m  [38;5;81m${#list[[m@[38;5;81m]}[m [93m][m; [93mthen[14;9Hreturn[m [38;5;81m$i[m
   [93melse[16;9Hreturn[m [95m-1[m
   [93mfi[m
[1m[96m}[m


[93mif ![m [93m[[m [93m-d[m /share [93m][m || [93m![m [93m[[m [93m-f[m /root/openrc [93m]
then[23;6Hecho[m[95m [m[93m"[m[95mdoit etre execute sur le cloud controler[m[93m"[24;6Hexit[m [95m1[m
[93mfi

export[m[1m[96m PROJECT_PATH=[m/share
[93mcd[m [38;5;81m$PROJECT_PATH[m

[93msource[m [38;5;81m$PROJECT_PATH[m/common/util.sh

[96m#LEVELS="L M H"

#LEVEL_FILE="~/fib/elasticity.param"[m

[1m[96mre[m=[93m'[m[95m^[0-9]+$[m[93m'

if [[m [93m"[m[38;5;81m$#[m[93m"[m [93m-ne[m [95m2[m [93m][m || [93m![m [38;5;224m[[[m [93m"[m[38;5;81m$1[m[93m"[m [93m=[m [95m"up"[m [93m||[m [93m"[m[38;5;81m$1[m[93m"[m [93m=[m [95m"down"[m [93m||[m [38;5;81m$1[m [93m=[m~ [38;5;81m$re[m [38;5;224m]][m; [93mthen
[m   [93mecho[m[95m [m[93m"[m[95mUsage: [m[38;5;81m$0[m[95m up | down tier[m[93m"
[m   [93mexit[m [95m1[m
[93mfi[m

[1m[96mCMD[m=[38;5;81m$1[m
[1m[96mTIER[m=[38;5;81m$2[m
[1m[96mTIER_FILE[m=[93m"[m[95m/tmp/[m[38;5;81m$TIER[m[93m"

if [[m [93m-f[m [93m"[m[38;5;81m$TIER_FILE[m[93m"[m [93m][m; [93mthen[m
  [1m[96mWORKERS[m=[38;5;81m$([m[93mgrep[m[38;5;224m [m[1m[96mworkers[m=[38;5;224m [m[38;5;81m${TIER_FILE}[m[38;5;224m | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2[m[38;5;81m)[m
[96m#  echo $WORKERS[m
[1m[7mscale-saas.sh                                                                                               1,1 Top[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [2;1H[50;109H[1m[7m2,0 [2;1H[?12l[?25h[?25l[m[51;105H~@k[2;1H[51;105H   [3;1H[50;109H[1m[7m3,1 [3;1H[?12l[?25h[?25l[m[51;105H~@k[3;1H[51;105H   [4;1H[50;109H[1m[7m4,[4;1H[?12l[?25h[?25l[m[51;105H~@k[4;1H[51;105H   [5;1H[50;109H[1m[7m5,[5;1H[?12l[?25h[?25l[m[51;105H~@k[5;1H[51;105H   [6;1H[50;109H[1m[7m6,[6;1H[?12l[?25h[?25l[m[51;105H~@k[6;1H[51;105H   [7;1H[50;109H[1m[7m7,[7;1H[?12l[?25h[?25l[m[51;105H~@k[7;1H[51;105H   [8;1H[50;109H[1m[7m8,[8;1H[?12l[?25h[?25l[m[51;105H~@k[8;1H[51;105H   [9;1H[50;109H[1m[7m9,[9;1H[?12l[?25h[?25l[m[51;105H~@k[9;1H[51;105H   [10;8H[50;108H[1m[7m10,[10;8H[?12l[?25h[?25l[m[51;105H~@k[10;8H[51;105H   [11;1H[50;109H[1m[7m1,[11;1H[?12l[?25h[?25l[m[51;105H~@k[11;1H[51;105H   [12;1H[50;109H[1m[7m2,[12;1H[?12l[?25h[?25l[m[51;105H~@k[12;1H[51;105H   [13;1H[50;109H[1m[7m3,[13;1H[?12l[?25h[?25l[m[51;105H~@k[13;1H[51;105H   [14;1H[50;109H[1m[7m4,[14;1H[?12l[?25h[?25l[m[51;105H~@k[14;1H[51;105H   [15;1H[50;109H[1m[7m5,[15;1H[?12l[?25h[?25l[m[51;105H~@k[15;1H[51;105H   [16;1H[50;109H[1m[7m6,[16;1H[?12l[?25h[?25l[m[51;105H~@k[16;1H[51;105H   [17;1H[50;109H[1m[7m7,[17;1H[?12l[?25h[?25l[m[51;105H~@k[17;1H[51;105H   [18;1H[3;21H[1m[96m[46m{[18;1H}[m[50;109H[1m[7m8,[18;1H[?12l[?25h[?25l[m[51;105H~@k[18;1H[51;105H   [19;1H[3;21H[1m[96m{[18;1H}[m[50;109H[1m[7m9,0 [19;1H[?12l[?25h[?25l[m[51;105H~@k[19;1H[51;105H   [20;1H[50;108H[1m[7m20,[20;1H[?12l[?25h[?25l[m[51;105H~@k[20;1H[51;105H   [21;1H[50;109H[1m[7m1,1 [21;1H[?12l[?25h[?25l[m[51;105H~@k[21;1H[51;105H   [22;1H[50;109H[1m[7m2,[22;1H[?12l[?25h[?25l[m[51;105H~@k[22;1H[51;105H   [23;1H[50;109H[1m[7m3,[23;1H[?12l[?25h[?25l[m[51;105H~@k[23;1H[51;105H   [24;1H[50;109H[1m[7m4,[24;1H[?12l[?25h[?25l[m[51;105H~@k[24;1H[51;105H   [25;1H[50;109H[1m[7m5,[25;1H[?12l[?25h[?25l[m[51;105H~@k[25;1H[51;105H   [26;1H[50;109H[1m[7m6,0 [26;1H[?12l[?25h[?25l[m[51;105H~@k[26;1H[51;105H   [27;1H[50;109H[1m[7m7,1 [27;1H[?12l[?25h[?25l[m[51;105H/[27;1H[51;1H[K[51;1H/[?12l[?25hl[?25l[30;32H[7ml[m[50;107H[1m[7m30,32 
[m/l[?12l[?25hi[?25l[1;49r[1;1H[11M[1;51r[19;32Hl[39;1H[93melse
[m  [93mecho[m[95m [m[93m"[m[95mTier not found![m[93m"
[m  [93mexit[m [95m1[m
[93mfi[m
[1m[96mlevel_arr[m=[38;5;81m([m [38;5;81m$LEVELS[m [38;5;81m)[m[47;1H[93mfor[m w [93min[m [38;5;81m$WORKERS[m
[93mdo[m
   [1m[96mip_address[m=[38;5;224m`nova [m[7m[38;5;224mli[m[38;5;224mst | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$w[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[50;107H[1m[7m60,21 26%[m[51;1H[K[51;1H/li[?12l[?25hs[?25l[49;23H[7m[38;5;224ms[51;5H[?12l[?25h[mt[?25l[49;24H[7m[38;5;224mt[51;6H[?12l[?25h[?25l[49;21H[m[2;20H[30m[103mlist[49;21Hlist[?12l[?25h[?25l[m[51;105H~@k[49;21H[51;105H   [49;21H[1;49r[49;1H
[1;51r[49;4Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95msudo chmod a+w [m[38;5;81m$LEVEL_FILE[m[93m"[m[51;1H[K[50;108H[1m[7m1,21 29%[49;21H[?12l[?25h[?25l[m[51;105H~@k[49;21H[51;105H   [49;3H[1;49r[49;1H
[1;51r[50;107H[1m[7m 62,3 31%[49;3H[?12l[?25h[?25l[m[51;105H~@k[49;3H[51;105H   [49;14H[1;49r[49;1H
[1;51r[49;4H[1m[96mnext_level[m=[50;107H[1m[7m63,14 34%[49;14H[?12l[?25h[?25l[m[51;105H~@k[49;14H[51;105H   [48;3H[50;107H[1m[7m 62,3 [48;3H[?12l[?25h[?25l[m[51;105H~@k[48;3H[51;105H   [47;21H[50;107H[1m[7m61,21 [47;21H[?12l[?25h[?25l[m[51;105H~@k[47;21H[51;105H   [46;21H[50;108H[1m[7m0,[46;21H[?12l[?25h[?25l[m[51;105H~@k[46;21H[51;105H   [45;2H[50;107H[1m[7m 59,2 [45;2H[?12l[?25h[?25l[m[51;105H~@k[45;2H[51;105H   [46;21H[50;107H[1m[7m60,21 [46;21H[?12l[?25h[?25l[m[51;105H~@k[46;21H[51;105H   [46;1H[50;107H[1m[7m 60,1[46;1H[?12l[?25h[?25l[m[51;105Hi[46;1H[51;105H [46;1H[51;1H[1m-- INSERT --[46;1H[?12l[?25h[?25l[m[96m#   ip_address=`nova [m[30m[103mlist[m[96m | grep "$w" | tr '|' ' '| tr -s ' '| cut -d ' ' -f5 | cut -d '=' -f2`[m[50;14H[1m[7m[+][94C2 [46;2H[?12l[?25h[m[51;1H[K[46;1H[?25l[51;105H^[[46;1H[?12l[?25h[?25l[51;105H  [46;2H[50;111H[1m[7m1 [46;1H[?12l[?25h[?25l[m[51;105Hy[46;1H[?12l[?25h[?25l[51;106Hy[46;1H[51;105H  [46;1H[?12l[?25h[?25l[51;105H~@k[46;1H[51;105H   [47;1H[50;109H[1m[7m1,[47;1H[?12l[?25h[?25l[m[51;105Hi[47;1H[51;105H [47;1H[51;1H[1m-- INSERT --[47;1H[?12l[?25h[?25l[m[47;4H[K[48;4Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95msudo chmod a+w [m[38;5;81m$LEVEL_FILE[m[93m"[m[49;4H[K[50;109H[1m[7m2,1 33%[48;1H[?12l[?25h[50;109H1,[47;1H[m[51;1H[K[47;1H[?25l[51;105H^[[47;1H[?12l[?25h[?25l[51;105H  [47;1H[50;111H[1m[7m0 [47;1H[?12l[?25h[?25l[m[51;105Hp[47;1H[51;105H [48;1H[96m#   ip_address=`nova [m[30m[103mlist[m[96m | grep "$w" | tr '|' ' '| tr -s ' '| cut -d ' ' -f5 | cut -d '=' -f2`[m[48;96H[K[49;4Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95msudo chmod a+w [m[38;5;81m$LEVEL_FILE[m[93m"[m[50;109H[1m[7m2,1 32%[48;1H[?12l[?25h[?25l[m[51;105Hi[48;1H[51;105H [48;1H


[1m-- INSERT --[48;1H[?12l[?25h[m[50;111H[1m[7m2 [48;2H[?25l[m   [1m[96mip_address[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$w[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[48;95H[K[50;111H[1m[7m1 [48;1H[?12l[?25h[50;109H1,[47;1H[m[51;1H[K[47;1H[?25l[51;105H^[[47;1H[?12l[?25h[?25l[51;105H  [47;1H[50;111H[1m[7m0 [47;1H[?12l[?25h[?25l[m[51;105Hd[47;1H[?12l[?25h[?25l[51;106Hd[47;1H[51;105H  [47;4H[1m[96mip_address[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$w[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m
   ssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[1C ubuntu@[38;5;81m$ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95msudo chmod a+w [m[38;5;81m$LEVEL_FILE[m[93m"[m[49;4H[K[50;111H[1m[7m4 33%[47;4H[?12l[?25h[?25l[m[51;105H~@k[47;4H[51;105H   [47;5H[50;111H[1m[7m5 [47;5H[?12l[?25h[?25l[m[51;105H~@k[47;5H[51;105H   [47;6H[50;111H[1m[7m6 [47;6H[?12l[?25h[?25l[m[51;105H~@k[47;6H[51;105H   [47;7H[50;111H[1m[7m7 [47;7H[?12l[?25h[?25l[m[51;105H~@k[47;7H[51;105H   [47;8H[50;111H[1m[7m8 [47;8H[?12l[?25h[?25l[m[51;105H~@k[47;8H[51;105H   [47;9H[50;111H[1m[7m9 [47;9H[?12l[?25h[?25l[m[51;105H~@k[47;9H[51;105H   [47;10H[50;107H[1m[7m61,10 [47;10H[?12l[?25h[?25l[m[51;105H~@k[47;10H[51;105H   [47;11H[50;111H[1m[7m1 [47;11H[?12l[?25h[?25l[m[51;105H~@k[47;11H[51;105H   [47;12H[50;111H[1m[7m2 [47;12H[?12l[?25h[?25l[m[51;105H~@k[47;12H[51;105H   [47;13H[50;111H[1m[7m3 [47;13H[?12l[?25h[?25l[m[51;105H~@k[47;13H[51;105H   [47;14H[50;111H[1m[7m4 [47;14H[?12l[?25h[?25l[m[51;105H~@k[47;14H[51;105H   [47;15H[50;111H[1m[7m5 [47;15H[?12l[?25h[?25l[m[51;105H~@@[47;15H[51;105H   [47;94H[50;110H[1m[7m94 [47;94H[?12l[?25h[?25l[m[51;105H~@k[47;94H[51;105H   [47;93H[50;111H[1m[7m3 [47;93H[?12l[?25h[?25l[m[51;105H~@k[47;93H[51;105H   [47;94H[50;111H[1m[7m4 [47;94H[?12l[?25h[?25l[m[51;105Hi[47;94H[51;105H [47;94H[51;1H[1m-- INSERT --[47;94H[?12l[?25h[?25l[m[38;5;224m`[m[47;94H[K[50;111H[1m[7m3 [47;93H[?12l[?25h[?25l[m[38;5;224m`[m[47;93H[K[50;111H[1m[7m2 [47;92H[?12l[?25h[?25l[m[38;5;224m`[m[47;92H[K[50;111H[1m[7m1 [47;91H[?12l[?25h[?25l[m[38;5;224m`[m[47;91H[K[50;111H[1m[7m0 [47;90H[?12l[?25h[?25l[m[95m`[m[47;90H[K[48;1H[95m   ssh -o "[24C" ubuntu@$ip_address -i $PATH_KEYPAIR/id_rsa "[15C$LEVEL_FILE"
   [m[50;110H[1m[7m89 [47;89H[?12l[?25h[?25l[m[95m`[m[47;89H[K[50;111H[1m[7m8 [47;88H[?12l[?25h[?25l[m[38;5;224m`[m[47;88H[K[48;1H   ssh [93m-o[m [93m"[24C"[m ubuntu@[38;5;81m$ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[15C[38;5;81m$LEVEL_FILE[m[93m"[m
   [50;111H[1m[7m7 [47;87H[?12l[?25h[?25l[m[38;5;224m`[m[47;87H[K[50;111H[1m[7m6 [47;86H[?12l[?25h[?25l[m[38;5;224m`[m[47;86H[K[50;111H[1m[7m5 [47;85H[?12l[?25h[?25l[m[38;5;224m`[m[47;85H[K[50;111H[1m[7m4 [47;84H[?12l[?25h[?25l[m[38;5;224m`[m[47;84H[K[50;111H[1m[7m3 [47;83H[?12l[?25h[?25l[m[38;5;224m`[m[47;83H[K[50;111H[1m[7m2 [47;82H[?12l[?25h[?25l[m[38;5;224m`[m[47;82H[K[50;111H[1m[7m1 [47;81H[?12l[?25h[?25l[m[38;5;224m`[m[47;81H[K[50;111H[1m[7m0 [47;80H[?12l[?25h[?25l[m[38;5;224m`[m[47;80H[K[50;110H[1m[7m79 [47;79H[?12l[?25h[?25l[m[38;5;224m`[m[47;79H[K[50;111H[1m[7m8 [47;78H[?12l[?25h[?25l[m[38;5;224m`[m[47;78H[K[50;111H[1m[7m7 [47;77H[?12l[?25h[?25l[m[38;5;224m`[m[47;77H[K[50;111H[1m[7m6 [47;76H[?12l[?25h[?25l[m[38;5;224m8`[m[50;111H[1m[7m7 [47;77H[?12l[?25h[m[51;1H[K[47;76H[?25l[51;105H^[[47;76H[?12l[?25h[?25l[51;105H  [47;77H[50;111H[1m[7m6 [47;76H[?12l[?25h[?25l[m[51;105H:[47;76H[51;105H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"scale-saas.sh" 91L, 2103C written[47;76H[50;14H[1m[7m    [47;76H[?12l[?25h[?25l[m[51;105H:[47;76H[51;1H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"scale-saas.sh" 91L, 2103C written[47;76H[?12l[?25h[?25l[51;105H~@k[47;76H[51;105H   [48;76H[50;108H[1m[7m2,[48;76H[?12l[?25h[?25l[m[51;105H~@k[48;76H[51;105H   [49;3H[50;107H[1m[7m 63,3 [49;3H[?12l[?25h[?25l[m[51;105H~@k[49;3H[51;105H   [48;76H[50;107H[1m[7m62,76 [48;76H[?12l[?25h[?25l[m[51;105H~@k[48;76H[51;105H   [47;76H[50;108H[1m[7m1,[47;76H[?12l[?25h[?25l[m[51;105H^[[47;76H[?12l[?25h[?25l[51;105H  [47;76H[?12l[?25h[?25l[51;105H/[47;76H[51;1H[K[51;1H/[?12l[?25h[?25llist[1;49r[1;1H[11L[1;51r[1;4H[1m[7m[96mlist[m=[38;5;81m([m [93m"[m[38;5;81m${@[m[93m:[m[95m2[m[38;5;81m}[m[93m"[m [38;5;81m)[m
   [1m[96mi[m=[95m0[m
   [93mif [m [93m[[m [38;5;81m${#[m[30m[103mlist[m[38;5;81m[[m@[38;5;81m]}[m [93m-lt[m [95m0[m [93m][m; [93mthen[4;9Hreturn[m [95m-1[m
   [93mfi
[m   [93mwhile [[m [38;5;81m$i[m [93m-lt[m  [38;5;81m${#[m[30m[103mlist[m[38;5;81m[[m@[38;5;81m]}[m [93m-a[m  [93m"[m[38;5;81m${[m[30m[103mlist[m[38;5;81m[$i]}[m[93m"[m [93m!=[m [93m"[m[38;5;81m$1[m[93m"[m [93m]; do[m[7;9H[1m[96mi[m=[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m + [m[95m1[m[38;5;224m`[m
   [93mdone[m
   [96m#echo $i[m
   [93mif [[m [38;5;81m$i[m [93m-lt[m  [38;5;81m${#[m[30m[103mlist[m[38;5;81m[[m@[38;5;81m]}[m [93m][m; [93mthen[11;9Hreturn[m [38;5;81m$i[m[50;107H[1m[7m  4,4  7%[m[51;1H[K[51;1H/list[?12l[?25h[?25l[38;5;224msearch hit BOTTOM, continuing at TOP[1;4H[m[1m[30m[103mlist[m=   [?12l[?25h[?25l[51;105H/[1;4H[51;1H[K[51;1H/[?12l[?25h[?25llist[3;13H[7m[38;5;81mlist[m[50;108H[1m[7m6,13 [51;6H[?12l[?25h[?25l[3;13H[m[30m[103mlist[?12l[?25h[?25l[m[51;105H~@k[3;13H[51;105H   [4;13H[50;108H[1m[7m7,[4;13H[?12l[?25h[?25l[m[51;105H~@k[4;13H[51;105H   [3;13H[50;108H[1m[7m6,[3;13H[?12l[?25h[?25l[m[51;105H~@k[3;13H[51;105H   [4;13H[50;108H[1m[7m7,[4;13H[?12l[?25h[?25l[m[51;105H~@k[4;13H[51;105H   [5;5H[50;108H[1m[7m 8,5 [5;5H[?12l[?25h[?25l[m[51;105H~@k[5;5H[51;105H   [6;13H[50;108H[1m[7m9,13 [6;13H[?12l[?25h[?25l[m[51;105H~@k[6;13H[51;105H   [7;13H[50;108H[1m[7m10,6 [7;13H[?12l[?25h[?25l[m[51;105H~@k[7;13H[51;105H   [8;7H[50;109H[1m[7m1,7 [8;7H[?12l[?25h[?25l[m[51;105H~@k[8;7H[51;105H   [9;11H[50;107H[1m[7m12,11 [9;11H[?12l[?25h[?25l[m[51;105H~@k[9;11H[51;105H   [10;13H[50;108H[1m[7m3,13 [10;13H[?12l[?25h[?25l[m[51;105H~@k[10;13H[51;105H   [11;13H[50;108H[1m[7m4,[11;13H[?12l[?25h[?25l[m[51;105H~@k[11;13H[51;105H   [12;7H[50;107H[1m[7m 15,7 [12;7H[?12l[?25h[?25l[m[51;105H~@k[12;7H[51;105H   [13;13H[50;107H[1m[7m16,13 [13;13H[?12l[?25h[?25l[m[51;105H~@k[13;13H[51;105H   [14;5H[50;107H[1m[7m 17,5 [14;5H[?12l[?25h[?25l[m[51;105H~@k[14;5H[51;105H   [15;1H[50;109H[1m[7m8,1 [15;1H[?12l[?25h[?25l[m[51;105H~@k[15;1H[51;105H   [16;1H[50;109H[1m[7m9,0 [16;1H[?12l[?25h[?25l[m[51;105H~@k[16;1H[51;105H   [17;1H[50;108H[1m[7m20,[17;1H[?12l[?25h[?25l[m[51;105H~@k[17;1H[51;105H   [18;13H[50;107H[1m[7m21,13 [18;13H[?12l[?25h[?25l[m[51;105H~@k[18;13H[51;105H   [19;4H[50;107H[1m[7m 22,4 [19;4H[?12l[?25h[?25l[m[51;105H~@k[19;4H[51;105H   [20;13H[50;107H[1m[7m23,13 [20;13H[?12l[?25h[?25l[m[51;105H~@k[20;13H[51;105H   [21;11H[50;108H[1m[7m4,11 [21;11H[?12l[?25h[?25l[m[51;105H~@k[21;11H[51;105H   [22;2H[50;107H[1m[7m 25,2 [22;2H[?12l[?25h[?25l[m[51;105H~@k[22;2H[51;105H   [23;1H[50;109H[1m[7m6,0 [23;1H[?12l[?25h[?25l[m[51;105H~@k[23;1H[51;105H   [24;13H[50;107H[1m[7m27,13 [24;13H[?12l[?25h[?25l[m[51;105H~@k[24;13H[51;105H   [25;13H[50;108H[1m[7m8,[25;13H[?12l[?25h[?25l[m[51;105H~@k[25;13H[51;105H   [26;1H[50;107H[1m[7m 29,0 [26;1H[?12l[?25h[?25l[m[51;105H~@k[26;1H[51;105H   [27;13H[50;107H[1m[7m30,13 [27;13H[?12l[?25h[?25l[m[51;105H~@k[27;13H[51;105H   [28;1H[50;107H[1m[7m 31,0 [28;1H[?12l[?25h[?25l[m[51;105H~@k[28;1H[51;105H   [29;13H[50;107H[1m[7m32,13 [29;13H[?12l[?25h[?25l[m[51;105H~@k[29;13H[51;105H   [30;1H[50;107H[1m[7m 33,0 [30;1H[?12l[?25h[?25l[m[51;105H~@k[30;1H[51;105H   [31;13H[50;107H[1m[7m34,13 [31;13H[?12l[?25h[?25l[m[51;105H~@k[31;13H[51;105H   [32;1H[50;107H[1m[7m 35,0 [32;1H[?12l[?25h[?25l[m[51;105H~@k[32;1H[51;105H   [33;13H[50;107H[1m[7m36,13 [33;13H[?12l[?25h[?25l[m[51;105H~@k[33;13H[51;105H   [34;1H[50;107H[1m[7m 37,0 [34;1H[?12l[?25h[?25l[m[51;105H~@k[34;1H[51;105H   [35;13H[50;107H[1m[7m38,13 [35;13H[?12l[?25h[?25l[m[51;105H~@k[35;13H[51;105H   [34;1H[50;107H[1m[7m 37,0 [34;1H[?12l[?25h[?25l[m[51;105H~@k[34;1H[51;105H   [33;13H[50;107H[1m[7m36,13 [33;13H[?12l[?25h[?25l[m[51;105H~@k[33;13H[51;105H   [32;1H[50;107H[1m[7m 35,0 [32;1H[?12l[?25h[?25l[m[51;105H~@k[32;1H[51;105H   [31;13H[50;107H[1m[7m34,13 [31;13H[?12l[?25h[?25l[m[51;105H~@k[31;13H[51;105H   [30;1H[50;107H[1m[7m 33,0 [30;1H[?12l[?25h[?25l[m[51;105H~@k[30;1H[51;105H   [29;13H[50;107H[1m[7m32,13 [29;13H[?12l[?25h[?25l[m[51;105H/[29;13H[51;1H[K[51;1H/[?12l[?25h[?25llist[1;49r[1;1H[8M[1;51r[42;1H[93mfi[m
[1m[96mlevel_arr[m=[38;5;81m([m [38;5;81m$LEVELS[m [38;5;81m)[m[47;1H[93mfor[m w [93min[m [38;5;81m$WORKERS[m
[93mdo[m
[96m#   ip_address=`nova [m[7m[96mlist[m[96m | grep "$w" | tr '|' ' '| tr -s ' '| cut -d ' ' -f5 | cut -d '=' -f2`[m[50;107H[1m[7m60,22 26%[m[51;1H[K[51;1H/list[?12l[?25h[?25l[49;22H[30m[103mlist[?12l[?25h[?25l[m[51;105H/[49;22H[51;1H[K[51;1H/[?12l[?25h[?25l[51;1H[K[49;22H[?12l[?25h[?25l[51;105H~@k[49;22H[51;105H   [49;22H[1;49r[49;1H
[1;51r[49;4H[1m[96mip_address[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$w[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f8`[m[50;108H[1m[7m1,22 28%[49;22H[?12l[?25h[?25l[m[51;105H~@k[49;22H[51;105H   [49;22H[1;49r[49;1H
[1;51r[49;4Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95msudo chmod a+w [m[38;5;81m$LEVEL_FILE[m[93m"[m[50;108H[1m[7m2,22 30%[49;22H[?12l[?25h[?25l[m[51;105H~@k[49;22H[51;105H   [49;3H[1;49r[49;1H
[1;51r[50;107H[1m[7m 63,3 33%[49;3H[?12l[?25h[?25l[m[51;105H~@k[49;3H[51;105H   [49;14H[1;49r[49;1H
[1;51r[49;4H[1m[96mnext_level[m=[50;107H[1m[7m64,14 35%[49;14H[?12l[?25h[?25l[m[51;105H~@k[49;14H[51;105H   [49;22H[1;49r[49;1H
[1;51r[49;4H[93mif [m[38;5;224m[[m[38;5;224m[46m[[m [38;5;81m$CMD[m [93m=[m~ [38;5;81m$re[m [38;5;224m[46m][m[38;5;224m][m; [93mthen[m[50;108H[1m[7m5,22 38%[49;22H[?12l[?25h[?25l[m[51;105H~@k[49;22H[51;105H   [49;21H[1;49r[49;1H
[1;51r[48;8H[38;5;224m[[13C][m[49;7H[1m[96mnext_level[m=[38;5;81m$CMD[m[50;108H[1m[7m6,21 40%[49;21H[?12l[?25h[?25l[m[51;105H~@k[49;21H[51;105H   [49;7H[1;49r[49;1H
[1;51r[49;4H[93melse[m[50;107H[1m[7m 67,7 42%[49;7H[?12l[?25h[?25l[m[51;105H~@k[49;7H[51;105H   [48;22H[1;49r[1;1H[2M[1;51r[48;7H[1m[96mcurr_level[m=[38;5;81m$([m[38;5;224mssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m ubuntu@[m[38;5;81m$ip_address[m[38;5;224m -i [m[38;5;81m$PATH_KEYPAIR[m[38;5;224m/id_rsa [m[93m"[m[95msudo cat [m[38;5;81m$LEVEL_FII[49;1HLE[m[93m"[m[38;5;81m)[m[50;107H[1m[7m68,22 46%[48;22H[?12l[?25h[?25l[m[51;105H~@k[48;22H[51;105H   [49;22H[1;49r[49;1H
[1;51r[49;7H[93mecho[m[95m [m[93m"[m[95mCurrent quality level is [m[38;5;81m$curr_level[m[95m [worker [m[38;5;81m$w[m[95m][m[93m"[m[50;108H[1m[7m9,22 48%[49;22H[?12l[?25h[?25l[m[51;105H~@k[49;22H[51;105H   [49;22H[1;49r[49;1H
[1;51r[49;7HindexOf [38;5;81m$curr_level[m [38;5;81m$LEVELS[m[50;107H[1m[7m70,22 51%[49;22H[?12l[?25h[?25l[m[51;105H~@k[49;22H[51;105H   [49;12H[1;49r[49;1H
[1;51r[49;7H[1m[96midx[m=[38;5;81m$?[m[50;108H[1m[7m1,12 53%[49;12H[?12l[?25h[?25l[m[51;105H~@k[49;12H[51;105H   [49;1H[1;49r[49;1H
[1;51r[50;107H[1m[7m 72,1 55%[49;1H[?12l[?25h[?25l[m[51;105H~@k[49;1H[51;105H   [49;22H[1;49r[49;1H
[1;51r[49;7H[93mif [[m [93m"[m[38;5;81m$CMD[m[93m"[m [93m=[m [95m"up"[m  [93m][m; [93mthen[m[50;107H[1m[7m73,22 58%[49;22H[?12l[?25h[?25l[m[51;105H~@k[49;22H[51;105H   [49;22H[1;49r[49;1H
[1;51r[49;10H[1m[96midx[m=[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$idx[m[38;5;224m + [m[95m1[m[38;5;224m`[m[50;108H[1m[7m4,22 60%[49;22H[?12l[?25h[?25l[m[51;105H~@k[49;22H[51;105H   [49;11H[1;49r[49;1H
[1;51r[49;7H[93melse[m[50;108H[1m[7m5,11 62%[49;11H[?12l[?25h[?25l[m[51;105H~@k[49;11H[51;105H   [49;22H[1;49r[49;1H
[1;51r[49;10H[1m[96midx[m=[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$idx[m[38;5;224m - [m[95m1[m[38;5;224m`[m[50;108H[1m[7m6,22 65%[49;22H[?12l[?25h[?25l[m[51;105H~@k[49;22H[51;105H   [49;8H[1;49r[49;1H
[1;51r[49;7H[93mfi[m[50;107H[1m[7m 77,8 67%[49;8H[?12l[?25h[?25l[m[51;105H~@k[49;8H[51;105H   [49;6H[1;49r[49;1H
[1;51r[50;109H[1m[7m8,6 69%[49;6H[?12l[?25h[?25l[m[51;105H~@k[49;6H[51;105H   [49;22H[1;49r[49;1H
[1;51r[49;7H[93mif [[m [38;5;81m$idx[m [93m-ge[m [95m0[m [93m-a[m [38;5;81m$idx[m [93m-lt[m  [38;5;81m${#level_arr[[m@[38;5;81m]}[m [93m][m; [93mthen[m[50;107H[1m[7m79,22 72%[49;22H[?12l[?25h[?25l[m[51;105H~@k[49;22H[51;105H   [49;22H[1;49r[49;1H
[1;51r[49;10H[1m[96mnext_level[m=[38;5;81m$[m[38;5;81m[46m{[m[38;5;81mlevel_arr[$idx][m[38;5;81m[46m}[m[50;107H[1m[7m80,22 74%[49;22H[?12l[?25h[?25l[m[51;105H~@k[49;22H[51;105H   [49;10H[1;49r[49;1H
[1;51r[48;22H[38;5;81m{[15C}[m[49;7H[93melse[m[50;108H[1m[7m1,10 76%[49;10H[?12l[?25h[?25l[m[51;105H~@k[49;10H[51;105H   [49;22H[1;49r[49;1H
[1;51r[49;10H[93mecho[m[95m [m[93m"[m[95mAlready in the minimum/maximum level : nothing to do! [worker [m[38;5;81m$w[m[95m][m[93m"[m[95m         [m[50;108H[1m[7m2,22 79%[49;22H[?12l[?25h[?25l[m[51;105H~@k[49;22H[51;105H   [49;8H[1;49r[49;1H
[1;51r[49;7H[93mfi[m[50;107H[1m[7m 83,8 81%[49;8H[?12l[?25h[?25l[m[51;105H~@k[49;8H[51;105H   [49;5H[1;49r[49;1H
[1;51r[49;4H[93mfi[m[50;109H[1m[7m4,5 83%[49;5H[?12l[?25h[?25l[m[51;105H~@k[49;5H[51;105H   [49;3H[1;49r[49;1H
[1;51r[50;109H[1m[7m5,3 86%[49;3H[?12l[?25h[?25l[m[51;105H~@k[49;3H[51;105H   [49;22H[1;49r[49;1H
[1;51r[49;4H[93mif ![m [93m[[m [93m-z[m [93m"[m[38;5;81m$next_level[m[93m"[m [93m][m[50;107H[1m[7m86,22 88%[49;22H[?12l[?25h[?25l[m[51;105H~@k[49;22H[51;105H   [49;7H[1;49r[49;1H
[1;51r[49;4H[93mthen[m[50;107H[1m[7m 87,7 90%[49;7H[?12l[?25h[?25l[m[51;105H~@k[49;7H[51;105H   [49;22H[1;49r[49;1H
[1;51r[49;7H[93mecho[m[95m [m[93m"[m[95mSetting quality level to [m[38;5;81m$next_level[m[95m [worker [m[38;5;81m$w[m[95m][m[93m"[m[50;107H[1m[7m88,22 93%[49;22H[?12l[?25h[?25l[m[51;105H~@k[49;22H[51;105H   [48;22H[1;49r[1;1H[2M[1;51r[48;7Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95msudo echo [m[38;5;81m$next_level[m[95m > [m[38;5;81m$LEVEL__[49;1HFILE[m[93m"[m[50;108H[1m[7m9,22 95%[48;22H[?12l[?25h[?25l[m[51;105H^[[48;22H[?12l[?25h[?25l[51;105H  [48;22H[?12l[?25h[?25l[51;105H:[48;22H[51;105H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica/apicloud$ vim scale-saas.sh [K[K[K[K[K[K[K[Kiaas.sh 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"scale-iaas.sh" 125L, 3441C[>c[1;1H[96m#!/bin/bash[m

[93mif ![m [93m[[m [93m-d[m /share [93m][m || [93m![m [93m[[m [93m-f[m /root/openrc [93m]
then[5;6Hecho[m[95m [m[93m"[m[95mdoit etre execute sur le cloud controler[m[93m"[6;6Hexit[m [95m1[m
[93mfi

export[m[1m[96m PROJECT_PATH=[m/share
[93mcd[m [38;5;81m$PROJECT_PATH[m

[93msource[m [38;5;81m$PROJECT_PATH[m/common/util.sh[16;1H[93mif [[m [93m"[m[38;5;81m$#[m[93m"[m [93m-ne[m [95m2[m [93m][m || [93m[[m [93m"[m[38;5;81m$1[m[93m"[m [93m!=[m [93m"[m[95mout[m[93m"[m [93m-a[m [93m"[m[38;5;81m$1[m[93m"[m [93m!=[m [93m"[m[95min[m[93m"[m [93m][m; [93mthen
[m   [93mecho[m[95m [m[93m"[m[95mUsage: [m[38;5;81m$0[m[95m out | in tier[m[93m"
[m   [93mexit[m [95m1[m
[93mfi[m

[1m[96mCMD[m=[38;5;81m$1[m
[1m[96mTIER[m=[38;5;81m$2[m

[1m[96mTIER_FILE[m=[93m"[m[38;5;81m$TIER_LIST_PATH[m[95m/[m[38;5;81m$TIER[m[93m"

if [[m [93m-f[m [93m"[m[38;5;81m$TIER_FILE[m[93m"[m [93m][m; [93mthen[m
  [1m[96mWORKERS[m=[38;5;81m$([m[93mgrep[m[38;5;224m [m[1m[96mworkers[m=[38;5;224m [m[38;5;81m${TIER_FILE}[m[38;5;224m | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2[m[38;5;81m)[m
  [93mecho[m[95m [m[38;5;81m$WORKERS[m
[93melse
[m  [93mif [[m [93m"[m[38;5;81m$CMD[m[93m"[m [93m=[m [95m"in"[m [93m][m; [93mthen[31;6Hecho[m[95m [m[93m"[m[95mTier not found![m[93m"[32;6Hexit[m [95m1[m
  [93mfi[m

  [1m[96mWORKERS[m=
[93mfi[m
[1m[96mlb_ip_address[m=
[1m[96mlb_vm_name[m=[38;5;81m$TIER[m[93m'[m[95m_VM_LB[m[93m'
if [[m [93m"[m[38;5;81m$CMD[m[93m"[m [93m=[m [95m"out"[m  [93m][m; [93mthen
[m   [93mecho[m[95m [m[93m"[m[95mScaling out tier [m[93m"[m[38;5;81m$TIER[m[95m [m[93m"[m[95m with [m[93m"[m[38;5;81m$NUMBER_INSTANCES[m[95m [m[93m"[m[95minstances of flavor [m[93m"[m[95m [m[38;5;81m$FLAVOR_ID[m[95m [m[42;4H[93mif [[m [93m-f[m [93m"[m[38;5;81m$DB_INFO_FILE[m[93m"[m [93m]
[m   [93mthen[m[44;6H[1m[96mDB_HOST[m=[38;5;81m$([m[38;5;224mcat [m[38;5;81m$DB_INFO_FILE)[m
   [93melse[m[46;6H[1m[96mDB_HOST[m=[38;5;81m$DB_DEFAULT_HOST[m
   [93mfi[49;4Hfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_INSTANCES[m[38;5;224m`[m
[1m[7mscale-iaas.sh                                                                                               1,1 Top[1;1H[?12l[?25h[?25l[m[51;105H/[1;1H[51;1H[K[51;1H/[?12l[?25h[?25llist[24;18H[7m[38;5;81mLIST[m[50;107H[1m[7m24,18 [51;6H[?12l[?25h[?25l[24;18H[m[30m[103mLIST[?12l[?25h[?25l[m[51;105H/[24;18H[51;1H[K[51;1H/[?12l[?25h[?25llist[1;49r[1;1H[10M[1;51r[40;4H[93mdo[m[41;7H[1m[96mvm_name[m=[38;5;81m$TIER[m[93m'[m[95m_VM[m[93m'[m[38;5;81m$([m[38;5;224mdate +[m[93m"[m[95m%s[m[93m"[m[38;5;81m)[m[42;7H[93mecho[m[95m [m[93m"[m[95mCreating [m[38;5;81m$vm_name[m[95m / flavor [m[93m"[m[38;5;81m$FLAVOR_ID[43;7H$PROJECT_PATH[m/apicloud/new_vm.sh [38;5;81m$FLAVOR_ID[m [38;5;81m$vm_name[m w [38;5;81m$TIER[m[44;7H[1m[96mWORKERS[m=[38;5;81m$WORKERS[m[93m'[m[95m [m[93m'[m[38;5;81m$vm_name[m
   [93mdone[m
   [1m[96mip_addresses[m=
   [93mfor[m i [93min[m [38;5;81m$WORKERS[m
   [93mdo[m[49;7H[1m[96mip_adress[m=[38;5;224m`nova [m[7m[38;5;224mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$i[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[50;107H[1m[7m59,23 13%[m[51;1H[K[51;1H/list[?12l[?25h[?25l[49;23H[30m[103mlist[?12l[?25h[?25l[m[51;105H/[49;23H[51;1H[K[51;1H/[?12l[?25h[?25llist[1;49r[1;1H[12M[1;51r[39;7Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_adress[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95msudo /root/w-setup.sh [m[38;5;81m$DB_HOST[m[93m"[m[40;7H[1m[96mip_addresses[m=[38;5;81m$ip_addresses[m[93m'[m[95m [m[93m'[m[38;5;81m$ip_adress[m[93m'[m[95m:[m[93m'[m[38;5;81m$WORKER_PORT[m
   [93mdone[45;4Hif ![m [93m[[m [93m-f[m [93m"[m[38;5;81m$TIER_FILE[m[93m"[m [93m][m; [93mthen[46;7Hecho[m[95m [m[93m"[m[95mTier not found, creating a LB[m[93m"[m[47;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [38;5;81m$FLAVOR_ID[m [38;5;81m$lb_vm_name[m LB [38;5;81m$TIER[m
   [93mfi[m
   [1m[96mlb_ip_address[m=[38;5;224m`nova [m[7m[38;5;224mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$lb_vm_name[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[50;107H[1m[7m71,24 28%[m[51;1H[K[51;1H/list[?12l[?25h[?25l[49;24H[30m[103mlist[?12l[?25h[?25l[m[51;105H~@k[49;24H[51;105H   [49;25H[50;111H[1m[7m5 [49;25H[?12l[?25h[?25l[m[51;105H~@k[49;25H[51;105H   [49;24H[50;111H[1m[7m4 [49;24H[?12l[?25h[?25l[m[51;105H~@k[49;24H[51;105H   [49;23H[50;111H[1m[7m3 [49;23H[?12l[?25h[?25l[m[51;105H~@k[49;23H[51;105H   [49;22H[50;111H[1m[7m2 [49;22H[?12l[?25h[?25l[m[51;105H~@k[49;22H[51;105H   [49;21H[50;111H[1m[7m1 [49;21H[?12l[?25h[?25l[m[51;105H~@k[49;21H[51;105H   [49;20H[50;111H[1m[7m0 [49;20H[?12l[?25h[?25l[m[51;105H~@k[49;20H[51;105H   [49;19H[50;110H[1m[7m19 [49;19H[?12l[?25h[?25l[m[51;105H~@k[49;19H[51;105H   [49;18H[50;111H[1m[7m8 [49;18H[?12l[?25h[?25l[m[51;105H~@k[49;18H[51;105H   [49;17H[50;111H[1m[7m7 [49;17H[?12l[?25h[?25l[m[51;105H~@k[49;17H[51;105H   [49;16H[50;111H[1m[7m6 [49;16H[?12l[?25h[?25l[m[51;105H~@k[49;16H[51;105H   [49;15H[50;111H[1m[7m5 [49;15H[?12l[?25h[?25l[m[51;105H~@k[49;15H[51;105H   [49;14H[50;111H[1m[7m4 [49;14H[?12l[?25h[?25l[m[51;105H~@k[49;14H[51;105H   [49;13H[50;111H[1m[7m3 [49;13H[?12l[?25h[?25l[m[51;105H~@k[49;13H[51;105H   [49;12H[50;111H[1m[7m2 [49;12H[?12l[?25h[?25l[m[51;105H~@k[49;12H[51;105H   [49;11H[50;111H[1m[7m1 [49;11H[?12l[?25h[?25l[m[51;105H~@k[49;11H[51;105H   [49;10H[50;111H[1m[7m0 [49;10H[?12l[?25h[?25l[m[51;105H~@k[49;10H[51;105H   [49;9H[50;107H[1m[7m 71,9 [49;9H[?12l[?25h[?25l[m[51;105H~@k[49;9H[51;105H   [49;8H[50;111H[1m[7m8 [49;8H[?12l[?25h[?25l[m[51;105H~@k[49;8H[51;105H   [49;7H[50;111H[1m[7m7 [49;7H[?12l[?25h[?25l[m[51;105H~@k[49;7H[51;105H   [49;6H[50;111H[1m[7m6 [49;6H[?12l[?25h[?25l[m[51;105H~@k[49;6H[51;105H   [49;5H[50;111H[1m[7m5 [49;5H[?12l[?25h[?25l[m[51;105H~@k[49;5H[51;105H   [49;4H[50;111H[1m[7m4 [49;4H[?12l[?25h[?25l[m[51;105Hi[49;4H[51;105H [49;4H

[1m-- INSERT --[49;4H[?12l[?25h[?25l[m[96m#lb_ip_address=`nova [m[30m[103mlist[m[96m | grep "$lb_vm_name" | tr '|' ' '| tr -s ' '| cut -d ' ' -f5 | cut -d '=' -f2`[m[50;14H[1m[7m[+][94C5 [49;5H[?12l[?25h[m[51;1H[K[49;4H[?25l[51;105H^[[49;4H[?12l[?25h[?25l[51;105H  [49;5H[50;111H[1m[7m4 [49;4H[?12l[?25h[?25l[m[51;105Hy[49;4H[?12l[?25h[?25l[51;106Hy[49;4H[51;105H  [49;4H[?12l[?25h[?25l[51;105H~@k[49;4H[51;105H   [49;5H[50;111H[1m[7m5 [49;5H[?12l[?25h[?25l[m[51;105H~@@[49;5H[51;105H   [49;107H[50;106H[1m[7m71,107 [49;107H[?12l[?25h[?25l[m[51;105Hi[49;107H[51;105H [49;107H

[1m-- INSERT --[49;107H[?12l[?25h[m[50;111H[1m[7m8 [49;108H[?25l[1;49r[m[49;1H
[1;51r[50;106H[1m[7m  72,1 29%[49;1H[?12l[?25h[m[51;1H[K[49;1H[?25l[51;105H^[[49;1H[?12l[?25h[?25l[51;105H  [49;1H[50;111H[1m[7m0 [49;1H[?12l[?25h[?25l[m[51;105Hp[49;1H[51;105H [49;4H[1;49r[49;1H
[1;51r[49;4H[96m#lb_ip_address=`nova [m[30m[103mlist[m[96m | grep "$lb_vm_name" | tr '|' ' '| tr -s ' '| cut -d ' ' -f5 | cut -d '=' -f2`[m[50;109H[1m[7m3,4 30%[49;4H[?12l[?25h[?25l[m[51;105Hi[49;4H[51;105H [49;4H

[1m-- INSERT --[49;4H[?12l[?25h[m[50;111H[1m[7m5 [49;5H[?25l[m[1m[96mlb_ip_address[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$lb_vm_name[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[49;107H[K[50;111H[1m[7m4 [49;4H[?12l[?25h[50;109H2,1 [48;1H[m[51;1H[K[48;1H[?25l[51;105H^[[48;1H[?12l[?25h[?25l[51;105H  [48;1H[50;111H[1m[7m0 [48;1H[?12l[?25h[?25l[m[51;105Hd[48;1H[?12l[?25h[?25l[51;106Hd[48;1H[51;105H  [48;4H[1m[96mlb_ip_address[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$lb_vm_name[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[49;4H[K[50;111H[1m[7m4 31%[48;4H[?12l[?25h[?25l[m[51;105H~@k[48;4H[51;105H   [49;3H[50;109H[1m[7m3,3 [49;3H[?12l[?25h[?25l[m[51;105H~@k[49;3H[51;105H   [49;4H[1;49r[49;1H
[1;51r[49;4H[93mecho[m[95m [m[38;5;81m$ip_addresses[m[50;109H[1m[7m4,4 32%[49;4H[?12l[?25h[?25l[m[51;105H~@k[49;4H[51;105H   [49;4H[1;49r[49;1H
[1;51r[49;4H[93mecho[m[95m [m[93m"[m[95mworkers=[m[93m"[m[38;5;81m$WORKERS[m[95m [m[93m>[m [38;5;81m$TIER_FILE[m[50;109H[1m[7m5,4 33%[49;4H[?12l[?25h[?25l[m[51;105H~@k[49;4H[51;105H   [48;4H[1;49r[1;1H[2M[1;51r[48;4Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$lb_ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95m/root/lb-setup.sh [m[38;5;81m$LB_PORT[m[95m [m[38;5;81m$ip__[49;1Haddresses[m[93m"[m[50;109H[1m[7m6,4 35%[48;4H[?12l[?25h[?25l[m[51;105H~@k[48;4H[51;105H   [49;4H[1;49r[49;1H
[1;51r[49;1H[93melse[m[50;109H[1m[7m7,4 37%[49;4H[?12l[?25h[?25l[m[51;105H~@k[49;4H[51;105H   [47;4H[50;109H[1m[7m6,[47;4H[?12l[?25h[?25l[m[51;105H~@k[47;4H[51;105H   [46;4H[50;109H[1m[7m5,[46;4H[?12l[?25h[?25l[m[51;105H~@k[46;4H[51;105H   [45;4H[50;109H[1m[7m4,[45;4H[?12l[?25h[?25l[m[51;105H~@k[45;4H[51;105H   [44;3H[50;109H[1m[7m3,3 [44;3H[?12l[?25h[?25l[m[51;105H~@k[44;3H[51;105H   [43;4H[50;109H[1m[7m2,4 [43;4H[?12l[?25h[?25l[m[51;105H~@k[43;4H[51;105H   [43;5H[50;111H[1m[7m5 [43;5H[?12l[?25h[?25l[m[51;105H~@@[43;5H[51;105H   [43;106H[50;106H[1m[7m72,106 [43;106H[?12l[?25h[?25l[m[51;105Hi[43;106H[51;105H [43;106H[51;1H[1m-- INSERT --[43;106H[?12l[?25h[?25l[m[38;5;224m`[m[43;106H[K[50;111H[1m[7m5 [43;105H[?12l[?25h[?25l[m[38;5;224m`[m[43;105H[K[50;111H[1m[7m4 [43;104H[?12l[?25h[?25l[m[38;5;224m`[m[43;104H[K[50;111H[1m[7m3 [43;103H[?12l[?25h[?25l[m[38;5;224m`[m[43;103H[K[50;111H[1m[7m2 [43;102H[?12l[?25h[?25l[m[95m`[m[43;102H[K[44;1H[95m   
   echo $ip_addresses
   echo "[8C"$WORKERS > $TIER_FILE
   ssh -o "[24C" ubuntu@$lb_ip_address -i $PATH_KEYPAIR/id_rsa "[18C$LB_PORT $ip__[48;1Haddresses"
else[m[50;111H[1m[7m1 [43;101H[?12l[?25h[?25l[m[95m`[m[43;101H[K[50;111H[1m[7m0 [43;100H[?12l[?25h[?25l[m[38;5;224m`[m[43;100H[K[44;1H   
   [93mecho[m[1C[38;5;81m$ip_addresses[m
   [93mecho[1C"[8C"[m[38;5;81m$WORKERS[m[1C[93m>[m [38;5;81m$TIER_FILE[m
   ssh [93m-o[m [93m"[24C"[m ubuntu@[38;5;81m$lb_ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[18C[38;5;81m$LB_PORT[1C$ip__[48;1Haddresses[m[93m"
else[m[50;106H[1m[7m 72,99 [43;99H[?12l[?25h[?25l[m[38;5;224m`[m[43;99H[K[50;111H[1m[7m8 [43;98H[?12l[?25h[?25l[m[38;5;224m`[m[43;98H[K[50;111H[1m[7m7 [43;97H[?12l[?25h[?25l[m[38;5;224m`[m[43;97H[K[50;111H[1m[7m6 [43;96H[?12l[?25h[?25l[m[38;5;224m`[m[43;96H[K[50;111H[1m[7m5 [43;95H[?12l[?25h[?25l[m[38;5;224m`[m[43;95H[K[50;111H[1m[7m4 [43;94H[?12l[?25h[?25l[m[38;5;224m`[m[43;94H[K[50;111H[1m[7m3 [43;93H[?12l[?25h[?25l[m[38;5;224m`[m[43;93H[K[50;111H[1m[7m2 [43;92H[?12l[?25h[?25l[m[38;5;224m`[m[43;92H[K[50;111H[1m[7m1 [43;91H[?12l[?25h[?25l[m[38;5;224m`[m[43;91H[K[50;111H[1m[7m0 [43;90H[?12l[?25h[?25l[m[38;5;224m`[m[43;90H[K[50;110H[1m[7m89 [43;89H[?12l[?25h[?25l[m[38;5;224m`[m[43;89H[K[50;111H[1m[7m8 [43;88H[?12l[?25h[?25l[m[38;5;224m8`[m[50;111H[1m[7m9 [43;89H[?12l[?25h[50;107H 73,4 [44;4H[50;107H72,89 [43;89H[50;108H1,[42;89H[50;107H 70,6 [41;6H[50;107H69,71 [40;71H[50;108H8,43 [39;43H[50;108H7,34 [38;34H[50;107H 66,1 [37;1H[50;109H5,[36;1H[50;109H4,[35;1H[50;109H3,8 [34;8H[50;107H62,61 [33;61H[50;108H1,89 [32;89H[50;107H 60,7 [31;7H[50;107H59,89 [30;89H[m[51;1H[K[30;88H[?25l[51;105H^[[30;88H[?12l[?25h[?25l[51;105H  [30;89H[50;111H[1m[7m8 [30;88H[?12l[?25h[?25l[m[51;105Hy[30;88H[?12l[?25h[?25l[51;106Hy[30;88H[51;105H  [30;88H[?12l[?25h[?25l[51;105H~@@[30;88H[51;105H   [30;96H[50;110H[1m[7m96 [30;96H[?12l[?25h[?25l[m[51;105Hi[30;96H[51;105H [30;96H[51;1H[1m-- INSERT --[30;96H[?12l[?25h[m[50;111H[1m[7m7 [30;97H[?25l[31;49r[m[31;1H[L[1;51r[50;107H[1m[7m 60,1 36%[31;1H[?12l[?25h[m[51;1H[K[31;1H[?25l[51;105H^[[31;1H[?12l[?25h[?25l[51;105H  [31;1H[50;111H[1m[7m0 [31;1H[?12l[?25h[?25l[m[51;105Hp[31;1H[51;105H [32;7H[32;49r[32;1H[L[1;51r[32;7H[1m[96mip_adress[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$i[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[49;1H[94m@                                                                                                                  [m[50;109H[1m[7m1,7 [32;7H[?12l[?25h[?25l[m[51;105Hi[32;7H[51;105H [32;7H[51;1H[1m-- INSERT --[32;7H[?12l[?25h[m[50;109H[1m[7m0,1 [31;1H[50;108H59,7 [30;7H[?25l[m[1C[1m[96mip_adress[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$i[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[50;111H[1m[7m8 [30;8H[?12l[?25h[?25l[mi[96m#ip_adress=`nova [m[30m[103mlist[m[96m | grep "$i" | tr '|' ' '| tr -s ' '| cut -d ' ' -f5 | cut -d '=' -f2`[m[50;111H[1m[7m9 [30;9H[?12l[?25h[?25l[m[1m[96miip_adress[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$i[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[30;98H[K[50;111H[1m[7m8 [30;8H[?12l[?25h[?25l[m[1m[96mp_adress[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$i[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[30;97H[K[50;111H[1m[7m7 [30;7H[?12l[?25h[?25l[m[96m#ip_adress=`nova [m[30m[103mlist[m[96m | grep "$i" | tr '|' ' '| tr -s ' '| cut -d ' ' -f5 | cut -d '=' -f2`[m[50;111H[1m[7m8 [30;8H[?12l[?25h[50;108H60,1 [31;1H[50;108H59,8 [30;8H[50;108H60,1 [31;1H[50;109H1,8 [32;8H[50;111H9 [32;9H[50;107H61,97 [32;97H[50;111H6 [32;96H[?25l[m[38;5;224mi`[m[50;111H[1m[7m7 [32;97H[?12l[?25h[?25l[m[38;5;224m`[m[32;97H[K[50;111H[1m[7m6 [32;96H[?12l[?25h[?25l[m[38;5;224m`[m[32;96H[K[50;111H[1m[7m5 [32;95H[?12l[?25h[?25l[m[38;5;224m`[m[32;95H[K[50;111H[1m[7m4 [32;94H[?12l[?25h[?25l[m[38;5;224m`[m[32;94H[K[50;111H[1m[7m3 [32;93H[?12l[?25h[?25l[m[38;5;224m`[m[32;93H[K[50;111H[1m[7m2 [32;92H[?12l[?25h[?25l[m[95m`[m[32;92H[K[33;1H[95m      
      ssh -o "[24C" ubuntu@$ip_adress -i $PATH_KEYPAIR/id_rsa "[22C$DB_HOST"
      ip_addresses=$ip_addresses[m[1C[38;5;224m [m[1C[95m$ip_adress[m[1C[38;5;224m:[m[1C[95m$WORKER_PORT
   done[40;1H   if ! [ -f "$TIER_FILE" ]; then
      echo "[29C"
      $PROJECT_PATH/apicloud/new_vm.sh $FLAVOR_ID $lb_vm_name LB $TIER
   fi
   #lb_ip_address=`nova [4C | grep "$lb_vm_name" | tr [m[93m'[m[38;5;224m|[m[93m'[m[95m [m[93m'[m[38;5;224m [m[93m'[m[95m| tr -s [m[93m'[m[38;5;224m [m[93m'[m[95m| cut -d [m[93m'[m[38;5;224m [m[93m'[m[95m -f5 | cut -d [m[93m'[m[38;5;224m=[m[93m'[m[95m -f2`
   lb_ip_address=`nova [4C | grep "$lb_vm_name" | tr [m[1C[38;5;224m|[m[1C[95m [m[1C[38;5;224m [m[1C[95m| tr -s [m[1C[38;5;224m [m[1C[95m| cut -d [m[1C[38;5;224m [m[1C[95m -f8`
   
   echo $ip_addresses
   echo "[8C"$WORKERS > $TIER_FILE[m[50;111H[1m[7m1 [32;91H[?12l[?25h[?25l[m[95m`[m[32;91H[K[50;111H[1m[7m0 [32;90H[?12l[?25h[?25l[m[38;5;224m`[m[32;90H[K[33;1H      
      ssh [93m-o[m [93m"[24C"[m ubuntu@[38;5;81m$ip_adress[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[22C[38;5;81m$DB_HOST[m[93m"[m
      [1m[96mip_addresses[m=[38;5;81m$ip_addresses[m[1C[95m [m[1C[38;5;81m$ip_adress[m[1C[95m:[m[1C[38;5;81m$WORKER_PORT[m
   [93mdone[m[40;1H   [93mif ![m [93m[[m [93m-f[m [93m"[m[38;5;81m$TIER_FILE[m[93m"[m [93m][m; [93mthen[m
      [93mecho[1C"[29C"[m
      [38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [38;5;81m$FLAVOR_ID[m [38;5;81m$lb_vm_name[m LB [38;5;81m$TIER[m
   [93mfi[m
   [96m#lb_ip_address=`nova [4C | grep "$lb_vm_name" | tr '|' ' '| tr -s ' '| cut -d ' ' -f5 | cut -d '=' -f2`[m
   [1m[96mlb_ip_address[m=[38;5;224m`nova [4C | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$lb_vm_name[m[93m"[m[38;5;224m | tr [m[1C[95m|[m[1C[38;5;224m [m[1C[95m [m[1C[38;5;224m| tr -s [m[1C[95m [m[1C[38;5;224m| cut -d [m[1C[95m [m[1C[38;5;224m -f8`[m
   
   [93mecho[m[1C[38;5;81m$ip_addresses[m
   [93mecho[1C"[8C"[m[38;5;81m$WORKERS[m[1C[93m>[m [38;5;81m$TIER_FILE[m[50;110H[1m[7m89 [32;89H[?12l[?25h[?25l[m[38;5;224m`[m[32;89H[K[50;111H[1m[7m8 [32;88H[?12l[?25h[?25l[m[38;5;224m`[m[32;88H[K[50;111H[1m[7m7 [32;87H[?12l[?25h[?25l[m[38;5;224m`[m[32;87H[K[50;111H[1m[7m6 [32;86H[?12l[?25h[?25l[m[38;5;224m`[m[32;86H[K[50;111H[1m[7m5 [32;85H[?12l[?25h[?25l[m[38;5;224m`[m[32;85H[K[50;111H[1m[7m4 [32;84H[?12l[?25h[?25l[m[38;5;224m`[m[32;84H[K[50;111H[1m[7m3 [32;83H[?12l[?25h[?25l[m[38;5;224m`[m[32;83H[K[50;111H[1m[7m2 [32;82H[?12l[?25h[?25l[m[38;5;224m`[m[32;82H[K[50;111H[1m[7m1 [32;81H[?12l[?25h[?25l[m[38;5;224m`[m[32;81H[K[50;111H[1m[7m0 [32;80H[?12l[?25h[?25l[m[38;5;224m`[m[32;80H[K[50;110H[1m[7m79 [32;79H[?12l[?25h[?25l[m[38;5;224m`[m[32;79H[K[50;111H[1m[7m8 [32;78H[?12l[?25h[?25l[m[38;5;224m8`[m[50;111H[1m[7m9 [32;79H[?12l[?25h[50;107H 62,7 [33;7H[50;107H63,79 [34;79H[50;108H4,61 [35;61H[50;107H 65,8 [36;8H[50;109H6,1 [37;1H[50;109H7,[38;1H[50;109H8,[39;1H[50;107H69,34 [40;34H[50;107H70,43 [41;43H[50;108H1,71 [42;71H[50;107H 72,6 [43;6H[50;107H73,79 [44;79H[50;108H4,[45;79H[50;107H 75,4 [46;4H[50;107H76,22 [47;22H[50;108H7,40 [48;40H[?25l[1;49r[m[49;1H
[1;51r[48;1H   ssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$lb_ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95m/root/lb-setup.sh [m[38;5;81m$LB_PORT[m[95m [m[38;5;81m$ip__[49;1Haddresses[m[93m"[m[50;108H[1m[7m8,79 37%[48;79H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[93melse[m[50;107H[1m[7m 79,5 38%[49;5H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;108H[1m[7m80,4 40%[49;4H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;4H[93mif [[m [93m"[m[38;5;224m`[m[93mecho[m[95m [m[38;5;81m$WORKERS[m[95m [m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | wc -w`[m[93m"[m [93m-eq[m [95m1[m [93m][m [96m#on ne fait pas le scale in si on a qu'un seul worker[m[50;107H[1m[7m81,79 41%[49;79H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;4H[93mthen[m[50;107H[1m[7m 82,8 42%[49;8H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;9H[93mexit[m [95m0[m[50;107H[1m[7m83,11 43%[49;15H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;4H[93mfi[m[50;107H[1m[7m 84,6 45%[49;6H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;4H[93mecho[m[95m [m[93m"[m[95mScaling in tier [m[93m"[m[38;5;81m$TIER[m[95m [m[93m"[m[95m with [m[93m"[m[38;5;81m$NUMBER_INSTANCES[m[95m [m[93m"[m[95minstances of flavor [m[93m"[m[95m [m[38;5;81m$FLAVOR_ID[m[50;107H[1m[7m85,79 46%[49;79H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;4H[1m[30m[103mlist[m=[38;5;81m([m [38;5;81m$WORKERS[m [38;5;81m)[m[50;108H[1m[7m6,24 47%[49;24H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;107H[1m[7m 87,3 48%[49;3H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;4H[93mif [[m [38;5;81m${#[m[30m[103mlist[m[38;5;81m[[m@[38;5;81m]}[m [93m-gt[m [38;5;81m$NUMBER_INSTANCES[m [93m][m[49;7H[93m[46m[[35C][m[50;107H[1m[7m88,44 50%[49;44H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;4H[93mthen[48;7H[[35C][m[50;108H[1m[7m9,10 51%[49;10H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[1m[96mWORKERS_TO_DELETE[m=[93m"[m[38;5;81m${[m[30m[103mlist[m[38;5;81m[[m@[38;5;81m][m[93m:[m[95m0[m[93m:[m[38;5;81m$NUMBER_INSTANCES}[m[93m"[m[50;107H[1m[7m90,44 52%[49;44H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[93mecho[m[95m [m[93m"[m[95m{debug} WORKERS_TO_DELETE=[m[38;5;81m$WORKERS_TO_DELETE[m[93m"[m[50;108H[1m[7m1,44 53%[49;44H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;9H[1m[96mWORKERS[m=[93m"[m[38;5;81m${[m[30m[103mlist[m[38;5;81m[[m@[38;5;81m][m[93m:[m[38;5;81m$NUMBER_INSTANCES}[m[93m"[m[50;108H[1m[7m2,37 55%[49;44H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[93mecho[m[95m [m[93m"[m[95m{debug} WORKERS=[m[38;5;81m$WORKERS[m[93m"[m[50;108H[1m[7m3,39 56%[49;39H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[1m[96mip_addresses[m=[50;108H[1m[7m4,21 57%[49;21H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[93mfor[m i [93min[m [38;5;81m$WORKERS[m[50;108H[1m[7m5,25 58%[49;25H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[93mdo[m[50;108H[1m[7m6,10 60%[49;10H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;10H[1m[96mip_adress[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$i[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[50;108H[1m[7m7,44 61%[49;44H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;10H[1m[96mip_addresses[m=[38;5;81m$ip_addresses[m[93m'[m[95m [m[93m'[m[38;5;81m$ip_adress[m[93m'[m[95m:[m[93m'[m[38;5;81m$WORKER_PORT[m[50;108H[1m[7m8,44 62%[49;44H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[93mdone[m[50;108H[1m[7m9,12 63%[49;12H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[93mecho[m[95m [m[93m"[m[95m{debug} ip_addresses=[m[38;5;81m$ip_addresses[m[93m"[m[50;106H[1m[7m100,44 65%[49;44H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[1m[96mlb_ip_address[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$lb_vm_name[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[50;108H[1m[7m1,44 66%[49;44H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[93mecho[m[95m [m[93m"[m[95m{debug} lb_ip_address=[m[38;5;81m$lb_ip_address[m[93m"[m[50;108H[1m[7m2,44 67%[49;44H[?12l[?25h[?25l[1;49r[m[1;1H[2M[1;51r[48;11Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$lb_ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95msudo /root/lb-setup.sh [m[38;5;81m$$[49;1HLB_PORT[m[95m [m[38;5;81m$ip_addresses[m[93m"[m[50;108H[1m[7m3,37 69%[48;44H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[93mecho[m[95m [m[93m"[m[95mworkers=[m[93m"[m[38;5;81m$WORKERS[m[95m [m[93m>[m [38;5;81m$TIER_FILE[m[50;108H[1m[7m4,44 70%[49;44H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;4H[93melse[m[50;106H[1m[7m 105,8 71%[49;8H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[96m#no worker left[m[50;106H[1m[7m106,23 72%[49;23H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[1m[96mWORKERS_TO_DELETE[m=[38;5;81m$WORKERS[m[50;108H[1m[7m7,34 74%[49;34H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;106H[1m[7m 108,7 75%[49;7H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;7H[96m# lb_vm_name=$TIER'_VM_LB'[m[50;106H[1m[7m109,33 76%[49;33H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[93mecho[m[95m [m[93m"[m[95mdeleting lb [m[38;5;81m$lb_vm_name[m[93m"[m[50;107H[1m[7m10,38 77%[49;38H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;106H[1m[7m 111,8 79%[49;8H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8Hnova delete [38;5;81m$lb_vm_name[m[50;106H[1m[7m112,31 80%[49;31H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[93mrm[m [38;5;81m$TIER_FILE[m[50;108H[1m[7m3,21 81%[49;21H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;4H[93mfi[m[50;106H[1m[7m 114,6 82%[49;6H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;109H[1m[7m5,1 83%[49;1H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;4H[96m#delete workers[m[50;106H[1m[7m116,19 85%[49;19H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;4H[93mfor[m i [93min[m [38;5;81m$WORKERS_TO_DELETE[m[50;108H[1m[7m7,31 86%[49;31H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;4H[93mdo[m[50;106H[1m[7m 118,6 87%[49;6H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8H[93mecho[m[95m [m[93m"[m[95mdeleting [m[38;5;81m$i[m[93m"[m[50;106H[1m[7m119,26 88%[49;26H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;8Hnova delete [38;5;81m$i[m[50;107H[1m[7m20,22 90%[49;22H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;9H[93mwhile ! [[m [93m-z[m [93m"[m[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[38;5;81m$i[m[38;5;224m`[m[93m"[m [93m][m[50;108H[1m[7m1,44 91%[49;44H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;1H[93m           do[m[50;106H[1m[7m 122,7 92%[49;14H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;17H[93mecho[m[95m -n [m[93m"[m[95m.[m[93m"[m[50;106H[1m[7m123,14 93%[49;28H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[49;12H[93mdone[m[50;106H[1m[7m 124,9 95%[49;16H[?12l[?25h[?25l[1;49r[m[1;1H[2M[1;51r[48;8H[93mecho[m[95m [m[93m"[m[38;5;81m$i[m[95m deleted[m[93m"
[m   [93mdone[m[50;106H[1m[7m125,25 97%[48;25H[?12l[?25h[50;106H 126,8 [49;8H[?25l[1;49r[m[49;1H
[1;51r[49;1H[93mfi[m[50;109H[1m[7m7,3 98%[49;3H[?12l[?25h[?25l[1;49r[m[49;1H
[1;51r[50;109H[1m[7m8,1 Bot[49;1H[?12l[?25h[50;109H7,3 [48;3H[50;109H6,8 [47;8H[50;106H125,25 [46;25H[50;106H 124,9 [45;16H[50;106H123,14 [44;28H[50;106H 122,7 [43;14H[50;106H121,44 [42;44H[50;108H0,22 [41;22H[50;107H19,26 [40;26H[50;106H 118,6[39;6H[50;106H117,31 [38;31H[50;108H6,19 [37;19H[50;106H 115,1 [36;1H[50;109H4,6 [35;6H[50;106H113,21 [34;21H[50;108H2,31[33;31H[50;106H 111,8 [32;8H[50;106H110,38[31;38H[50;107H09,33 [30;33H[50;106H 108,7 [29;7H[50;106H107,34 [28;34H[50;108H6,23 [27;23H[50;106H 105,8 [26;8H[50;106H104,44 [25;44H[50;108H3,37 [23;44H[50;108H2,44 [22;44H[50;108H1,[21;44H[50;108H0,[20;44H[50;106H 99,12 [19;12H[50;108H8,44 [18;44H[50;108H7,[17;44H[m[51;1H[K[17;43H[?25l[51;105H^[[17;43H[?12l[?25h[?25l[51;105H  [17;44H[50;111H[1m[7m3 [17;43H[?12l[?25h[?25l[m[51;105H^[[17;43H[?12l[?25h[?25l[51;105H  [17;43H[?12l[?25h[?25l[51;105Hy[17;43H[?12l[?25h[?25l[51;106Hy[17;43H[51;105H  [17;43H[?12l[?25h[?25l[51;105H~@@[17;43H[51;105H   [17;99H[50;110H[1m[7m99 [17;99H[?12l[?25h[?25l[m[51;105Hi[17;99H[51;105H [17;99H[51;1H[1m-- INSERT --[17;99H[?12l[?25h[m[50;106H[1m[7m97,100 [17;100H[?25l[18;49r[m[18;1H[L[1;51r[50;106H[1m[7m  98,1 98%[18;1H[?12l[?25h[m[51;1H[K[18;1H[?25l[51;105H^[[18;1H[?12l[?25h[?25l[51;105H  [18;1H[50;111H[1m[7m0 [18;1H[?12l[?25h[?25l[m[51;105Hp[18;1H[51;105H [19;10H[19;49r[19;1H[L[1;51r[19;10H[1m[96mip_adress[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$i[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[50;107H[1m[7m99,10 97%[19;10H[?12l[?25h[?25l[m[51;105Hi[19;10H[51;105H [19;10H[51;1H[1m-- INSERT --[19;10H[?12l[?25h[m[50;107H[1m[7m 98,1 [18;1H[50;107H97,10 [17;10H[50;107H 97,9 [17;9H[?25l[mi [1m[96mip_adress[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$i[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[50;107H[1m[7m97,10 [17;10H[?12l[?25h[?25l[m [1m[96mip_adress[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$i[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[17;100H[K[50;107H[1m[7m 97,9 [17;9H[?12l[?25h[?25l[m[96m# ip_adress=`nova [m[30m[103mlist[m[96m | grep "$i" | tr '|' ' '| tr -s ' '| cut -d ' ' -f5 | cut -d '=' -f2`[m[50;107H[1m[7m97,10 [17;10H[?12l[?25h[50;107H 98,1 [18;1H[50;107H99,10 [19;10H[50;106H99,100[19;100H[50;106H 99,99 [19;99H[?25l[m[38;5;224mi`[m[50;106H[1m[7m99,100 [19;100H[?12l[?25h[?25l[m[38;5;224m`[m[19;100H[K[50;106H[1m[7m 99,99 [19;99H[?12l[?25h[?25l[m[38;5;224m`[m[19;99H[K[50;111H[1m[7m8 [19;98H[?12l[?25h[?25l[m[38;5;224m`[m[19;98H[K[50;111H[1m[7m7 [19;97H[?12l[?25h[?25l[m[38;5;224m`[m[19;97H[K[50;111H[1m[7m6 [19;96H[?12l[?25h[?25l[m[38;5;224m`[m[19;96H[K[50;111H[1m[7m5 [19;95H[?12l[?25h[?25l[m[95m`[m[19;95H[K[20;1H[95m         ip_addresses=$ip_addresses[m[1C[38;5;224m [m[1C[95m$ip_adress[m[1C[38;5;224m:[m[1C[95m$WORKER_PORT
       done
       echo "[21C$ip_addresses"
       lb_ip_address=`nova [4C | grep "$lb_vm_name" | tr [m[1C[38;5;224m|[m[1C[95m [m[1C[38;5;224m [m[1C[95m| tr -s [m[1C[38;5;224m [m[1C[95m| cut -d [m[1C[38;5;224m [m[1C[95m -f5 | cut -d [m[1C[38;5;224m=[m[1C[95m -f2`
       echo "[22C$lb_ip_address"
          ssh -o "[24C" ubuntu@$lb_ip_address -i $PATH_KEYPAIR/id_rsa "[23C$$[26;1HLB_PORT $ip_addresses"
       echo "[8C"$WORKERS > $TIER_FILE
   else
       #no worker left
       WORKERS_TO_DELETE=$WORKERS
      
      # lb_vm_name=$TIER[m[93m'[m[38;5;224m_VM_LB[m[93m'[m
[95m       echo "[12C$lb_vm_name"
       
       nova delete $lb_vm_name
       rm $TIER_FILE
   fi

   #delete workers
   for i in $WORKERS_TO_DELETE
   do
       echo "[9C$i"
       nova delete $i
        while ! [ -z "`nova [4C | grep $i`" ]
           do
                echo -n "."
           done
       echo "$i[8C"
   done[m[50;111H[1m[7m4 [19;94H[?12l[?25h[?25l[m[95m`[m[19;94H[K[50;111H[1m[7m3 [19;93H[?12l[?25h[?25l[m[38;5;224m`[m[19;93H[K[20;1H         [1m[96mip_addresses[m=[38;5;81m$ip_addresses[m[1C[95m [m[1C[38;5;81m$ip_adress[m[1C[95m:[m[1C[38;5;81m$WORKER_PORT[m
       [93mdone[m
       [93mecho[1C"[m[21C[38;5;81m$ip_addresses[m[93m"[m
       [1m[96mlb_ip_address[m=[38;5;224m`nova [4C | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$lb_vm_name[m[93m"[m[38;5;224m | tr [m[1C[95m|[m[1C[38;5;224m [m[1C[95m [m[1C[38;5;224m| tr -s [m[1C[95m [m[1C[38;5;224m| cut -d [m[1C[95m [m[1C[38;5;224m -f5 | cut -d [m[1C[95m=[m[1C[38;5;224m -f2`[m
       [93mecho[1C"[m[22C[38;5;81m$lb_ip_address[m[93m"[m
          ssh [93m-o[m [93m"[24C"[m ubuntu@[38;5;81m$lb_ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[23C[38;5;81m$$[26;1HLB_PORT[1C$ip_addresses[m[93m"[m
       [93mecho[1C"[8C"[m[38;5;81m$WORKERS[m[1C[93m>[m [38;5;81m$TIER_FILE[m
   [93melse[m
       [96m#no worker left[m
       [1m[96mWORKERS_TO_DELETE[m=[38;5;81m$WORKERS[m
      
      [96m# lb_vm_name=$TIER'_VM_LB'[m
       [93mecho[1C"[m[12C[38;5;81m$lb_vm_name[m[93m"[m
       
       nova delete [38;5;81m$lb_vm_name[m
       [93mrm[m [38;5;81m$TIER_FILE[m
   [93mfi[m

   [96m#delete workers[m
   [93mfor[m i [93min[m [38;5;81m$WORKERS_TO_DELETE[m
   [93mdo[m
       [93mecho[1C"[m[9C[38;5;81m$i[m[93m"[m
       nova delete [38;5;81m$i[m
        [93mwhile ! [[m [93m-z[m [93m"[m[38;5;224m`nova [4C | [m[93mgrep[m[38;5;224m [m[38;5;81m$i[m[38;5;224m`[m[93m"[m [93m]
           do[m
                [93mecho[4C"[1C"[m
           [93mdone[m
       [93mecho[1C"[m[38;5;81m$i[m[8C[93m"[m
   [93mdone[m[50;111H[1m[7m2 [19;92H[?12l[?25h[?25l[m[38;5;224m`[m[19;92H[K[50;111H[1m[7m1 [19;91H[?12l[?25h[?25l[m[38;5;224m`[m[19;91H[K[50;111H[1m[7m0 [19;90H[?12l[?25h[?25l[m[38;5;224m`[m[19;90H[K[50;110H[1m[7m89 [19;89H[?12l[?25h[?25l[m[38;5;224m`[m[19;89H[K[50;111H[1m[7m8 [19;88H[?12l[?25h[?25l[m[38;5;224m`[m[19;88H[K[50;111H[1m[7m7 [19;87H[?12l[?25h[?25l[m[38;5;224m`[m[19;87H[K[50;111H[1m[7m6 [19;86H[?12l[?25h[?25l[m[38;5;224m`[m[19;86H[K[50;111H[1m[7m5 [19;85H[?12l[?25h[?25l[m[38;5;224m`[m[19;85H[K[50;111H[1m[7m4 [19;84H[?12l[?25h[?25l[m[38;5;224m`[m[19;84H[K[50;111H[1m[7m3 [19;83H[?12l[?25h[?25l[m[38;5;224m`[m[19;83H[K[50;111H[1m[7m2 [19;82H[?12l[?25h[?25l[m[38;5;224m`[m[19;82H[K[50;111H[1m[7m1 [19;81H[?12l[?25h[?25l[m[38;5;224m8`[m[50;111H[1m[7m2 [19;82H[?12l[?25h[50;106H100,64 [20;64H[50;108H1,12 [21;12H[50;108H2,49 [22;49H[50;108H3,82 [23;82H[m[51;1H[K[23;81H[?25l[51;105H^[[23;81H[?12l[?25h[?25l[51;105H  [23;82H[50;111H[1m[7m1 [23;81H[?12l[?25h[?25l[m[51;105Hy[23;81H[?12l[?25h[?25l[51;106Hy[23;81H[51;105H  [23;81H[?12l[?25h[?25l[51;105H~@@[23;81H[51;105H   [23;110H[50;105H[1m[7m103,110 [23;110H[?12l[?25h[?25l[m[51;105Hi[23;110H[51;105H [23;110H[51;1H[1m-- INSERT --[23;110H[?12l[?25h[m[50;111H[1m[7m1 [23;111H[?25l[24;49r[m[24;1H[L[1;51r[50;105H[1m[7m  104,1 96%[24;1H[?12l[?25h[m[51;1H[K[24;1H[?25l[51;105H^[[24;1H[?12l[?25h[?25l[51;105H  [24;1H[50;111H[1m[7m0 [24;1H[?12l[?25h[?25l[m[51;105Hp[24;1H[51;105H [25;8H[25;49r[25;1H[L[1;51r[25;8H[1m[96mlb_ip_address[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$lb_vm_name[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f5 | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2`[m[50;109H[1m[7m5,8 95%[25;8H[?12l[?25h[?25l[m[51;105Hi[25;8H[51;105H [25;8H[51;1H[1m-- INSERT --[25;8H[?12l[?25h[m[50;109H[1m[7m4,1 [24;1H[50;109H3,8 [23;8H[?25l[m[96m#lb_ip_address=`nova [m[30m[103mlist[m[96m | grep "$lb_vm_name" | tr '|' ' '| tr -s ' '| cut -d ' ' -f5 | cut -d '=' -f2`[m[50;111H[1m[7m9 [23;9H[?12l[?25h[50;109H4,1 [24;1H[50;109H5,9 [25;9H[50;105H105,111 [25;111H[50;111H0 [25;110H[?25l[m[38;5;224mi`[m[50;111H[1m[7m1 [25;111H[?12l[?25h[?25l[m[38;5;224m`[m[25;111H[K[50;111H[1m[7m0 [25;110H[?12l[?25h[?25l[m[38;5;224m`[m[25;110H[K[50;110H[1m[7m09 [25;109H[?12l[?25h[?25l[m[38;5;224m`[m[25;109H[K[50;111H[1m[7m8 [25;108H[?12l[?25h[?25l[m[38;5;224m`[m[25;108H[K[50;111H[1m[7m7 [25;107H[?12l[?25h[?25l[m[38;5;224m`[m[25;107H[K[50;111H[1m[7m6 [25;106H[?12l[?25h[?25l[m[95m`[m[25;106H[K[26;1H[95m       echo "[22C$lb_ip_address"
          ssh -o "[24C" ubuntu@$lb_ip_address -i $PATH_KEYPAIR/id_rsa "[23C$$[28;1HLB_PORT $ip_addresses"
       echo "[8C"$WORKERS > $TIER_FILE
   else
       #no worker left
       WORKERS_TO_DELETE=$WORKERS
      
      # lb_vm_name=$TIER[m[93m'[m[38;5;224m_VM_LB[m[93m'[m
[95m       echo "[12C$lb_vm_name"
       
       nova delete $lb_vm_name
       rm $TIER_FILE
   fi

   #delete workers
   for i in $WORKERS_TO_DELETE
   do
       echo "[9C$i"
       nova delete $i
        while ! [ -z "`nova [4C | grep $i`" ]
           do
                echo -n "."
           done[m[50;111H[1m[7m5 [25;105H[?12l[?25h[?25l[m[95m`[m[25;105H[K[50;111H[1m[7m4 [25;104H[?12l[?25h[?25l[m[38;5;224m`[m[25;104H[K[26;1H       [93mecho[1C"[m[22C[38;5;81m$lb_ip_address[m[93m"[m
          ssh [93m-o[m [93m"[24C"[m ubuntu@[38;5;81m$lb_ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[23C[38;5;81m$$[28;1HLB_PORT[1C$ip_addresses[m[93m"[m
       [93mecho[1C"[8C"[m[38;5;81m$WORKERS[m[1C[93m>[m [38;5;81m$TIER_FILE[m
   [93melse[m
       [96m#no worker left[m
       [1m[96mWORKERS_TO_DELETE[m=[38;5;81m$WORKERS[m
      
      [96m# lb_vm_name=$TIER'_VM_LB'[m
       [93mecho[1C"[m[12C[38;5;81m$lb_vm_name[m[93m"[m
       
       nova delete [38;5;81m$lb_vm_name[m
       [93mrm[m [38;5;81m$TIER_FILE[m
   [93mfi[m

   [96m#delete workers[m
   [93mfor[m i [93min[m [38;5;81m$WORKERS_TO_DELETE[m
   [93mdo[m
       [93mecho[1C"[m[9C[38;5;81m$i[m[93m"[m
       nova delete [38;5;81m$i[m
        [93mwhile ! [[m [93m-z[m [93m"[m[38;5;224m`nova [4C | [m[93mgrep[m[38;5;224m [m[38;5;81m$i[m[38;5;224m`[m[93m"[m [93m]
           do[m
                [93mecho[4C"[1C"[m
           [93mdone[m[50;111H[1m[7m3 [25;103H[?12l[?25h[?25l[m[38;5;224m`[m[25;103H[K[50;111H[1m[7m2 [25;102H[?12l[?25h[?25l[m[38;5;224m`[m[25;102H[K[50;111H[1m[7m1 [25;101H[?12l[?25h[?25l[m[38;5;224m`[m[25;101H[K[50;111H[1m[7m0 [25;100H[?12l[?25h[?25l[m[38;5;224m`[m[25;100H[K[50;105H[1m[7m 105,99 [25;99H[?12l[?25h[?25l[m[38;5;224m`[m[25;99H[K[50;111H[1m[7m8 [25;98H[?12l[?25h[?25l[m[38;5;224m`[m[25;98H[K[50;111H[1m[7m7 [25;97H[?12l[?25h[?25l[m[38;5;224m`[m[25;97H[K[50;111H[1m[7m6 [25;96H[?12l[?25h[?25l[m[38;5;224m`[m[25;96H[K[50;111H[1m[7m5 [25;95H[?12l[?25h[?25l[m[38;5;224m`[m[25;95H[K[50;111H[1m[7m4 [25;94H[?12l[?25h[?25l[m[38;5;224m`[m[25;94H[K[50;111H[1m[7m3 [25;93H[?12l[?25h[?25l[m[38;5;224m`[m[25;93H[K[50;111H[1m[7m2 [25;92H[?12l[?25h[?25l[m[38;5;224m8`[m[50;111H[1m[7m3 [25;93H[?12l[?25h[m[51;1H[K[25;92H[?25l[51;105H^[[25;92H[?12l[?25h[?25l[51;105H  [25;93H[50;111H[1m[7m2 [25;92H[?12l[?25h[?25l[m[51;105H:[25;92H[51;105H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"scale-iaas.sh" 132L, 3795C written[25;92H[50;14H[1m[7m    [25;92H[?12l[?25h[?25l[m[51;105H:[25;92H[51;1H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"scale-iaas.sh" 132L, 3795C written[25;92H[?12l[?25h[?25l[51;105H~@k[25;92H[51;105H   [26;50H[50;108H[1m[7m6,50 [26;50H[?12l[?25h[?25l[m[51;105H~@k[26;50H[51;105H   [27;92H[50;108H[1m[7m7,85 [27;92H[?12l[?25h[?25l[m[51;105H~@k[27;92H[51;105H   [29;43H[50;108H[1m[7m8,43 [29;43H[?12l[?25h[?25l[m[51;105H~@k[29;43H[51;105H   [30;7H[50;106H[1m[7m 109,7 [30;7H[?12l[?25h[?25l[m[51;105H~@k[30;7H[51;105H   [31;22H[50;106H[1m[7m110,22 [31;22H[?12l[?25h[?25l[m[51;105H~@k[31;22H[51;105H   [32;33H[50;108H[1m[7m1,33 [32;33H[?12l[?25h[?25l[m[51;105H~@k[32;33H[51;105H   [33;6H[50;106H[1m[7m 112,6 [33;6H[?12l[?25h[?25l[m[51;105H~@k[33;6H[51;105H   [34;32H[50;106H[1m[7m113,32 [34;32H[?12l[?25h[?25l[m[51;105H~@k[34;32H[51;105H   [35;37H[50;108H[1m[7m4,37 [35;37H[?12l[?25h[?25l[m[51;105H~@k[35;37H[51;105H   [36;7H[50;106H[1m[7m 115,7[36;7H[?12l[?25h[?25l[m[51;105H~@k[36;7H[51;105H   [37;30H[50;106H[1m[7m116,30 [37;30H[?12l[?25h[?25l[m[51;105H~@k[37;30H[51;105H   [38;20H[50;108H[1m[7m7,20[38;20H[?12l[?25h[?25l[m[51;105H~@k[38;20H[51;105H   [39;5H[50;106H[1m[7m 118,5 [39;5H[?12l[?25h[?25l[m[51;105H~@k[39;5H[51;105H   [40;1H[50;109H[1m[7m9,0 [40;1H[?12l[?25h[?25l[m[51;105H~@k[40;1H[51;105H   [41;18H[50;106H[1m[7m120,18 [41;18H[?12l[?25h[?25l[m[51;105H~@k[41;18H[51;105H   [42;30H[50;108H[1m[7m1,30 [42;30H[?12l[?25h[?25l[m[51;105H~@k[42;30H[51;105H   [43;5H[50;106H[1m[7m 122,5 [43;5H[?12l[?25h[?25l[m[51;105H~@k[43;5H[51;105H   [44;25H[50;106H[1m[7m123,25[44;25H[?12l[?25h[?25l[m[51;105H~@k[44;25H[51;105H   [45;21H[50;108H[1m[7m4,21 [45;21H[?12l[?25h[?25l[m[51;105H~@k[45;21H[51;105H   [46;46H[46;17H[93m[46m[[28C][m[50;108H[1m[7m5,46 [46;46H[?12l[?25h[?25l[m[51;105H~@k[46;46H[51;105H   [47;13H[46;17H[93m[[28C][m[50;106H[1m[7m 126,6[47;13H[?12l[?25h[?25l[m[51;105H~@k[47;13H[51;105H   [48;27H[50;106H[1m[7m127,13 [48;27H[?12l[?25h[?25l[m[51;105H~@k[48;27H[51;105H   [49;15H[50;106H[1m[7m 128,8 [49;15H[?12l[?25h[?25l[m[51;105H~@k[49;15H[51;105H   [49;24H[1;49r[49;1H
[1;51r[49;8H[93mecho[m[95m [m[93m"[m[38;5;81m$i[m[95m deleted[m[93m"[m[51;1H[K[50;106H[1m[7m129,24 96%[49;24H[?12l[?25h[?25l[m[51;105H~@k[49;24H[51;105H   [49;7H[1;49r[49;1H
[1;51r[49;4H[93mdone[m[50;106H[1m[7m 130,7 97%[49;7H[?12l[?25h[?25l[m[51;105H~@k[49;7H[51;105H   [49;2H[1;49r[49;1H
[1;51r[49;1H[93mfi[m[50;109H[1m[7m1,2 98%[49;2H[?12l[?25h[?25l[m[51;105H~@k[49;2H[51;105H   [49;1H[1;49r[49;1H
[1;51r[50;109H[1m[7m2,0 Bot[49;1H[?12l[?25h[?25l[m[51;105H~@k[49;1H[51;105H   [49;1H[?12l[?25h[?25l[51;105H~@k[49;1H[51;105H   [49;1H[?12l[?25h[?25l[51;105H~@k[49;1H[51;105H   [49;1H[?12l[?25h[?25l[51;105H~@k[49;1H[51;105H   [49;1H[?12l[?25h[?25l[51;105H~@k[49;1H[51;105H   [49;1H[?12l[?25h[?25l[51;105H~@k[49;1H[51;105H   [49;1H[?12l[?25h[?25l[51;105H~@k[49;1H[51;105H   [49;1H[?12l[?25h[?25l[51;105H~@k[49;1H[51;105H   [49;1H[?12l[?25h[?25l[51;105H~@k[49;1H[51;105H   [48;2H[50;109H[1m[7m1,2 [48;2H[?12l[?25h[?25l[m[51;105H~@k[48;2H[51;105H   [47;7H[50;109H[1m[7m0,7 [47;7H[?12l[?25h[?25l[m[51;105H~@k[47;7H[51;105H   [46;24H[50;106H[1m[7m129,24 [46;24H[?12l[?25h[?25l[m[51;105H~@k[46;24H[51;105H   [45;15H[50;106H[1m[7m 128,8 [45;15H[?12l[?25h[?25l[m[51;105H~@k[45;15H[51;105H   [44;27H[50;106H[1m[7m127,13 [44;27H[?12l[?25h[?25l[m[51;105H~@k[44;27H[51;105H   [43;13H[50;106H[1m[7m 126,6 [43;13H[?12l[?25h[?25l[m[51;105H~@k[43;13H[51;105H   [42;46H[42;17H[93m[46m[[28C][m[50;106H[1m[7m125,46[42;46H[?12l[?25h[?25l[m[51;105H~@k[42;46H[51;105H   [41;21H[42;17H[93m[[28C][m[50;108H[1m[7m4,21 [41;21H[?12l[?25h[?25l[m[51;105H~@k[41;21H[51;105H   [40;25H[50;108H[1m[7m3,25 [40;25H[?12l[?25h[?25l[m[51;105H~@k[40;25H[51;105H   [39;5H[50;106H[1m[7m 122,5[39;5H[?12l[?25h[?25l[m[51;105H~@k[39;5H[51;105H   [38;30H[50;106H[1m[7m121,30 [38;30H[?12l[?25h[?25l[m[51;105H~@k[38;30H[51;105H   [37;18H[50;108H[1m[7m0,18 [37;18H[?12l[?25h[?25l[m[51;105H~@k[37;18H[51;105H   [36;1H[50;106H[1m[7m 119,0 [36;1H[?12l[?25h[?25l[m[51;105H~@k[36;1H[51;105H   [35;5H[50;109H[1m[7m8,5 [35;5H[?12l[?25h[?25l[m[51;105H~@k[35;5H[51;105H   [34;20H[50;106H[1m[7m117,20 [34;20H[?12l[?25h[?25l[m[51;105H~@k[34;20H[51;105H   [33;30H[50;108H[1m[7m6,30[33;30H[?12l[?25h[?25l[m[51;105H~@k[33;30H[51;105H   [32;7H[50;106H[1m[7m 115,7 [32;7H[?12l[?25h[?25l[m[51;105H~@k[32;7H[51;105H   [31;37H[50;106H[1m[7m114,37[31;37H[?12l[?25h[?25l[m[51;105H~@k[31;37H[51;105H   [30;32H[50;108H[1m[7m3,32 [30;32H[?12l[?25h[?25l[m[51;105H~@k[30;32H[51;105H   [29;6H[50;106H[1m[7m 112,6 [29;6H[?12l[?25h[?25l[m[51;105H~@k[29;6H[51;105H   [28;33H[50;106H[1m[7m111,33 [28;33H[?12l[?25h[?25l[m[51;105H~@k[28;33H[51;105H   [27;22H[50;108H[1m[7m0,22 [27;22H[?12l[?25h[?25l[m[51;105H~@k[27;22H[51;105H   [26;7H[50;106H[1m[7m 109,7 [26;7H[?12l[?25h[?25l[m[51;105H~@k[26;7H[51;105H   [25;43H[50;106H[1m[7m108,43 [25;43H[?12l[?25h[?25l[m[51;105H~@k[25;43H[51;105H   [23;92H[50;108H[1m[7m7,85 [23;92H[?12l[?25h[?25l[m[51;105H~@k[23;92H[51;105H   [22;50H[50;108H[1m[7m6,50 [22;50H[?12l[?25h[?25l[m[51;105H~@k[22;50H[51;105H   [21;92H[50;108H[1m[7m5,92 [21;92H[?12l[?25h[?25l[m[51;105H~@k[21;92H[51;105H   [20;1H[50;106H[1m[7m 104,0 [20;1H[?12l[?25h[?25l[m[51;105H~@k[20;1H[51;105H   [19;92H[50;106H[1m[7m103,92 [19;92H[?12l[?25h[?25l[m[51;105H~@k[19;92H[51;105H   [18;48H[50;108H[1m[7m2,48 [18;48H[?12l[?25h[?25l[m[51;105H~@k[18;48H[51;105H   [17;11H[50;108H[1m[7m1,11 [17;11H[?12l[?25h[?25l[m[51;105H~@k[17;11H[51;105H   [16;63H[50;108H[1m[7m0,63 [16;63H[?12l[?25h[?25l[m[51;105H~@k[16;63H[51;105H   [15;82H[50;106H[1m[7m 99,82 [15;82H[?12l[?25h[?25l[m[51;105H~@k[15;82H[51;105H   [14;1H[50;107H[1m[7m 98,0 [14;1H[?12l[?25h[?25l[m[51;105H~@k[14;1H[51;105H   [13;92H[50;107H[1m[7m97,92 [13;92H[?12l[?25h[?25l[m[51;105H~@k[13;92H[51;105H   [12;9H[50;107H[1m[7m 96,9 [12;9H[?12l[?25h[?25l[m[51;105H~@k[12;9H[51;105H   [11;24H[50;107H[1m[7m95,24 [11;24H[?12l[?25h[?25l[m[51;105H~@k[11;24H[51;105H   [10;20H[50;108H[1m[7m4,20 [10;20H[?12l[?25h[?25l[m[51;105H~@k[10;20H[51;105H   [9;38H[50;108H[1m[7m3,38 [9;38H[?12l[?25h[?25l[m[51;105H~@k[9;38H[51;105H   [8;46H[50;108H[1m[7m2,39 [8;46H[?12l[?25h[?25l[m[51;105H~@k[8;46H[51;105H   [7;58H[50;108H[1m[7m1,58 [7;58H[?12l[?25h[?25l[m[51;105H~@k[7;58H[51;105H   [6;57H[50;108H[1m[7m0,57 [6;57H[?12l[?25h[?25l[m[51;105H~@k[6;57H[51;105H   [5;9H[50;107H[1m[7m 89,9 [5;9H[?12l[?25h[?25l[m[51;105H~@k[5;9H[51;105H   [4;43H[4;7H[93m[46m[[35C][m[50;107H[1m[7m88,43 [4;43H[?12l[?25h[?25l[m[51;105H~@k[4;43H[51;105H   [3;2H[4;7H[93m[[35C][m[50;107H[1m[7m 87,2 [3;2H[?12l[?25h[?25l[m[51;105H~@k[3;2H[51;105H   [2;23H[50;107H[1m[7m86,23 [2;23H[?12l[?25h[?25l[m[51;105H~@k[2;23H[51;105H   [1;91H[50;108H[1m[7m5,91 [1;91H[?12l[?25h[?25l[m[51;105H~@k[1;91H[51;105H   [1;5H[1;49r[1;1H[L[1;51r[1;4H[93mfi[m[50;107H[1m[7m 84,5 98%[1;5H[?12l[?25h[?25l[m[51;105H~@k[1;5H[51;105H   [1;14H[1;49r[1;1H[L[1;51r[1;9H[93mexit[m [95m0[m[50;107H[1m[7m83,10 97%[1;14H[?12l[?25h[?25l[m[51;105H~@k[1;14H[51;105H   [1;7H[1;49r[1;1H[L[1;51r[1;4H[93mthen[m[50;107H[1m[7m 82,7 96%[1;7H[?12l[?25h[?25l[m[51;105H~@k[1;7H[51;105H   [1;92H[1;49r[1;1H[L[1;51r[1;4H[93mif [[m [93m"[m[38;5;224m`[m[93mecho[m[95m [m[38;5;81m$WORKERS[m[95m [m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | wc -w`[m[93m"[m [93m-eq[m [95m1[m [93m][m [96m#on ne fait pas le scale in si on a qu'un seul worker[m[50;107H[1m[7m81,92 95%[1;92H[?12l[?25h[?25l[m[51;105H~@k[1;92H[51;105H   [1;3H[1;49r[1;1H[L[1;51r[50;107H[1m[7m 80,3 94%[1;3H[?12l[?25h[?25l[m[51;105H~@k[1;3H[51;105H   [1;4H[1;49r[1;1H[L[1;51r[1;1H[93melse[m[50;108H[1m[7m79,4 92%[1;4H[?12l[?25h[?25l[m[51;105H~@k[1;4H[51;105H   [1;92H[1;49r[1;1H[2L[1;51r[1;4Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$lb_ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95m/root/lb-setup.sh [m[38;5;81m$LB_PORT[m[95m [m[38;5;81m$ip__[2;1Haddresses[m[93m"[m[50;107H[1m[7m78,92 90%[1;92H[?12l[?25h[?25l[m[51;105H~@k[1;92H[51;105H   [1;39H[1;49r[1;1H[L[1;51r[1;4H[93mecho[m[95m [m[93m"[m[95mworkers=[m[93m"[m[38;5;81m$WORKERS[m[95m [m[93m>[m [38;5;81m$TIER_FILE[m[50;108H[1m[7m7,39 89%[1;39H[?12l[?25h[?25l[m[51;105H~@k[1;39H[51;105H   [1;21H[1;49r[1;1H[L[1;51r[1;4H[93mecho[m[95m [m[38;5;81m$ip_addresses[m[50;108H[1m[7m6,21 88%[1;21H[?12l[?25h[?25l[m[51;105H~@k[1;21H[51;105H   [1;3H[1;49r[1;1H[L[1;51r[50;107H[1m[7m 75,3 87%[1;3H[?12l[?25h[?25l[m[51;105H~@k[1;3H[51;105H   [1;89H[1;49r[1;1H[L[1;51r[1;4H[1m[96mlb_ip_address[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$lb_vm_name[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f8`[m[50;107H[1m[7m74,89 85%[1;89H[?12l[?25h[?25l[m[51;105H~@k[1;89H[51;105H   [1;92H[1;49r[1;1H[L[1;51r[1;4H[96m#lb_ip_address=`nova [m[30m[103mlist[m[96m | grep "$lb_vm_name" | tr '|' ' '| tr -s ' '| cut -d ' ' -f5 | cut -d '=' -f2`[m[50;108H[1m[7m3,92 84%[1;92H[?12l[?25h[?25l[m[51;105H~@k[1;92H[51;105H   [1;5H[1;49r[1;1H[L[1;51r[1;4H[93mfi[m[50;107H[1m[7m 72,5 83%[1;5H[?12l[?25h[?25l[m[51;105H~@k[1;5H[51;105H   [1;70H[1;49r[1;1H[L[1;51r[1;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [38;5;81m$FLAVOR_ID[m [38;5;81m$lb_vm_name[m LB [38;5;81m$TIER[m[50;107H[1m[7m71,70 82%[1;70H[?12l[?25h[?25l[m[51;105H~@k[1;70H[51;105H   [1;42H[1;49r[1;1H[L[1;51r[1;7H[93mecho[m[95m [m[93m"[m[95mTier not found, creating a LB[m[93m"[m[50;108H[1m[7m0,42 81%[1;42H[?12l[?25h[?25l[m[51;105H~@k[1;42H[51;105H   [1;33H[1;49r[1;1H[L[1;51r[1;4H[93mif ![m [93m[[m [93m-f[m [93m"[m[38;5;81m$TIER_FILE[m[93m"[m [93m][m; [93mthen[m[50;107H[1m[7m69,33 80%[1;33H[?12l[?25h[?25l[m[51;105H~@k[1;33H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[50;107H[1m[7m 68,0 78%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[50;109H[1m[7m7,0 77%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[50;109H[1m[7m6,0 76%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [1;7H[1;49r[1;1H[L[1;51r[1;4H[93mdone[m[50;109H[1m[7m5,7 75%[1;7H[?12l[?25h[?25l[m[51;105H~@k[1;7H[51;105H   [1;60H[1;49r[1;1H[L[1;51r[1;7H[1m[96mip_addresses[m=[38;5;81m$ip_addresses[m[93m'[m[95m [m[93m'[m[38;5;81m$ip_adress[m[93m'[m[95m:[m[93m'[m[38;5;81m$WORKER_PORT[m[50;107H[1m[7m64,60 74%[1;60H[?12l[?25h[?25l[m[51;105H~@k[1;60H[51;105H   [1;92H[1;49r[1;1H[L[1;51r[1;7Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_adress[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95msudo /root/w-setup.sh [m[38;5;81m$DB_HOST[m[93m"[m[50;108H[1m[7m3,92 72%[1;92H[?12l[?25h[?25l[m[51;105H~@k[1;92H[51;105H   [1;6H[1;49r[1;1H[L[1;51r[50;107H[1m[7m 62,6 71%[1;6H[?12l[?25h[?25l[m[51;105H~@k[1;6H[51;105H   [1;79H[1;49r[1;1H[L[1;51r[1;7H[1m[96mip_adress[m=[38;5;224m`nova [m[30m[103mlist[m[38;5;224m | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$i[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f8`[m[50;107H[1m[7m61,79 70%[1;79H[?12l[?25h[?25l[m[51;105H~@k[1;79H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[49;1H[94m@                                                                                                                  [m[50;107H[1m[7m 60,0 69%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [1;92H[1;49r[1;1H[L[1;51r[1;7H[96m#ip_adress=`nova [m[30m[103mlist[m[96m | grep "$i" | tr '|' ' '| tr -s ' '| cut -d ' ' -f5 | cut -d '=' -f2`[m[50;107H[1m[7m59,92 [1;92H[?12l[?25h[?25l[m[51;105H~@k[1;92H[51;105H   [1;5H[1;49r[1;1H[L[1;51r[1;4H[93mdo[m[50;107H[1m[7m 58,5 67%[1;5H[?12l[?25h[?25l[m[51;105H~@k[1;5H[51;105H   [1;20H[1;49r[1;1H[L[1;51r[1;4H[93mfor[m i [93min[m [38;5;81m$WORKERS[m[50;107H[1m[7m57,20 66%[1;20H[?12l[?25h[?25l[m[51;105H~@k[1;20H[51;105H   [1;16H[1;49r[1;1H[L[1;51r[1;4H[1m[96mip_addresses[m=[50;108H[1m[7m6,16 65%[1;16H[?12l[?25h[?25l[m[51;105H~@k[1;16H[51;105H   [1;7H[1;49r[1;1H[L[1;51r[1;4H[93mdone[m[50;107H[1m[7m 55,7 64%[1;7H[?12l[?25h[?25l[m[51;105H~@k[1;7H[51;105H   [1;33H[1;49r[1;1H[L[1;51r[1;7H[1m[96mWORKERS[m=[38;5;81m$WORKERS[m[93m'[m[95m [m[93m'[m[38;5;81m$vm_name[m[50;107H[1m[7m54,33 63%[1;33H[?12l[?25h[?25l[m[51;105H~@k[1;33H[51;105H   [1;66H[1;49r[1;1H[L[1;51r[1;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [38;5;81m$FLAVOR_ID[m [38;5;81m$vm_name[m w [38;5;81m$TIER[m[50;108H[1m[7m3,66 61%[1;66H[?12l[?25h[?25l[m[51;105H~@k[1;66H[51;105H   [1;50H[1;49r[1;1H[L[1;51r[1;7H[93mecho[m[95m [m[93m"[m[95mCreating [m[38;5;81m$vm_name[m[95m / flavor [m[93m"[m[38;5;81m$FLAVOR_ID[m[50;108H[1m[7m2,50 60%[1;50H[?12l[?25h[?25l[m[51;105H~@k[1;50H[51;105H   [1;37H[1;49r[1;1H[L[1;51r[1;7H[1m[96mvm_name[m=[38;5;81m$TIER[m[93m'[m[95m_VM[m[93m'[m[38;5;81m$[m[38;5;81m[46m([m[38;5;224mdate +[m[93m"[m[95m%s[m[93m"[m[38;5;81m[46m)[m[50;108H[1m[7m1,37 59%[1;37H[?12l[?25h[?25l[m[51;105H~@k[1;37H[51;105H   [1;5H[1;49r[1;1H[L[1;51r[1;4H[93mdo[m[2;26H[38;5;81m([10C)[m[50;107H[1m[7m 50,5 58%[1;5H[?12l[?25h[?25l[m[51;105H~@k[1;5H[51;105H   [1;37H[1;49r[1;1H[L[1;51r[1;4H[93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_INSTANCES[m[38;5;224m`[m[50;107H[1m[7m49,37 57%[1;37H[?12l[?25h[?25l[m[51;105H~@k[1;37H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[50;107H[1m[7m 48,1 55%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [1;5H[1;49r[1;1H[L[1;51r[1;4H[93mfi[m[50;109H[1m[7m7,5 54%[1;5H[?12l[?25h[?25l[m[51;105H~@k[1;5H[51;105H   [1;29H[1;49r[1;1H[L[1;51r[1;6H[1m[96mDB_HOST[m=[38;5;81m$DB_DEFAULT_HOST[m[50;107H[1m[7m46,29 53%[1;29H[?12l[?25h[?25l[m[51;105H~@k[1;29H[51;105H   [1;7H[1;49r[1;1H[L[1;51r[1;4H[93melse[m[50;107H[1m[7m 45,7 52%[1;7H[?12l[?25h[?25l[m[51;105H~@k[1;7H[51;105H   [1;34H[1;49r[1;1H[L[1;51r[1;6H[1m[96mDB_HOST[m=[38;5;81m$([m[38;5;224mcat [m[38;5;81m$DB_INFO_FILE)[m[50;107H[1m[7m44,34 51%[1;34H[?12l[?25h[?25l[m[51;105H~@k[1;34H[51;105H   [1;7H[1;49r[1;1H[L[1;51r[1;4H[93mthen[m[50;107H[1m[7m 43,7 50%[1;7H[?12l[?25h[?25l[m[51;105H~@k[1;7H[51;105H   [1;28H[1;49r[1;1H[L[1;51r[1;4H[93mif [m[93m[46m[[m [93m-f[m [93m"[m[38;5;81m$DB_INFO_FILE[m[93m"[m [93m[46m][m[50;107H[1m[7m42,28 48%[1;28H[?12l[?25h[?25l[m[51;105H~@k[1;28H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[2;7H[93m[[20C][m[50;107H[1m[7m 41,0 47%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [1;92H[1;49r[1;1H[L[1;51r[1;4H[93mecho[m[95m [m[93m"[m[95mScaling out tier [m[93m"[m[38;5;81m$TIER[m[95m [m[93m"[m[95m with [m[93m"[m[38;5;81m$NUMBER_INSTANCES[m[95m [m[93m"[m[95minstances of flavor [m[93m"[m[95m [m[38;5;81m$FLAVOR_ID[m[95m [m[50;107H[1m[7m40,92 46%[1;92H[?12l[?25h[?25l[m[51;105H~@k[1;92H[51;105H   [1;28H[1;49r[1;1H[L[1;51r[1;1H[93mif [[m [93m"[m[38;5;81m$CMD[m[93m"[m [93m=[m [95m"out"[m  [93m][m; [93mthen[m[50;107H[1m[7m39,28 45%[1;28H[?12l[?25h[?25l[m[51;105H~@k[1;28H[51;105H   [1;24H[1;49r[1;1H[L[1;51r[1;1H[1m[96mlb_vm_name[m=[38;5;81m$TIER[m[93m'[m[95m_VM_LB[m[93m'[m[50;108H[1m[7m8,24 44%[1;24H[?12l[?25h[?25l[m[51;105H~@k[1;24H[51;105H   [1;14H[1;49r[1;1H[L[1;51r[1;1H[1m[96mlb_ip_address[m=[50;108H[1m[7m7,14 42%[1;14H[?12l[?25h[?25l[m[51;105H~@k[1;14H[51;105H   [1;2H[1;49r[1;1H[L[1;51r[1;1H[93mfi[m[50;107H[1m[7m 36,2 41%[1;2H[?12l[?25h[?25l[m[51;105H~@k[1;2H[51;105H   [1;10H[1;49r[1;1H[L[1;51r[1;3H[1m[96mWORKERS[m=[50;107H[1m[7m35,10 40%[1;10H[?12l[?25h[?25l[m[51;105H~@k[1;10H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[50;107H[1m[7m 34,0 39%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [1;4H[1;49r[1;1H[L[1;51r[1;3H[93mfi[m[50;109H[1m[7m3,4 38%[1;4H[?12l[?25h[?25l[m[51;105H~@k[1;4H[51;105H   [1;11H[1;49r[1;1H[L[1;51r[1;6H[93mexit[m [95m1[m[50;107H[1m[7m32,11 36%[1;11H[?12l[?25h[?25l[m[51;105H~@k[1;11H[51;105H   [1;27H[1;49r[1;1H[L[1;51r[1;6H[93mecho[m[95m [m[93m"[m[95mTier not found![m[93m"[m[50;108H[1m[7m1,27 35%[1;27H[?12l[?25h[?25l[m[51;105H~@k[1;27H[51;105H   [1;28H[1;49r[1;1H[L[1;51r[1;3H[93mif [[m [93m"[m[38;5;81m$CMD[m[93m"[m [93m=[m [95m"in"[m [93m][m; [93mthen[m[49;1H[94m@                                                                                                                  [m[50;108H[1m[7m0,28 34%[1;28H[?12l[?25h[?25l[m[51;105H~@k[1;28H[51;105H   [1;4H[1;49r[1;1H[L[1;51r[1;1H[93melse[m[50;107H[1m[7m 29,4 33%[1;4H[?12l[?25h[?25l[m[51;105H~@k[1;4H[51;105H   [1;15H[1;49r[1;1H[L[1;51r[1;3H[93mecho[m[95m [m[38;5;81m$WORKERS[m[50;107H[1m[7m28,15 32%[1;15H[?12l[?25h[?25l[m[51;105H~@k[1;15H[51;105H   [1;57H[1;49r[1;1H[L[1;51r[1;3H[1m[96mWORKERS[m=[38;5;81m$([m[93mgrep[m[38;5;224m [m[1m[96mworkers[m=[38;5;224m [m[38;5;81m${TIER_FILE}[m[38;5;224m | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2[m[38;5;81m)[m[50;108H[1m[7m7,57 31%[1;57H[?12l[?25h[?25l[m[51;105H~@k[1;57H[51;105H   [1;28H[1;49r[1;1H[L[1;51r[1;1H[93mif [[m [93m-f[m [93m"[m[38;5;81m$TIER_FILE[m[93m"[m [93m][m; [93mthen[m[50;108H[1m[7m6,28 30%[1;28H[?12l[?25h[?25l[m[51;105H~@k[1;28H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[50;107H[1m[7m 25,0 28%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [1;33H[1;49r[1;1H[L[1;51r[1;1H[1m[96mTIER_FILE[m=[93m"[m[38;5;81m$TIER_[m[30m[103mLIST[m[38;5;81m_PATH[m[95m/[m[38;5;81m$TIER[m[93m"[m[50;107H[1m[7m24,33 27%[1;33H[?12l[?25h[?25l[m[51;105H~@k[1;33H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[50;107H[1m[7m 23,0 26%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [1;7H[1;49r[1;1H[L[1;51r[1;1H[1m[96mTIER[m=[38;5;81m$2[m[50;109H[1m[7m2,7 25%[1;7H[?12l[?25h[?25l[m[51;105H~@k[1;7H[51;105H   [1;6H[1;49r[1;1H[L[1;51r[1;1H[1m[96mCMD[m=[38;5;81m$1[m[50;109H[1m[7m1,6 24%[1;6H[?12l[?25h[?25l[m[51;105H~@k[1;6H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[50;109H[1m[7m0,0 22%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [1;2H[1;49r[1;1H[L[1;51r[1;1H[93mfi[m[50;108H[1m[7m19,2 21%[1;2H[?12l[?25h[?25l[m[51;105H~@k[1;2H[51;105H   [1;9H[1;49r[1;1H[L[1;51r[1;4H[93mexit[m [95m1[m[50;109H[1m[7m8,9 20%[1;9H[?12l[?25h[?25l[m[51;105H~@k[1;9H[51;105H   [1;33H[1;49r[1;1H[L[1;51r[1;4H[93mecho[m[95m [m[93m"[m[95mUsage: [m[38;5;81m$0[m[95m out | in tier[m[93m"[m[50;107H[1m[7m17,33 19%[1;33H[?12l[?25h[?25l[m[51;105H~@k[1;33H[51;105H   [1;60H[1;49r[1;1H[L[1;51r[1;1H[93mif [[m [93m"[m[38;5;81m$#[m[93m"[m [93m-ne[m [95m2[m [93m][m || [93m[[m [93m"[m[38;5;81m$1[m[93m"[m [93m!=[m [93m"[m[95mout[m[93m"[m [93m-a[m [93m"[m[38;5;81m$1[m[93m"[m [93m!=[m [93m"[m[95min[m[93m"[m [93m][m; [93mthen[m[50;108H[1m[7m6,60 18%[1;60H[?12l[?25h[?25l[m[51;105H~@k[1;60H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[50;107H[1m[7m 15,0 16%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[50;109H[1m[7m4,0 15%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[50;109H[1m[7m3,0 14%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [1;35H[1;49r[1;1H[L[1;51r[1;1H[93msource[m [38;5;81m$PROJECT_PATH[m/common/util.sh[50;107H[1m[7m12,35 13%[1;35H[?12l[?25h[?25l[m[51;105H~@k[1;35H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[50;107H[1m[7m 11,0 12%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [1;16H[1;49r[1;1H[L[1;51r[1;1H[93mcd[m [38;5;81m$PROJECT_PATH[m[50;107H[1m[7m10,16 10%[1;16H[?12l[?25h[?25l[m[51;105H~@k[1;16H[51;105H   [1;26H[1;49r[1;1H[L[1;51r[1;1H[93mexport[m[1m[96m PROJECT_PATH=[m/share[50;107H[1m[7m 9,26  9%[1;26H[?12l[?25h[?25l[m[51;105H~@k[1;26H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[50;108H[1m[7m 8,0  8%[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [1;2H[1;49r[1;1H[L[1;51r[1;1H[93mfi[m[50;109H[1m[7m7,2  7%[1;2H[?12l[?25h[?25l[m[51;105H~@k[1;2H[51;105H   [1;11H[1;49r[1;1H[L[1;51r[1;6H[93mexit[m [95m1[m[50;108H[1m[7m6,11  6%[1;11H[?12l[?25h[?25l[m[51;105H~@k[1;11H[51;105H   [1;52H[1;49r[1;1H[L[1;51r[1;6H[93mecho[m[95m [m[93m"[m[95mdoit etre execute sur le cloud controler[m[93m"[m[50;108H[1m[7m5,52  4%[1;52H[?12l[?25h[?25l[m[51;105H~@k[1;52H[51;105H   [2;11H[50;108H[1m[7m6,11 [2;11H[?12l[?25h[?25l[m[51;105H~@k[2;11H[51;105H   [3;2H[50;108H[1m[7m 7,2 [3;2H[?12l[?25h[?25l[m[51;105H~@k[3;2H[51;105H   [4;1H[50;109H[1m[7m8,0 [4;1H[?12l[?25h[?25l[m[51;105H~@k[4;1H[51;105H   [5;26H[50;108H[1m[7m9,26 [5;26H[?12l[?25h[?25l[m[51;105H~@k[5;26H[51;105H   [6;16H[50;107H[1m[7m10,16[6;16H[?12l[?25h[?25l[m[51;105H~@k[6;16H[51;105H   [7;1H[50;107H[1m[7m 11,0 [7;1H[?12l[?25h[?25l[m[51;105H~@k[7;1H[51;105H   [8;35H[50;107H[1m[7m12,35 [8;35H[?12l[?25h[?25l[m[51;105H~@k[8;35H[51;105H   [9;1H[50;107H[1m[7m 13,0 [9;1H[?12l[?25h[?25l[m[51;105H~@k[9;1H[51;105H   [10;1H[50;109H[1m[7m4,[10;1H[?12l[?25h[?25l[m[51;105H~@k[10;1H[51;105H   [11;1H[50;109H[1m[7m5,[11;1H[?12l[?25h[?25l[m[51;105H~@k[11;1H[51;105H   [12;60H[50;107H[1m[7m16,60[12;60H[?12l[?25h[?25l[m[51;105H~@k[12;60H[51;105H   [13;33H[50;108H[1m[7m7,33 [13;33H[?12l[?25h[?25l[m[51;105H~@k[13;33H[51;105H   [14;9H[50;107H[1m[7m 18,9 [14;9H[?12l[?25h[?25l[m[51;105H~@k[14;9H[51;105H   [15;2H[50;109H[1m[7m9,2 [15;2H[?12l[?25h[?25l[m[51;105H~@k[15;2H[51;105H   [16;1H[50;108H[1m[7m20,0 [16;1H[?12l[?25h[?25l[m[51;105H^[[16;1H[?12l[?25h[?25l[51;105H  [16;1H[?12l[?25h[?25l[51;105H:[16;1H[51;105H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"scale-iaas.sh" 132L, 3795C written[16;1H[?12l[?25h[?25l[51;105H:[16;1H[51;1H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica/apicloud$ vim scale-iaas.sh s[C[C[C[C[C[C[Cls[Kvim scale-saas.sh [K[K[K[K[K[K[Kls[Kvim scale-siaas.sh [C[1P[1@s
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"scale-saas.sh" 91L, 2103C[>c[1;1H[96m#!/bin/bash[m

[1m[96mfunction[m [1m[96mindexOf () {
[m   [1m[96mlist[m=[38;5;81m([m [93m"[m[38;5;81m${@[m[93m:[m[95m2[m[38;5;81m}[m[93m"[m [38;5;81m)[m
   [1m[96mi[m=[95m0[m
   [93mif [m [93m[[m [38;5;81m${#list[[m@[38;5;81m]}[m [93m-lt[m [95m0[m [93m][m; [93mthen[7;9Hreturn[m [95m-1[m
   [93mfi
[m   [93mwhile [[m [38;5;81m$i[m [93m-lt[m  [38;5;81m${#list[[m@[38;5;81m]}[m [93m-a[m  [93m"[m[38;5;81m${list[$i]}[m[93m"[m [93m!=[m [93m"[m[38;5;81m$1[m[93m"[m [93m]; do[m[10;9H[1m[96mi[m=[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m + [m[95m1[m[38;5;224m`[m
   [93mdone[m
   [96m#echo $i[m
   [93mif [[m [38;5;81m$i[m [93m-lt[m  [38;5;81m${#list[[m@[38;5;81m]}[m [93m][m; [93mthen[14;9Hreturn[m [38;5;81m$i[m
   [93melse[16;9Hreturn[m [95m-1[m
   [93mfi[m
[1m[96m}[m


[93mif ![m [93m[[m [93m-d[m /share [93m][m || [93m![m [93m[[m [93m-f[m /root/openrc [93m]
then[23;6Hecho[m[95m [m[93m"[m[95mdoit etre execute sur le cloud controler[m[93m"[24;6Hexit[m [95m1[m
[93mfi

export[m[1m[96m PROJECT_PATH=[m/share
[93mcd[m [38;5;81m$PROJECT_PATH[m

[93msource[m [38;5;81m$PROJECT_PATH[m/common/util.sh

[96m#LEVELS="L M H"

#LEVEL_FILE="~/fib/elasticity.param"[m

[1m[96mre[m=[93m'[m[95m^[0-9]+$[m[93m'

if [[m [93m"[m[38;5;81m$#[m[93m"[m [93m-ne[m [95m2[m [93m][m || [93m![m [38;5;224m[[[m [93m"[m[38;5;81m$1[m[93m"[m [93m=[m [95m"up"[m [93m||[m [93m"[m[38;5;81m$1[m[93m"[m [93m=[m [95m"down"[m [93m||[m [38;5;81m$1[m [93m=[m~ [38;5;81m$re[m [38;5;224m]][m; [93mthen
[m   [93mecho[m[95m [m[93m"[m[95mUsage: [m[38;5;81m$0[m[95m up | down tier[m[93m"
[m   [93mexit[m [95m1[m
[93mfi[m

[1m[96mCMD[m=[38;5;81m$1[m
[1m[96mTIER[m=[38;5;81m$2[m
[1m[96mTIER_FILE[m=[93m"[m[95m/tmp/[m[38;5;81m$TIER[m[93m"

if [[m [93m-f[m [93m"[m[38;5;81m$TIER_FILE[m[93m"[m [93m][m; [93mthen[m
  [1m[96mWORKERS[m=[38;5;81m$([m[93mgrep[m[38;5;224m [m[1m[96mworkers[m=[38;5;224m [m[38;5;81m${TIER_FILE}[m[38;5;224m | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2[m[38;5;81m)[m
[96m#  echo $WORKERS[m
[1m[7mscale-saas.sh                                                                                               1,1 Top[1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [2;1H[50;109H[1m[7m2,0 [2;1H[?12l[?25h[?25l[m[51;105H~@k[2;1H[51;105H   [3;1H[50;109H[1m[7m3,1 [3;1H[?12l[?25h[?25l[m[51;105H~@k[3;1H[51;105H   [4;1H[50;109H[1m[7m4,[4;1H[?12l[?25h[?25l[m[51;105H~@k[4;1H[51;105H   [5;1H[50;109H[1m[7m5,[5;1H[?12l[?25h[?25l[m[51;105H~@k[5;1H[51;105H   [6;1H[50;109H[1m[7m6,[6;1H[?12l[?25h[?25l[m[51;105H~@k[6;1H[51;105H   [7;1H[50;109H[1m[7m7,[7;1H[?12l[?25h[?25l[m[51;105H~@k[7;1H[51;105H   [8;1H[50;109H[1m[7m8,[8;1H[?12l[?25h[?25l[m[51;105H~@k[8;1H[51;105H   [9;1H[50;109H[1m[7m9,[9;1H[?12l[?25h[?25l[m[51;105H~@k[9;1H[51;105H   [10;8H[50;108H[1m[7m10,[10;8H[?12l[?25h[?25l[m[51;105H~@k[10;8H[51;105H   [11;1H[50;109H[1m[7m1,[11;1H[?12l[?25h[?25l[m[51;105H~@k[11;1H[51;105H   [12;1H[50;109H[1m[7m2,[12;1H[?12l[?25h[?25l[m[51;105H~@k[12;1H[51;105H   [13;1H[50;109H[1m[7m3,[13;1H[?12l[?25h[?25l[m[51;105H~@k[13;1H[51;105H   [14;1H[50;109H[1m[7m4,[14;1H[?12l[?25h[?25l[m[51;105H~@k[14;1H[51;105H   [15;1H[50;109H[1m[7m5,[15;1H[?12l[?25h[?25l[m[51;105H~@k[15;1H[51;105H   [16;1H[50;109H[1m[7m6,[16;1H[?12l[?25h[?25l[m[51;105H~@k[16;1H[51;105H   [17;1H[50;109H[1m[7m7,[17;1H[?12l[?25h[?25l[m[51;105H~@k[17;1H[51;105H   [18;1H[3;21H[1m[96m[46m{[18;1H}[m[50;109H[1m[7m8,[18;1H[?12l[?25h[?25l[m[51;105H~@k[18;1H[51;105H   [19;1H[3;21H[1m[96m{[18;1H}[m[50;109H[1m[7m9,0 [19;1H[?12l[?25h[?25l[m[51;105H~@k[19;1H[51;105H   [20;1H[50;108H[1m[7m20,[20;1H[?12l[?25h[?25l[m[51;105H~@k[20;1H[51;105H   [21;1H[50;109H[1m[7m1,1 [21;1H[?12l[?25h[?25l[m[51;105H~@k[21;1H[51;105H   [22;1H[50;109H[1m[7m2,[22;1H[?12l[?25h[?25l[m[51;105H~@k[22;1H[51;105H   [23;1H[50;109H[1m[7m3,[23;1H[?12l[?25h[?25l[m[51;105H~@k[23;1H[51;105H   [24;1H[50;109H[1m[7m4,[24;1H[?12l[?25h[?25l[m[51;105H~@k[24;1H[51;105H   [25;1H[50;109H[1m[7m5,[25;1H[?12l[?25h[?25l[m[51;105H~@k[25;1H[51;105H   [26;1H[50;109H[1m[7m6,0 [26;1H[?12l[?25h[?25l[m[51;105H~@k[26;1H[51;105H   [27;1H[50;109H[1m[7m7,1 [27;1H[?12l[?25h[?25l[m[51;105H~@k[27;1H[51;105H   [28;1H[50;109H[1m[7m8,[28;1H[?12l[?25h[?25l[m[51;105H~@k[28;1H[51;105H   [29;1H[50;109H[1m[7m9,0 [29;1H[?12l[?25h[?25l[m[51;105H~@k[29;1H[51;105H   [30;1H[50;108H[1m[7m30,1 [30;1H[?12l[?25h[?25l[m[51;105H~@k[30;1H[51;105H   [31;1H[50;109H[1m[7m1,0 [31;1H[?12l[?25h[?25l[m[51;105H~@k[31;1H[51;105H   [32;1H[50;109H[1m[7m2,1 [32;1H[?12l[?25h[?25l[m[51;105H~@k[32;1H[51;105H   [1;3H[27m[23m[m[H[2J[1;3H[1m[96mWORKERS[m=[38;5;81m$([m[93mgrep[m[38;5;224m [m[1m[96mworkers[m=[38;5;224m [m[38;5;81m${TIER_FILE}[m[38;5;224m | cut -d [m[93m'[m[95m=[m[93m'[m[38;5;224m -f2[m[38;5;81m)[m
[96m#  echo $WORKERS[m
[93melse
[m  [93mecho[m[95m [m[93m"[m[95mTier not found![m[93m"
[m  [93mexit[m [95m1[m
[93mfi[m
[1m[96mlevel_arr[m=[38;5;81m([m [38;5;81m$LEVELS[m [38;5;81m)[m[11;1H[93mfor[m w [93min[m [38;5;81m$WORKERS[m
[93mdo[m
[96m#   ip_address=`nova list | grep "$w" | tr '|' ' '| tr -s ' '| cut -d ' ' -f5 | cut -d '=' -f2`[m
   [1m[96mip_address[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m [m[93m"[m[38;5;81m$w[m[93m"[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f8`[m
   ssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95msudo chmod a+w [m[38;5;81m$LEVEL_FILE[m[93m"[m[17;4H[1m[96mnext_level[m=
   [93mif [m[38;5;224m[[[m [38;5;81m$CMD[m [93m=[m~ [38;5;81m$re[m [38;5;224m]][m; [93mthen[m[19;7H[1m[96mnext_level[m=[38;5;81m$CMD[m
   [93melse[m[21;7H[1m[96mcurr_level[m=[38;5;81m$([m[38;5;224mssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m ubuntu@[m[38;5;81m$ip_address[m[38;5;224m -i [m[38;5;81m$PATH_KEYPAIR[m[38;5;224m/id_rsa [m[93m"[m[95msudo cat [m[38;5;81m$LEVEL_FII[22;1HLE[m[93m"[m[38;5;81m)[m[23;7H[93mecho[m[95m [m[93m"[m[95mCurrent quality level is [m[38;5;81m$curr_level[m[95m [worker [m[38;5;81m$w[m[95m][m[93m"[m[24;7HindexOf [38;5;81m$curr_level[m [38;5;81m$LEVELS[m[25;7H[1m[96midx[m=[38;5;81m$?[m[27;7H[93mif [[m [93m"[m[38;5;81m$CMD[m[93m"[m [93m=[m [95m"up"[m  [93m][m; [93mthen[m[28;10H[1m[96midx[m=[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$idx[m[38;5;224m + [m[95m1[m[38;5;224m`[m[29;7H[93melse[m[30;10H[1m[96midx[m=[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$idx[m[38;5;224m - [m[95m1[m[38;5;224m`[m[31;7H[93mfi[33;7Hif [[m [38;5;81m$idx[m [93m-ge[m [95m0[m [93m-a[m [38;5;81m$idx[m [93m-lt[m  [38;5;81m${#level_arr[[m@[38;5;81m]}[m [93m][m; [93mthen[m[34;10H[1m[96mnext_level[m=[38;5;81m${level_arr[$idx]}[m[35;7H[93melse[36;10Hecho[m[95m [m[93m"[m[95mAlready in the minimum/maximum level : nothing to do! [worker [m[38;5;81m$w[m[95m][m[93m"[m[95m         [m[37;7H[93mfi
[m   [93mfi[40;4Hif ![m [93m[[m [93m-z[m [93m"[m[38;5;81m$next_level[m[93m"[m [93m]
[m   [93mthen[42;7Hecho[m[95m [m[93m"[m[95mSetting quality level to [m[38;5;81m$next_level[m[95m [worker [m[38;5;81m$w[m[95m][m[93m"[m[43;7Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_address[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95msudo echo [m[38;5;81m$next_level[m[95m > [m[38;5;81m$LEVEL__[44;1HFILE[m[93m"
[m   [93mfi
done[m
[94m~                                                                                                                  [48;1H~                                                                                                                  [49;1H~                                                                                                                  [m[50;1H[1m[7mscale-saas.sh                                                                                              48,3 Bot[1;3H[?12l[?25h[?25l[m[51;105H~@k[1;3H[51;105H   [2;3H[50;109H[1m[7m9,[2;3H[?12l[?25h[?25l[m[51;105H~@k[2;3H[51;105H   [3;3H[50;108H[1m[7m50,[3;3H[?12l[?25h[?25l[m[51;105H~@k[3;3H[51;105H   [4;3H[50;109H[1m[7m1,[4;3H[?12l[?25h[?25l[m[51;105H~@k[4;3H[51;105H   [5;3H[50;109H[1m[7m2,[5;3H[?12l[?25h[?25l[m[51;105H~@k[5;3H[51;105H   [6;2H[50;109H[1m[7m3,2 [6;2H[?12l[?25h[?25l[m[51;105H~@k[6;2H[51;105H   [7;3H[50;109H[1m[7m4,3 [7;3H[?12l[?25h[?25l[m[51;105H~@k[7;3H[51;105H   [8;1H[50;109H[1m[7m5,0 [8;1H[?12l[?25h[?25l[m[51;105H~@k[8;1H[51;105H   [7;3H[50;109H[1m[7m4,3 [7;3H[?12l[?25h[?25l[m[51;105H~@k[7;3H[51;105H   [6;2H[50;109H[1m[7m3,2 [6;2H[?12l[?25h[?25l[m[51;105H~@k[6;2H[51;105H   [5;3H[50;109H[1m[7m2,3 [5;3H[?12l[?25h[?25l[m[51;105H~@k[5;3H[51;105H   [4;3H[50;109H[1m[7m1,[4;3H[?12l[?25h[?25l[m[51;105H~@k[4;3H[51;105H   [3;3H[50;109H[1m[7m0,[3;3H[?12l[?25h[?25l[m[51;105H~@k[3;3H[51;105H   [2;3H[50;108H[1m[7m49,[2;3H[?12l[?25h[?25l[m[51;105H~@k[2;3H[51;105H   [1;3H[50;109H[1m[7m8,[1;3H[?12l[?25h[?25l[m[51;105H~@k[1;3H[51;105H   [1;3H[1;49r[1;1H[L[1;51r[1;1H[93mif [[m [93m-f[m [93m"[m[38;5;81m$TIER_FILE[m[93m"[m [93m][m; [93mthen[m[50;109H[1m[7m7,[1;3H[?12l[?25h[?25l[m[51;105H~@k[1;3H[51;105H   [1;1H[1;49r[1;1H[L[1;51r[50;109H[1m[7m6,0 [1;1H[?12l[?25h[?25l[m[51;105H~@k[1;1H[51;105H   [2;3H[50;109H[1m[7m7,3 [2;3H[?12l[?25h[?25l[m[51;105H~@k[2;3H[51;105H   [3;3H[50;109H[1m[7m8,[3;3H[?12l[?25h[?25l[m[51;105H~@k[3;3H[51;105H   [4;3H[50;109H[1m[7m9,[4;3H[?12l[?25h[?25l[m[51;105H~@k[4;3H[51;105H   [5;3H[50;108H[1m[7m50,[5;3H[?12l[?25h[?25l[m[51;105H~@k[5;3H[51;105H   [6;3H[50;109H[1m[7m1,[6;3H[?12l[?25h[?25l[m[51;105H~@k[6;3H[51;105H   [7;3H[50;109H[1m[7m2,[7;3H[?12l[?25h[?25l[m[51;105H~@k[7;3H[51;105H   [8;2H[50;109H[1m[7m3,2 [8;2H[?12l[?25h[?25l[m[51;105H~@k[8;2H[51;105H   [9;3H[50;109H[1m[7m4,3 [9;3H[?12l[?25h[?25l[m[51;105H~@k[9;3H[51;105H   [10;1H[50;109H[1m[7m5,0 [10;1H[?12l[?25h[?25l[m[51;105H~@k[10;1H[51;105H   [11;1H[50;109H[1m[7m6,[11;1H[?12l[?25h[?25l[m[51;105H~@k[11;1H[51;105H   [12;1H[50;109H[1m[7m7,[12;1H[?12l[?25h[?25l[m[51;105H~@k[12;1H[51;105H   [13;3H[50;109H[1m[7m8,3 [13;3H[?12l[?25h[?25l[m[51;105H~@k[13;3H[51;105H   [12;1H[50;109H[1m[7m7,0 [12;1H[?12l[?25h[?25l[m[51;105H~@k[12;1H[51;105H   [11;1H[50;109H[1m[7m6,[11;1H[?12l[?25h[?25l[m[51;105H~@k[11;1H[51;105H   [10;1H[50;109H[1m[7m5,[10;1H[?12l[?25h[?25l[m[51;105H~@k[10;1H[51;105H   [9;3H[50;109H[1m[7m4,3 [9;3H[?12l[?25h[?25l[m[51;105H~@k[9;3H[51;105H   [8;2H[50;109H[1m[7m3,2 [8;2H[?12l[?25h[?25l[m[51;105H^[[8;2H[?12l[?25h[?25l[51;105H  [8;2H[?12l[?25h[?25l[51;105H:[8;2H[51;105H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica/apicloud$ [Kfalvaresdeoliveira@flyon:~/elastica/apicloud$ vim ../common/util.sh 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"../common/util.sh" 110L, 2763C[>c[1;1H[93mexport[m[1m[96m G5K_USER_PATH=[m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/tmp/usr[m[93m"
export[m[1m[96m G5K_PWD_PATH=[m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/tmp/pwd[m[93m"

export[m[1m[96m OPENSTACK_CAMPAIGN_HOME=[m~/openstack-campaign

[93mexport[m[1m[96m RESERVATION_NODES_FILE=[m[38;5;81m$PROJECT_PATH[m/tmp/reservation_nodes
[93mexport[m[1m[96m KVLAN_NODES_FILE=[m[38;5;81m$PROJECT_PATH[m/tmp/kvlan_nodes
[93mexport[m[1m[96m DEFAULT_NB_NODES=[m[95m2[m
[93mexport[m[1m[96m DEFAULT_NB_HOURS=[m[95m2[m[13;1H[93mexport[m[1m[96m PATH_IMAGE_VM=[m[38;5;81m$HOME[m
[93mexport[m[1m[96m FILE_IMAGE_VM=[m[93m"[m[95mubuntu-12.04-server-cloudimg-amd64-disk1.img[m[93m"
export[m[1m[96m numkavlan=[m[95m4[m
[93mexport[m[1m[96m key=[mkey
[93mexport[m[1m[96m sec_group=[m[93m"[m[95msec_group[m[93m"

export[m[1m[96m name_image_LB=[m[93m"[m[95mLoadBalancerImage[m[93m"
export[m[1m[96m name_image_worker=[m[93m"[m[95mWorkerImage[m[93m"
export[m[1m[96m name_image_DB=[m[93m"[m[95mDatabaseImage[m[93m"[m

[96m#doit etre executer en root au demarage d'une vm[m
[93mexport[m[1m[96m script_start_services=[m[93m"[m[95m/root/start-services.sh[m[93m"

export[m[1m[96m PATH_KEYPAIR=[m[93m"[m[95m/tmp[m[93m"

export[m[1m[96m DEFAULT_LOCAL_CONF_PATH=[m/root

[96m#NGINX[m
[93mexport[m[1m[96m NGINX_CONF_PATH=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m
[93mexport[m[1m[96m NGINX_CONF=[m[38;5;81m$NGINX_CONF_PATH[m/nginx.conf
[93mexport[m[1m[96m NGINX_TPL=[m[38;5;81m$NGINX_CONF_PATH[m/nginx.tpl

[96m#PHP-NGINX[m
[93mexport[m[1m[96m PHP_NGINX_CONF_PATH=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m
[93mexport[m[1m[96m PHP_NGINX_CONF=[m[38;5;81m$PHP_NGINX_CONF_PATH[m/nginx.conf
[93mexport[m[1m[96m PHP_NGINX_TPL=[m[38;5;81m$PHP_NGINX_CONF_PATH[m/nginx.tpl

[93mexport[m[1m[96m WWW_ROOT=[m[93m"[m[95m/root/www[m[93m"[m


[96m#DB[m
[93mexport[m[1m[96m DB_ROOT_USER=[m[93m"[m[95mroot[m[93m"
export[m[1m[96m DB_ROOT_PASSWORD=[m[93m"[m[95mtoto[m[93m"
export[m[1m[96m DB_USER=[m[93m"[m[95mrubis[m[93m"
export[m[1m[96m DB_PASSWORD=[m[93m"[m[95mrubis[m[93m"
export[m[1m[96m DB_NAME=[m[93m"[m[95mrubis[m[93m"
export[m[1m[96m DB_INFO_FILE=[m[93m"[m[95m/tmp/dbinfo[m[93m"[m
[1m[7m../common/util.sh                                                           1,1 Top[1;1H[?12l[?25h[?25l[m[51;73H~@k[1;1H[51;73H   [2;1H[50;77H[1m[7m2,[2;1H[?12l[?25h[?25l[m[51;73H~@k[2;1H[51;73H   [3;1H[50;77H[1m[7m3,0 [3;1H[?12l[?25h[?25l[m[51;73H~@k[3;1H[51;73H   [4;1H[50;77H[1m[7m4,1 [4;1H[?12l[?25h[?25l[m[51;73H~@k[4;1H[51;73H   [5;1H[50;77H[1m[7m5,0 [5;1H[?12l[?25h[?25l[m[51;73H~@k[5;1H[51;73H   [6;1H[50;77H[1m[7m6,1 [6;1H[?12l[?25h[50;77H7,[7;1H[50;77H8,[8;1H[?25l[m[51;73H~@k[8;1H[51;73H   [9;1H[50;77H[1m[7m9,[9;1H[?12l[?25h[?25l[m[51;73H~@k[9;1H[51;73H   [10;1H[50;76H[1m[7m10,0 [10;1H[?12l[?25h[?25l[m[51;73H~@k[10;1H[51;73H   [11;1H[50;77H[1m[7m1,[11;1H[?12l[?25h[?25l[m[51;73H~@k[11;1H[51;73H   [12;1H[50;77H[1m[7m2,[12;1H[?12l[?25h[?25l[m[51;73H~@k[12;1H[51;73H   [13;1H[50;77H[1m[7m3,1 [13;1H[?12l[?25h[?25l[m[51;73H~@k[13;1H[51;73H   [14;1H[50;77H[1m[7m4,[14;1H[?12l[?25h[?25l[m[51;73H~@k[14;1H[51;73H   [15;1H[50;77H[1m[7m5,[15;1H[?12l[?25h[?25l[m[51;73H~@k[15;1H[51;73H   [16;1H[50;77H[1m[7m6,[16;1H[?12l[?25h[?25l[m[51;73H~@k[16;1H[51;73H   [17;1H[50;77H[1m[7m7,[17;1H[?12l[?25h[?25l[m[51;73H~@k[17;1H[51;73H   [18;1H[50;77H[1m[7m8,0 [18;1H[?12l[?25h[?25l[m[51;73H~@k[18;1H[51;73H   [19;1H[50;77H[1m[7m9,1 [19;1H[?12l[?25h[?25l[m[51;73H~@k[19;1H[51;73H   [20;1H[50;76H[1m[7m20,[20;1H[?12l[?25h[?25l[m[51;73H~@k[20;1H[51;73H   [21;1H[50;77H[1m[7m1,[21;1H[?12l[?25h[?25l[m[51;73H~@k[21;1H[51;73H   [22;1H[50;77H[1m[7m2,0 [22;1H[?12l[?25h[?25l[m[51;73H~@k[22;1H[51;73H   [23;1H[50;77H[1m[7m3,1 [23;1H[?12l[?25h[?25l[m[51;73H~@k[23;1H[51;73H   [24;1H[50;77H[1m[7m4,[24;1H[?12l[?25h[?25l[m[51;73H^[[24;1H[?12l[?25h[?25l[51;73H  [24;1H[?12l[?25h[?25l[51;73H^[[24;1H[?12l[?25h[?25l[51;73H  [24;1H[?12l[?25h[?25l[51;73H/[24;1H[51;1H[K[51;1H/[?12l[?25hR[?25l[26;19H[1m[7m[96mR[m[1m[96m=[m[93m"[m[50;75H[1m[7m26,19 
[m/R[?12l[?25hE[?25l[1;49r[1;1H[20M[1;51r[6;19H[1m[96mR=[m[93m"[30;1Hexport[m[1m[96m DB_DEFAULT_HOST=[m[93m"[m[95mlocalhost[m[93m"
export[m[1m[96m DB_SCRIPT_PATH=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m
[93mexport[m[1m[96m DB_DATA_SCRIPT=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/rubis.sql
[93mexport[m[1m[96m DB_GRANTS_SCRIPT=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/grants.sql


[93mexport[m[1m[96m LB_PORT=[m[95m8080[m
[93mexport[m[1m[96m WORKER_PORT=[m[95m8080[m

[96m#periode a laquelle on log le system d'une vm en seconde[m
[93mexport[m[1m[96m PERIODE_LOG_SYSTEM=[m[95m20[m

[96m#periode a laquelle on log le nginx en seconde[m
[93mexport[m[1m[96m PERIODE_LOG_LB=[m[95m20[m


[93mexport[m[1m[96m FILE_LOG_SYSTEM=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/system.log
[93mexport[m[1m[96m FILE_LOG_NGINX=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/access_nginx.log
[93mexport[m[1m[96m FILE_LOG_LB=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/nginx_report.log
[93mexport[m[1m[96m AD[m[1m[7m[96mRE[m[1m[96mSSE_IP_SERVER_REDIS=[m10.0.0.1[50;75H[1m[7m69,10 32%[m[51;1H[K[51;1H/RE[?12l[?25hD[?25l[49;10H[1m[96mRESSE_IP_SERVER_[m[1m[7m[96mRED[m[1m[96mIS=[m1[50;78H[1m[7m26 
[m/RED[?12l[?25h[?25l[49;26H[1m[30m[103mRED[m[1m[96mIS=[m1[49;26H[?12l[?25h[?25l[51;73H~@k[49;26H[51;73H   [49;1H[1;49r[49;1H
[1;51r[51;1H[K[50;75H[1m[7m 70,0 34%[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;26H[1;49r[49;1H
[1;51r[49;1H[96m#this number should be great enough to [m[50;75H[1m[7m71,26 36%[49;26H[?12l[?25h[?25l[m[51;73H~@k[49;26H[51;73H   [49;26H[1;49r[49;1H
[1;51r[49;1H[96m#comprise all the log records since the last $PERIODE_LOG_LB[m[50;76H[1m[7m2,26 37%[49;26H[?12l[?25h[?25l[m[51;73H~@k[49;26H[51;73H   [49;26H[1;49r[49;1H
[1;51r[49;1H[96m#and small enough to not compromise the collection performance[m[50;76H[1m[7m3,26 39%[49;26H[?12l[?25h[?25l[m[51;73H~@k[49;26H[51;73H   [48;26H[50;76H[1m[7m2,[48;26H[?12l[?25h[?25l[m[51;73H~@k[48;26H[51;73H   [47;26H[50;76H[1m[7m1,[47;26H[?12l[?25h[?25l[m[51;73H~@k[47;26H[51;73H   [46;1H[50;75H[1m[7m 70,0 [46;1H[?12l[?25h[?25l[m[51;73H~@k[46;1H[51;73H   [45;26H[50;75H[1m[7m69,26 [45;26H[?12l[?25h[?25l[m[51;73H~@k[45;26H[51;73H   [45;27H[50;79H[1m[7m7 [45;27H[?12l[?25h[?25l[m[51;73H~@k[45;27H[51;73H   [45;28H[50;79H[1m[7m8 [45;28H[?12l[?25h[?25l[m[51;73H~@k[45;28H[51;73H   [45;29H[50;79H[1m[7m9 [45;29H[?12l[?25h[?25l[m[51;73H~@k[45;29H[51;73H   [45;30H[50;78H[1m[7m30 [45;30H[?12l[?25h[?25l[m[51;73H~@k[45;30H[51;73H   [45;31H[50;79H[1m[7m1 [45;31H[?12l[?25h[?25l[m[51;73H~@k[45;31H[51;73H   [45;32H[50;79H[1m[7m2 [45;32H[?12l[?25h[?25l[m[51;73H~@k[45;32H[51;73H   [45;33H[50;79H[1m[7m3 [45;33H[?12l[?25h[50;79H4 [45;34H[50;79H5 [45;35H[?25l[m[51;73H~@k[45;35H[51;73H   [45;36H[50;79H[1m[7m6 [45;36H[?12l[?25h[?25l[m[51;73H~@k[45;36H[51;73H   [45;35H[50;79H[1m[7m5 [45;35H[?12l[?25h[?25l[m[51;73H~@k[45;35H[51;73H   [45;34H[50;79H[1m[7m4 [45;34H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[93mexport[m[1m[96m PATH_KEYPAIR=[m[93m"[m[95m/tmp[m[93m"

export[m[1m[96m DEFAULT_LOCAL_CONF_PATH=[m/root

[96m#NGINX[m
[93mexport[m[1m[96m NGINX_CONF_PATH=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m
[93mexport[m[1m[96m NGINX_CONF=[m[38;5;81m$NGINX_CONF_PATH[m/nginx.conf
[93mexport[m[1m[96m NGINX_TPL=[m[38;5;81m$NGINX_CONF_PATH[m/nginx.tpl

[96m#PHP-NGINX[m
[93mexport[m[1m[96m PHP_NGINX_CONF_PATH=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m
[93mexport[m[1m[96m PHP_NGINX_CONF=[m[38;5;81m$PHP_NGINX_CONF_PATH[m/nginx.conf
[93mexport[m[1m[96m PHP_NGINX_TPL=[m[38;5;81m$PHP_NGINX_CONF_PATH[m/nginx.tpl

[93mexport[m[1m[96m WWW_ROOT=[m[93m"[m[95m/root/www[m[93m"[m


[96m#DB[m
[93mexport[m[1m[96m DB_ROOT_USER=[m[93m"[m[95mroot[m[93m"
export[m[1m[96m DB_ROOT_PASSWORD=[m[93m"[m[95mtoto[m[93m"
export[m[1m[96m DB_USER=[m[93m"[m[95mrubis[m[93m"
export[m[1m[96m DB_PASSWORD=[m[93m"[m[95mrubis[m[93m"
export[m[1m[96m DB_NAME=[m[93m"[m[95mrubis[m[93m"
export[m[1m[96m DB_INFO_FILE=[m[93m"[m[95m/tmp/dbinfo[m[93m"
export[m[1m[96m DB_DEFAULT_HOST=[m[93m"[m[95mlocalhost[m[93m"
export[m[1m[96m DB_SCRIPT_PATH=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m
[93mexport[m[1m[96m DB_DATA_SCRIPT=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/rubis.sql
[93mexport[m[1m[96m DB_GRANTS_SCRIPT=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/grants.sql


[93mexport[m[1m[96m LB_PORT=[m[95m8080[m
[93mexport[m[1m[96m WORKER_PORT=[m[95m8080[m

[96m#periode a laquelle on log le system d'une vm en seconde[m
[93mexport[m[1m[96m PERIODE_LOG_SYSTEM=[m[95m20[m

[96m#periode a laquelle on log le nginx en seconde[m
[93mexport[m[1m[96m PERIODE_LOG_LB=[m[95m20[m


[93mexport[m[1m[96m FILE_LOG_SYSTEM=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/system.log
[93mexport[m[1m[96m FILE_LOG_NGINX=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/access_nginx.log
[93mexport[m[1m[96m FILE_LOG_LB=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/nginx_report.log
[93mexport[m[1m[96m ADRESSE_IP_SERVER_[m[1m[30m[103mRED[m[1m[96mIS=[m10.0.0.1

[96m#this number should be great enough to 
#comprise all the log records since the last $PERIODE_LOG_LB
#and small enough to not compromise the collection performance[m
[1m[7m../common/util.sh                                                         69,34 40%[44;34H[?12l[?25h[27m[23m[m[H[2J[?25l[2;1H[93mexport[m[1m[96m PATH_KEYPAIR=[m[93m"[m[95m/tmp[m[93m"

export[m[1m[96m DEFAULT_LOCAL_CONF_PATH=[m/root

[96m#NGINX[m
[93mexport[m[1m[96m NGINX_CONF_PATH=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m
[93mexport[m[1m[96m NGINX_CONF=[m[38;5;81m$NGINX_CONF_PATH[m/nginx.conf
[93mexport[m[1m[96m NGINX_TPL=[m[38;5;81m$NGINX_CONF_PATH[m/nginx.tpl

[96m#PHP-NGINX[m
[93mexport[m[1m[96m PHP_NGINX_CONF_PATH=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m
[93mexport[m[1m[96m PHP_NGINX_CONF=[m[38;5;81m$PHP_NGINX_CONF_PATH[m/nginx.conf
[93mexport[m[1m[96m PHP_NGINX_TPL=[m[38;5;81m$PHP_NGINX_CONF_PATH[m/nginx.tpl

[93mexport[m[1m[96m WWW_ROOT=[m[93m"[m[95m/root/www[m[93m"[m


[96m#DB[m
[93mexport[m[1m[96m DB_ROOT_USER=[m[93m"[m[95mroot[m[93m"
export[m[1m[96m DB_ROOT_PASSWORD=[m[93m"[m[95mtoto[m[93m"
export[m[1m[96m DB_USER=[m[93m"[m[95mrubis[m[93m"
export[m[1m[96m DB_PASSWORD=[m[93m"[m[95mrubis[m[93m"
export[m[1m[96m DB_NAME=[m[93m"[m[95mrubis[m[93m"
export[m[1m[96m DB_INFO_FILE=[m[93m"[m[95m/tmp/dbinfo[m[93m"
export[m[1m[96m DB_DEFAULT_HOST=[m[93m"[m[95mlocalhost[m[93m"
export[m[1m[96m DB_SCRIPT_PATH=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m
[93mexport[m[1m[96m DB_DATA_SCRIPT=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/rubis.sql
[93mexport[m[1m[96m DB_GRANTS_SCRIPT=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/grants.sql


[93mexport[m[1m[96m LB_PORT=[m[95m8080[m
[93mexport[m[1m[96m WORKER_PORT=[m[95m8080[m

[96m#periode a laquelle on log le system d'une vm en seconde[m
[93mexport[m[1m[96m PERIODE_LOG_SYSTEM=[m[95m20[m

[96m#periode a laquelle on log le nginx en seconde[m
[93mexport[m[1m[96m PERIODE_LOG_LB=[m[95m20[m


[93mexport[m[1m[96m FILE_LOG_SYSTEM=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/system.log
[93mexport[m[1m[96m FILE_LOG_NGINX=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/access_nginx.log
[93mexport[m[1m[96m FILE_LOG_LB=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m/nginx_report.log
[93mexport[m[1m[96m ADRESSE_IP_SERVER_[m[1m[30m[103mRED[m[1m[96mIS=[m10.0.0.1

[96m#this number should be great enough to 
#comprise all the log records since the last $PERIODE_LOG_LB
#and small enough to not compromise the collection performance[m
[1m[7m../common/util.sh                                                         69,34 39%[45;34H[?12l[?25h[?25l[m[51;73H~@k[45;34H[51;73H   [46;1H[50;75H[1m[7m 70,0 [46;1H[?12l[?25h[?25l[m[51;73H~@k[46;1H[51;73H   [45;34H[50;75H[1m[7m69,34 [45;34H[?12l[?25h[?25l[m[51;73H^[[45;34H[?12l[?25h[?25l[51;73H  [45;34H[?12l[?25h[?25l[51;73H:[45;34H[51;73H[K[51;1H:[?12l[?25h [?25l[45;34H[?12l[?25h[?25l[51;73H~@k[45;34H[51;73H   [45;35H[50;79H[1m[7m5 [45;35H[?12l[?25h[?25l[m[51;73H~@k[45;35H[51;73H   [45;36H[50;79H[1m[7m6 [45;36H[?12l[?25h[?25l[m[51;73H~@k[45;36H[51;73H   [45;37H[50;79H[1m[7m7 [45;37H[?12l[?25h[?25l[m[51;73H~@k[45;37H[51;73H   [45;38H[50;79H[1m[7m8 [45;38H[?12l[?25h[?25l[m[51;73H~@k[45;38H[51;73H   [45;39H[50;79H[1m[7m9 [45;39H[?12l[?25h[?25l[m[51;73H~@k[45;39H[51;73H   [46;1H[50;75H[1m[7m 70,0 [46;1H[?12l[?25h[?25l[m[51;73H~@k[46;1H[51;73H   [47;1H[50;77H[1m[7m1,1 [47;1H[?12l[?25h[?25l[m[51;73H~@k[47;1H[51;73H   [46;1H[50;77H[1m[7m0,0 [46;1H[?12l[?25h[?25l[m[51;73H~@k[46;1H[51;73H   [45;1H[50;76H[1m[7m69,1 [45;1H[?12l[?25h[?25l[m[51;73H~@k[45;1H[51;73H   [44;1H[50;77H[1m[7m8,[44;1H[?12l[?25h[?25l[m[51;73H~@k[44;1H[51;73H   [45;1H[50;77H[1m[7m9,[45;1H[?12l[?25h[?25l[m[51;73H~@k[45;1H[51;73H   [46;1H[50;76H[1m[7m70,0 [46;1H[?12l[?25h[?25l[m[51;73H~@k[46;1H[51;73H   [47;1H[50;77H[1m[7m1,1 [47;1H[?12l[?25h[?25l[m[51;73H~@k[47;1H[51;73H   [46;1H[50;77H[1m[7m0,0 [46;1H[?12l[?25h[?25l[m[51;73H~@k[46;1H[51;73H   [45;1H[50;76H[1m[7m69,1 [45;1H[?12l[?25h[?25l[m[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[51;73H^[[45;1H[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[51;73H^[[45;1H[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[?12l[?25h[?25l[51;73H^[[45;1H[?12l[?25h[?25l[51;73H  [45;1H[51;73H^[[45;1H[51;73H  [45;1H[?12l[?25h[?25l[51;73H:[45;1H[51;73H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica/apicloud$ [Kfalvaresdeoliveira@flyon:~/elastica/apicloud$ vim ../common/util.sh 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"../common/util.sh" 110L, 2763C[>c[1;1H[93mexport[m[1m[96m G5K_USER_PATH=[m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/tmp/usr[m[93m"
export[m[1m[96m G5K_PWD_PATH=[m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/tmp/pwd[m[93m"

export[m[1m[96m OPENSTACK_CAMPAIGN_HOME=[m~/openstack-campaign

[93mexport[m[1m[96m RESERVATION_NODES_FILE=[m[38;5;81m$PROJECT_PATH[m/tmp/reservation_nodes
[93mexport[m[1m[96m KVLAN_NODES_FILE=[m[38;5;81m$PROJECT_PATH[m/tmp/kvlan_nodes
[93mexport[m[1m[96m DEFAULT_NB_NODES=[m[95m2[m
[93mexport[m[1m[96m DEFAULT_NB_HOURS=[m[95m2[m[13;1H[93mexport[m[1m[96m PATH_IMAGE_VM=[m[38;5;81m$HOME[m
[93mexport[m[1m[96m FILE_IMAGE_VM=[m[93m"[m[95mubuntu-12.04-server-cloudimg-amd64-disk1.img[m[93m"
export[m[1m[96m numkavlan=[m[95m4[m
[93mexport[m[1m[96m key=[mkey
[93mexport[m[1m[96m sec_group=[m[93m"[m[95msec_group[m[93m"

export[m[1m[96m name_image_LB=[m[93m"[m[95mLoadBalancerImage[m[93m"
export[m[1m[96m name_image_worker=[m[93m"[m[95mWorkerImage[m[93m"
export[m[1m[96m name_image_DB=[m[93m"[m[95mDatabaseImage[m[93m"[m

[96m#doit etre executer en root au demarage d'une vm[m
[93mexport[m[1m[96m script_start_services=[m[93m"[m[95m/root/start-services.sh[m[93m"

export[m[1m[96m PATH_KEYPAIR=[m[93m"[m[95m/tmp[m[93m"

export[m[1m[96m DEFAULT_LOCAL_CONF_PATH=[m/root

[96m#NGINX[m
[93mexport[m[1m[96m NGINX_CONF_PATH=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m
[93mexport[m[1m[96m NGINX_CONF=[m[38;5;81m$NGINX_CONF_PATH[m/nginx.conf
[93mexport[m[1m[96m NGINX_TPL=[m[38;5;81m$NGINX_CONF_PATH[m/nginx.tpl

[96m#PHP-NGINX[m
[93mexport[m[1m[96m PHP_NGINX_CONF_PATH=[m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m
[93mexport[m[1m[96m PHP_NGINX_CONF=[m[38;5;81m$PHP_NGINX_CONF_PATH[m/nginx.conf
[93mexport[m[1m[96m PHP_NGINX_TPL=[m[38;5;81m$PHP_NGINX_CONF_PATH[m/nginx.tpl

[93mexport[m[1m[96m WWW_ROOT=[m[93m"[m[95m/root/www[m[93m"[m


[96m#DB[m
[93mexport[m[1m[96m DB_ROOT_USER=[m[93m"[m[95mroot[m[93m"
export[m[1m[96m DB_ROOT_PASSWORD=[m[93m"[m[95mtoto[m[93m"
export[m[1m[96m DB_USER=[m[93m"[m[95mrubis[m[93m"
export[m[1m[96m DB_PASSWORD=[m[93m"[m[95mrubis[m[93m"
export[m[1m[96m DB_NAME=[m[93m"[m[95mrubis[m[93m"
export[m[1m[96m DB_INFO_FILE=[m[93m"[m[95m/tmp/dbinfo[m[93m"[m
[1m[7m../common/util.sh                                                           1,1 Top[1;1H[?12l[?25h[?25l[m[51;73H:[1;1H[51;1H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica/apicloud$ vim new_vm.sh 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"new_vm.sh" 107L, 3111C[>c[1;1H[96m#!/bin/bash

#doit √™tre execut√©  sur le cloud controler[m

[93mif ![m [93m[[m [93m-d[m /share [93m][m || [93m![m [93m[[m [93m-f[m /root/openrc [93m]
then[7;9Hecho[m[95m [m[93m"[m[95mdoit etre execute sur le cloud controler[m[93m"[8;9Hexit[m [95m1[m
[93mfi
export[m[1m[96m PROJECT_PATH=[m/share
[93mcd[m [38;5;81m$PROJECT_PATH[m

[93msource[m [38;5;81m$PROJECT_PATH[m/common/util.sh

[1m[96musage[m=[93m"[m[38;5;81m$0[m[95m <vm_flavor> <name_vm> <LB|w|db> <name_tier>[m[93m"

if [[m [38;5;81m$#[m [93m-ne[m [95m4[m [93m]
then[19;9Hecho[m[95m [m[38;5;81m$usage[m[20;9H[93mexit[m [95m1[m
[93mfi[m

[1m[96mflavor[m=[38;5;81m$1[m
[1m[96mname_vm[m=[38;5;81m$2[m
[93mtype=[m[38;5;81m$3[m
[1m[96mname_tier[m=[38;5;81m$4[m


[93mif [[m [93m"[m[38;5;81m$type[m[93m"[m [93m=[m [95m"LB"[m [93m]
then[m[31;9H[1m[96mname_image[m=[38;5;81m$name_image_LB[m
[93melif[m [93m[[m [93m"[m[38;5;81m$type[m[93m"[m [93m=[m [95m"w"[m [93m]
then[m[34;9H[1m[96mname_image[m=[38;5;81m$name_image_worker[m
[93melif[m [93m[[m [93m"[m[38;5;81m$type[m[93m"[m [93m=[m [95m"db"[m [93m]
then[m[37;9H[1m[96mname_image[m=[38;5;81m$name_image_DB[m
[93melse[39;9Hecho[m[95m [m[38;5;81m$usage[m[40;9H[93mexit[m [95m2[m
[93mfi


if [[m [93m-z[m [93m"[m[38;5;224m`nova image-list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_image[m[38;5;224m`[m[93m"[m [93m]
then[m[46;9H[96m#il faut creer l'image disque en question[m[47;9H[38;5;81m$PROJECT_PATH[m/apicloud/create_disk_images.sh [38;5;81m$type[m
[93mfi[m
[1m[96mid_image[m=[38;5;224m`nova image-list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_image[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f[m[49;1H[94m@                                                                                  [m[50;1H[1m[7mnew_vm.sh                                                                   1,1 Top[1;1H[?12l[?25h[?25l[m[51;73H~@k[1;1H[51;73H   [2;1H[50;77H[1m[7m2,0 [2;1H[?12l[?25h[?25l[m[51;73H~@k[2;1H[51;73H   [3;1H[50;77H[1m[7m3,1 [3;1H[?12l[?25h[?25l[m[51;73H~@k[3;1H[51;73H   [4;1H[50;77H[1m[7m4,0 [4;1H[?12l[?25h[?25l[m[51;73H~@k[4;1H[51;73H   [5;1H[50;77H[1m[7m5,1 [5;1H[?12l[?25h[?25l[m[51;73H~@k[5;1H[51;73H   [6;1H[50;77H[1m[7m6,[6;1H[?12l[?25h[?25l[m[51;73H~@k[6;1H[51;73H   [7;8H[50;77H[1m[7m7,[7;8H[?12l[?25h[?25l[m[51;73H~@k[7;8H[51;73H   [1;9H[1;49r[1;1H[46M[1;51r[3;1H[1m[96mid_image[m=[38;5;224m`nova image-list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_image[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -ff[4;1H2`[m

[96m#if [ -z "`nova image-list | grep $name_image`" ]
#then
#       #il faut creer l'image disque en question
#       $PROJECT_PATH/apicloud/create_disk_images.sh $type
#fi

#netid=$(neutron subnet-list | grep "public" |tr '|' ' '| tr -s ' '| cut -d ' ' -f22[13;1H)[m
[93mstart=[m[38;5;224m`date +%s%N | cut -b1-13`[m


nova boot [38;5;224m--nic[m net-[1m[96mid[m=[38;5;81m$([m[38;5;224mneutron net-show -c id -f value private[m[38;5;81m)[m [38;5;224m--flavor[m [38;5;81m$flavor[m  [18;1H[38;5;224m--security_groups[m [38;5;81m$sec_group[m [38;5;224m--image[m [38;5;81m$id_image[m  [38;5;224m--key_name[m [38;5;81m$key[m [38;5;224m--poll[m [38;5;81m$name_vm[m


[96m#nova boot --nic net-id=$netid --flavor $flavor --security_groups $sec_group --imagg[22;1He $id_image  --key_name $key --poll $name_vm[m

[1m[96mip_adress[m=[38;5;81m$([m[38;5;224mnova floating-ip-create public |[m[93mgrep[m[38;5;224m public | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cuu[25;1Ht -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f3[m[38;5;81m)[m

[93mecho[m[95m [m[93m"[m[95mAttaching [m[38;5;81m$ip_adress[m[95m to [m[38;5;81m$name_vm[m[93m"[m
nova add-floating-ip [38;5;81m$name_vm[m [38;5;81m$ip_adress[m

[96m#ip_adress=`nova list | grep "$name_vm" | tr '|' ' '| tr -s ' '| cut -d ' ' -f5 | cc[31;1Hut -d '=' -f2`[m

[93mrm[m [38;5;224m-f[m [38;5;81m$HOME[m/.ssh/known_hosts
[93mecho[m[95m -n [m[93m"[m[95mtrying to connect to [m[38;5;81m$name_vm[m[95m ([m[38;5;81m$ip_adress[m[95m)[m[93m"[m
ssh [38;5;224m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_adress[m [38;5;224m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95mecho cc[36;1Honnection succeeded[m[93m"[m [95m2[m[93m>[m /dev/null
[1m[96mok[m=[38;5;81m$?[m
[93mwhile [[m [38;5;81m$ok[m [93m-ne[m [95m0[m [93m]
do[40;9Hecho[m[95m -n [m[93m"[m[95m.[m[93m"[41;9Hsleep[m [95m3[m[42;9Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_adress[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsaa[43;1H [93m"[m[95mecho connection succeeded[m[93m"[m [95m2[m[93m>[m /dev/null[44;9H[1m[96mok[m=[38;5;81m$?[m
[93mdone[m
[96m#il faut sp√©cifier le nom du tier √† la machine dans le fichier $DEFAULT_LOCAL_CONF__[47;1HPATH/name_tier.info[m
ssh [38;5;224m-i[m /tmp/id_rsa ubuntu@[38;5;81m$ip_adress[m [93m"[m[95m(echo '127.0.0.1 [m[38;5;81m$name_vm[m[95m' ; cat /etc/hosts)  [49;1H> tmp[m[93m"[m[51;1H[K[50;76H[1m[7m47,2 67%[1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [1;1H[1;49r[1;1H[45M[1;51r[5;1Hssh [38;5;224m-i[m /tmp/id_rsa ubuntu@[38;5;81m$ip_adress[m [93m"[m[95mcat tmp > /etc/hosts[m[93m"[m

ssh [38;5;224m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_adress[m [38;5;224m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95msudo ee[8;1Hcho [m[38;5;81m$name_tier[m[95m > [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[95m/name_tier.info[m[93m"[m

ssh [38;5;224m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_adress[m [38;5;224m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95mrm -f  [11;1H/tmp/flag && touch /tmp/flag[m[93m"[m
ssh [38;5;224m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_adress[m [38;5;224m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95msudo [m[38;5;81m$$[13;1Hscript_start_services[m[95m && rm -f /tmp/flag[m[93m"[m &

[96m#on ferme la connexion[m
[93mecho[m[95m -n [m[93m"[m[95mclosing conection[m[93m"
while [[m [38;5;224m`ssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m ubuntu@[m[38;5;81m$ip_adress[m[38;5;224m -i [m[38;5;81m$PATH_KEYPAIR[m[38;5;224m/id_rss[18;1Ha [m[93m"[m[95m[ -e /tmp/flag ][m[93m"[m[38;5;224m`[m  [93m]
do[20;9Hecho[m[95m -n [m[93m"[m[95m.[m[93m"
done[m
[1m[96mtokill[m=[38;5;224m`ps aux | [m[93mgrep[m[38;5;224m  [m[38;5;81m$script_start_services[m[38;5;224m | [m[93mgrep[m[38;5;224m -v [m[93m"[m[95mgrep[m[93m"[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -dd[23;1H [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m2[m[38;5;224m`[m
[93mkill[m [95m-9[m [38;5;81m$tokill[m
[93mecho[m[95m -n [m[93m"[m[95mconection closed[m[93m"[m


[1m[96mstop1[m=[38;5;224m`date +%s%N | cut -b1-13`[m


[93mecho[m[95m [m[93m"[m[95mtemps de demarage = [m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$stop1[m[38;5;224m - [m[38;5;81m$start[m[38;5;224m`[m[93m"[m
[94m~                                                                                  [33;1H~                                                                                  [34;1H~                                                                                  [35;1H~                                                                                  [36;1H~                                                                                  [37;1H~                                                                                  [38;1H~                                                                                  [39;1H~                                                                                  [40;1H~                                                                                  [41;1H~                                                                                  [42;1H~                                                                                  [43;1H~                                                                                  [44;1H~                                                                                  [45;1H~                                                                                  [46;1H~                                                                                  [47;1H~                                                                                  [48;1H~                                                                                  [49;1H~                                                                                  [m[50;76H[1m[7m84,1 Bot[1;1H[?12l[?25h[?25l[m[51;73H~@k[1;1H[51;73H   [47;1H[1;49r[1;1H[46L[1;51r[1;9H[96m#il faut creer l'image disque en question[m[2;9H[38;5;81m$PROJECT_PATH[m/apicloud/create_disk_images.sh [38;5;81m$type[m
[93mfi[m
[1m[96mid_image[m=[38;5;224m`nova image-list | [m[93mgrep[m[38;5;224m [m[38;5;81m$name_image[m[38;5;224m | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -ff[5;1H2`[m

[96m#if [ -z "`nova image-list | grep $name_image`" ]
#then
#       #il faut creer l'image disque en question
#       $PROJECT_PATH/apicloud/create_disk_images.sh $type
#fi

#netid=$(neutron subnet-list | grep "public" |tr '|' ' '| tr -s ' '| cut -d ' ' -f22[14;1H)[m
[93mstart=[m[38;5;224m`date +%s%N | cut -b1-13`[m


nova boot [38;5;224m--nic[m net-[1m[96mid[m=[38;5;81m$([m[38;5;224mneutron net-show -c id -f value private[m[38;5;81m)[m [38;5;224m--flavor[m [38;5;81m$flavor[m  [19;1H[38;5;224m--security_groups[m [38;5;81m$sec_group[m [38;5;224m--image[m [38;5;81m$id_image[m  [38;5;224m--key_name[m [38;5;81m$key[m [38;5;224m--poll[m [38;5;81m$name_vm[m


[96m#nova boot --nic net-id=$netid --flavor $flavor --security_groups $sec_group --imagg[23;1He $id_image  --key_name $key --poll $name_vm[m

[1m[96mip_adress[m=[38;5;81m$([m[38;5;224mnova floating-ip-create public |[m[93mgrep[m[38;5;224m public | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m| tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m| cuu[26;1Ht -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f3[m[38;5;81m)[m

[93mecho[m[95m [m[93m"[m[95mAttaching [m[38;5;81m$ip_adress[m[95m to [m[38;5;81m$name_vm[m[93m"[m
nova add-floating-ip [38;5;81m$name_vm[m [38;5;81m$ip_adress[m

[96m#ip_adress=`nova list | grep "$name_vm" | tr '|' ' '| tr -s ' '| cut -d ' ' -f5 | cc[32;1Hut -d '=' -f2`[m

[93mrm[m [38;5;224m-f[m [38;5;81m$HOME[m/.ssh/known_hosts
[93mecho[m[95m -n [m[93m"[m[95mtrying to connect to [m[38;5;81m$name_vm[m[95m ([m[38;5;81m$ip_adress[m[95m)[m[93m"[m
ssh [38;5;224m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_adress[m [38;5;224m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsa [93m"[m[95mecho cc[37;1Honnection succeeded[m[93m"[m [95m2[m[93m>[m /dev/null
[1m[96mok[m=[38;5;81m$?[m
[93mwhile [[m [38;5;81m$ok[m [93m-ne[m [95m0[m [93m]
do[41;9Hecho[m[95m -n [m[93m"[m[95m.[m[93m"[42;9Hsleep[m [95m3[m[43;9Hssh [93m-o[m [93m"[m[95mStrictHostKeyChecking no[m[93m"[m ubuntu@[38;5;81m$ip_adress[m [93m-i[m [38;5;81m$PATH_KEYPAIR[m/id_rsaa[44;1H [93m"[m[95mecho connection succeeded[m[93m"[m [95m2[m[93m>[m /dev/null[45;9H[1m[96mok[m=[38;5;81m$?[m
[93mdone[m


[94m@                                                                                  [m[50;81H[1m[7m66%[47;1H[?12l[?25h[?25l[m[51;73H~@k[47;1H[51;73H   [46;1H[50;77H[1m[7m3,[46;1H[?12l[?25h[?25l[m[51;73H~@k[46;1H[51;73H   [45;8H[50;77H[1m[7m2,[45;8H[?12l[?25h[?25l[m[51;73H~@k[45;8H[51;73H   [43;8H[50;77H[1m[7m1,[43;8H[?12l[?25h[?25l[m[51;73H~@k[43;8H[51;73H   [42;8H[50;77H[1m[7m0,[42;8H[?12l[?25h[?25l[m[51;73H~@k[42;8H[51;73H   [41;8H[50;76H[1m[7m79,[41;8H[?12l[?25h[?25l[m[51;73H~@k[41;8H[51;73H   [40;1H[50;77H[1m[7m8,[40;1H[?12l[?25h[?25l[m[51;73H~@k[40;1H[51;73H   [39;1H[50;77H[1m[7m7,[39;1H[?12l[?25h[?25l[m[51;73H~@k[39;1H[51;73H   [38;1H[50;77H[1m[7m6,[38;1H[?12l[?25h[?25l[m[51;73H~@k[38;1H[51;73H   [36;1H[50;77H[1m[7m5,[36;1H[?12l[?25h[?25l[m[51;73H~@k[36;1H[51;73H   [35;1H[50;77H[1m[7m4,[35;1H[?12l[?25h[?25l[m[51;73H~@k[35;1H[51;73H   [34;1H[50;77H[1m[7m3,[34;1H[?12l[?25h[?25l[m[51;73H~@k[34;1H[51;73H   [33;1H[50;77H[1m[7m2,0 [33;1H[?12l[?25h[?25l[m[51;73H~@k[33;1H[51;73H   [31;1H[50;77H[1m[7m1,1 [31;1H[?12l[?25h[?25l[m[51;73H~@k[31;1H[51;73H   [30;1H[50;77H[1m[7m0,0 [30;1H[?12l[?25h[?25l[m[51;73H~@k[30;1H[51;73H   [29;1H[50;76H[1m[7m69,1 [29;1H[?12l[?25h[?25l[m[51;73H~@k[29;1H[51;73H   [28;1H[50;77H[1m[7m8,[28;1H[?12l[?25h[?25l[m[51;73H~@k[28;1H[51;73H   [27;1H[50;77H[1m[7m7,0 [27;1H[?12l[?25h[?25l[m[51;73H~@k[27;1H[51;73H   [28;1H[50;77H[1m[7m8,1 [28;1H[?12l[?25h[?25l[m[51;73H~@k[28;1H[51;73H   [29;1H[50;77H[1m[7m9,[29;1H[?12l[?25h[?25l[m[51;73H~@k[29;1H[51;73H   [30;1H[50;76H[1m[7m70,0 [30;1H[?12l[?25h[?25l[m[51;73H~@k[30;1H[51;73H   [29;1H[50;76H[1m[7m69,1 [29;1H[?12l[?25h[?25l[m[51;73H~@k[29;1H[51;73H   [30;1H[50;76H[1m[7m70,0 [30;1H[?12l[?25h[?25l[m[51;73H~@k[30;1H[51;73H   [29;1H[50;76H[1m[7m69,1 [29;1H[?12l[?25h[?25l[m[51;73H:[29;1H[51;73H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica/apicloud$ ifconfig
bash: ifconfig: command not found
falvaresdeoliveira@flyon:~/elastica/apicloud$ ifconfigvim new_vm.sh [6Pifconfig[Kvim ~/xp5k-openstack/
dashboard_tunnels.sh  README.md             scenarios/
.gem/                 .restfully/           setup_env.sh
Gemfile               .ruby-gemset          tasks/
Gemfile.lock          .ruby-version         xp3.conf
.git/                 _scenario.bkp1        .xp_cache
.gitignore            _scenario.bkp2        xp.conf
provision/            scenario.bkp2.rb      
Rakefile              scenario.bkp.rb       
falvaresdeoliveira@flyon:~/elastica/apicloud$ vim ~/xp5k-openstack/scenarios/
elastica/                           liberty_multinodes_singleinterface/
liberty_elastica/                   liberty_starter_kit/
liberty_multinodes/                 
falvaresdeoliveira@flyon:~/elastica/apicloud$ vim ~/xp5k-openstack/scenarios/libertyy_elastica/
g5k_networks.yml  hiera/            Puppetfile        
.git/             .interfaces.yml   README.md         
.gitignore        puppet/           tasks/            
falvaresdeoliveira@flyon:~/elastica/apicloud$ vim ~/xp5k-openstack/scenarios/libertyy_elastica/tasks/
interfaces.rb  scenario.rb    
falvaresdeoliveira@flyon:~/elastica/apicloud$ vim ~/xp5k-openstack/scenarios/libertyy_elastica/tasks/scenario.rb 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"~/xp5k-openstack/scenarios/liberty_elastica/tasks/scenario.rb"<k-openstack/scenarios/liberty_elastica/tasks/scenario.rb" 372L, 14760C[>c[1;1H[96m# Scenario dedicated Rake task
#

# Override OAR resources (tasks/jobs.rb)
# We uses 2 nodes (1 puppetserver and 1 controller) and a subnet for floating publii[6;1Hc IPs
#[m

[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:jobname[m]  ||= [38;5;224m'[m[95mliberty_elastica[m[38;5;224m'[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:site[m]     ||= [38;5;224m'[m[95mrennes[m[38;5;224m'[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:walltime[m] ||= [38;5;224m'[m[95m1:00:00[m[38;5;224m'[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:cluster[m]  ||= [38;5;224m''[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:vlantype[m] ||= [38;5;224m'[m[95mkavlan-local[m[38;5;224m'[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:computes[m] ||= [95m1[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:injectors[m] ||= [95m1[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:elastica_home[m] ||= [38;5;224m'[m[95m~/elastica[m[38;5;224m'[m

[96m# If cluster is defined[m
cluster = [38;5;224m"[m[95mand cluster='[m[38;5;224m"[m + [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:cluster[m] + [38;5;224m"[m[95m'[m[38;5;224m"[m [93mif[m ![38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:cluster[m]][20;1H.empty?

[96m# 1 puppet node + 1 controller node + x compute nodes[m
nodes = [95m2[m +  [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:injectors[m].to_i + [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:computes[m].to_i

[96m# Resource request sent to the Grid'5000 API[m
resources = [] << [38;5;224m%{[m[95m{type='[m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:vlantype[m][38;5;224m}[m[95m'}/vlan=1+{virtual != 'none' [m[38;5;224m##[27;1H{[mcluster[38;5;224m}[m[95m}/nodes=[m[38;5;224m#{[mnodes[38;5;224m}[m[95m+slash_22=1,walltime=[m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:walltime[m][38;5;224m}}[m

[1m[96m@job_def[m[[95m:resources[m] = resources

[1m[96m@job_def[m[[95m:roles[m] << [38;5;121mXP5K[m::[38;5;121mRole[m.new({
  [95mname[m: [38;5;224m'[m[95mcontroller[m[38;5;224m'[m,
  [95msize[m: [95m1[m
})

[1m[96m@job_def[m[[95m:roles[m] << [38;5;121mXP5K[m::[38;5;121mRole[m.new({
  [95mname[m: [38;5;224m'[m[95minjector[m[38;5;224m'[m,
  [95msize[m: [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:injectors[m].to_i
})

[1m[96m@job_def[m[[95m:roles[m] << [38;5;121mXP5K[m::[38;5;121mRole[m.new({
  [95mname[m: [38;5;224m'[m[95mcompute[m[38;5;224m'[m,
  [95msize[m: [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:computes[m].to_i
})

[38;5;121mG5K_NETWORKS[m = [38;5;121mYAML[m.load_file([38;5;224m"[m[95mscenarios/liberty_elastica/g5k_networks.yml[m[38;5;224m"[m)

[96m# Override role 'all' (tasks/roles.rb)
#[m
[1m[7m~/xp5k-openstack/scenarios/liberty_elastica/tasks/scenario.rb               1,1 Top[1;1H[?12l[?25h[?25l[m[51;73H~@k[1;1H[51;73H   [2;1H[50;77H[1m[7m2,[2;1H[?12l[?25h[?25l[m[51;73H~@k[2;1H[51;73H   [3;1H[50;77H[1m[7m3,0 [3;1H[?12l[?25h[?25l[m[51;73H~@k[3;1H[51;73H   [4;1H[50;77H[1m[7m4,1 [4;1H[?12l[?25h[?25l[m[51;73H~@k[4;1H[51;73H   [5;1H[50;77H[1m[7m5,[5;1H[?12l[?25h[?25l[m[51;73H~@k[5;1H[51;73H   [7;1H[50;77H[1m[7m6,[7;1H[?12l[?25h[?25l[m[51;73H~@k[7;1H[51;73H   [8;1H[50;77H[1m[7m7,0 [8;1H[?12l[?25h[?25l[m[51;73H~@k[8;1H[51;73H   [9;1H[50;77H[1m[7m8,1 [9;1H[?12l[?25h[?25l[m[51;73H~@k[9;1H[51;73H   [10;1H[50;77H[1m[7m9,[10;1H[?12l[?25h[?25l[m[51;73H~@k[10;1H[51;73H   [11;1H[50;76H[1m[7m10,[11;1H[?12l[?25h[?25l[m[51;73H~@k[11;1H[51;73H   [12;1H[50;77H[1m[7m1,[12;1H[?12l[?25h[?25l[m[51;73H~@k[12;1H[51;73H   [13;1H[50;77H[1m[7m2,[13;1H[?12l[?25h[?25l[m[51;73H~@k[13;1H[51;73H   [14;1H[50;77H[1m[7m3,[14;1H[?12l[?25h[?25l[m[51;73H~@k[14;1H[51;73H   [15;1H[50;77H[1m[7m4,[15;1H[?12l[?25h[?25l[m[51;73H~@k[15;1H[51;73H   [16;1H[50;77H[1m[7m5,[16;1H[?12l[?25h[?25l[m[51;73H~@k[16;1H[51;73H   [17;1H[50;77H[1m[7m6,0 [17;1H[?12l[?25h[?25l[m[51;73H~@k[17;1H[51;73H   [18;1H[50;77H[1m[7m7,1 [18;1H[?12l[?25h[?25l[m[51;73H~@k[18;1H[51;73H   [19;1H[50;77H[1m[7m8,[19;1H[?12l[?25h[?25l[m[51;73H~@k[19;1H[51;73H   [21;1H[50;77H[1m[7m9,0 [21;1H[?12l[?25h[?25l[m[51;73H~@k[21;1H[51;73H   [22;1H[50;76H[1m[7m20,1 [22;1H[?12l[?25h[?25l[m[51;73H~@k[22;1H[51;73H   [23;1H[50;77H[1m[7m1,[23;1H[?12l[?25h[?25l[m[51;73H~@k[23;1H[51;73H   [24;1H[50;77H[1m[7m2,0 [24;1H[?12l[?25h[?25l[m[51;73H~@k[24;1H[51;73H   [25;1H[50;77H[1m[7m3,1 [25;1H[?12l[?25h[?25l[m[51;73H~@k[25;1H[51;73H   [26;1H[50;77H[1m[7m4,[26;1H[?12l[?25h[?25l[m[51;73H~@k[26;1H[51;73H   [28;1H[50;77H[1m[7m5,0 [28;1H[?12l[?25h[?25l[m[51;73H~@k[28;1H[51;73H   [29;1H[50;77H[1m[7m6,1 [29;1H[?12l[?25h[?25l[m[51;73H~@k[29;1H[51;73H   [30;1H[50;77H[1m[7m7,0 [30;1H[?12l[?25h[?25l[m[51;73H~@k[30;1H[51;73H   [31;1H[50;77H[1m[7m8,1 [31;1H[?12l[?25h[?25l[m[51;73H~@k[31;1H[51;73H   [32;1H[50;77H[1m[7m9,[32;1H[?12l[?25h[?25l[m[51;73H~@k[32;1H[51;73H   [33;1H[50;76H[1m[7m30,[33;1H[?12l[?25h[?25l[m[51;73H~@k[33;1H[51;73H   [34;1H[31;36H[46m{


}[m[50;77H[1m[7m1,[34;1H[?12l[?25h[?25l[m[51;73H~@k[34;1H[51;73H   [35;1H[31;36H{


}[50;77H[1m[7m2,0 [35;1H[?12l[?25h[?25l[m[51;73H~@k[35;1H[51;73H   [36;1H[50;77H[1m[7m3,1 [36;1H[?12l[?25h[?25l[m[51;73H~@k[36;1H[51;73H   [37;1H[50;77H[1m[7m4,[37;1H[?12l[?25h[?25l[m[51;73H~@k[37;1H[51;73H   [38;1H[50;77H[1m[7m5,[38;1H[?12l[?25h[?25l[m[51;73H~@k[38;1H[51;73H   [39;1H[36;36H[46m{


}[m[50;77H[1m[7m6,[39;1H[?12l[?25h[?25l[m[51;73H~@k[39;1H[51;73H   [40;1H[36;36H{


}[50;77H[1m[7m7,0 [40;1H[?12l[?25h[?25l[m[51;73H~@k[40;1H[51;73H   [41;1H[50;77H[1m[7m8,1 [41;1H[?12l[?25h[?25l[m[51;73H~@k[41;1H[51;73H   [42;1H[50;77H[1m[7m9,[42;1H[?12l[?25h[?25l[m[51;73H~@k[42;1H[51;73H   [43;1H[50;76H[1m[7m40,[43;1H[?12l[?25h[?25l[m[51;73H~@k[43;1H[51;73H   [44;1H[41;36H[46m{


}[m[50;77H[1m[7m1,[44;1H[?12l[?25h[?25l[m[51;73H~@k[44;1H[51;73H   [45;1H[41;36H{


}[50;77H[1m[7m2,0 [45;1H[?12l[?25h[?25l[m[51;73H~@k[45;1H[51;73H   [46;1H[50;77H[1m[7m3,1 [46;1H[?12l[?25h[?25l[m[51;73H~@k[46;1H[51;73H   [47;1H[50;77H[1m[7m4,0 [47;1H[?12l[?25h[?25l[m[51;73H~@k[47;1H[51;73H   [48;1H[50;77H[1m[7m5,1 [48;1H[?12l[?25h[?25l[m[51;73H~@k[48;1H[51;73H   [49;1H[50;77H[1m[7m6,[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;1Hrole [38;5;224m'[m[95mall[m[38;5;224m'[m [93mdo[m[51;1H[K[50;77H[1m[7m7,1  0%[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;3Hroles [38;5;224m'[m[95mpuppetserver[m[38;5;224m'[m, [38;5;224m'[m[95minjector[m[38;5;224m'[m, [38;5;224m'[m[95mcontroller[m[38;5;224m'[m, [38;5;224m'[m[95mcompute[m[38;5;224m'[m[50;77H[1m[7m8,[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;1H[93mend[m[50;77H[1m[7m9,[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[50;76H[1m[7m50,0  1%[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [48;1H[1;49r[1;1H[2M[1;51r[49;1H[96m# Define OAR job (required)[m[50;77H[1m[7m1,[48;1H[?12l[?25h[?25l[m[51;73H~@k[48;1H[51;73H   [49;1H[50;77H[1m[7m2,1 [49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;1H[96m#[m[50;77H[1m[7m3,[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;1Hxp.define_job([1m[96m@job_def[m)[50;77H[1m[7m4,1  2%[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[50;77H[1m[7m5,0 [49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[50;77H[1m[7m6,[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;1H[96m# Define Kadeploy deployment (required)[m[50;77H[1m[7m7,1  3%[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;1H[96m#[m[50;77H[1m[7m8,[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;1Hxp.define_deployment([1m[96m@deployment_def[m)[50;77H[1m[7m9,[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[50;76H[1m[7m60,0  4%[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[50;77H[1m[7m1,[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;1Hnamespace [95m:scenario[m [93mdo[m[50;77H[1m[7m2,1 [49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[50;77H[1m[7m3,0 [49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;3H[96m# Required task[m[50;77H[1m[7m4,1  5%[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [48;1H[1;49r[1;1H[2M[1;51r[48;3Hdesc [38;5;224m'[m[95mMain task called at the end of `run` task[m[38;5;224m'[m
  task [95m:main[m [93mdo[m[50;77H[1m[7m5,[48;1H[?12l[?25h[?25l[m[51;73H~@k[48;1H[51;73H   [49;1H[50;77H[1m[7m6,[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;5H[96m# install vlan (force cache regeneration before)[m[50;77H[1m[7m7,[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;5H[38;5;121mRake[m::[38;5;121mTask[m[[38;5;224m'[m[95minterfaces:cache[m[38;5;224m'[m].execute[50;77H[1m[7m8,1  6%[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [48;1H[1;49r[1;1H[2M[1;51r[48;5H[96m# in this case, the vlan should be configured in the kadeploy configuration (see[49;1He deployment.rb)[m[50;77H[1m[7m9,[48;1H[?12l[?25h[?25l[m[51;73H~@k[48;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;5H[96m#Rake::Task['interfaces:vlan'].execute[m[50;76H[1m[7m70,1  7%[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [48;1H[1;49r[1;1H[2M[1;51r[48;5H[38;5;121mRake[m::[38;5;121mTask[m[[38;5;224m'[m[95mscenario:hiera:update[m[38;5;224m'[m].execute[50;77H[1m[7m1,[48;1H[?12l[?25h[?25l[m[51;73H~@k[48;1H[51;73H   [49;1H[50;77H[1m[7m2,[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;5H[96m# patch[m[50;77H[1m[7m3,[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;5H[38;5;121mRake[m::[38;5;121mTask[m[[38;5;224m'[m[95mscenario:os:patch[m[38;5;224m'[m].execute[50;77H[1m[7m4,1  8%[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;5H[38;5;121mRake[m::[38;5;121mTask[m[[38;5;224m'[m[95mpuppet:modules:upload[m[38;5;224m'[m].execute[50;77H[1m[7m5,[49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[50;77H[1m[7m6,0 [49;1H[?12l[?25h[?25l[m[51;73H~@k[49;1H[51;73H   [49;1H[1;49r[49;1H
[1;51r[49;5H[96m# run controller recipes [m[50;77H[1m[7m7,1 [49;1H[?12l[?25h[?25l[m[51;73H/[49;1H[51;73H[K[51;1H/[?12l[?25h172.16.65.11[?25l[?12l[?25h[?25l[38;5;224msearch hit BOTTOM, continuing at TOP[m[97m[41mE486: Pattern not found: 172.16.65.11[49;1H[?12l[?25h[?25l[m[51;73H:[49;1H[51;1H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica/apicloud$ vim ~/g[K
apps/
.bash_history
elastica/
elastica-fred/
.gem/
.lesshst
oarapi.subscript.3fJOu
oarapi.subscript.8ZIo3
oarapi.subscript.a8Wvs
oarapi.subscript.ANEZ8
oarapi.subscript.b1OFQ
oarapi.subscript.DQwhK
oarapi.subscript.foZ05
oarapi.subscript.hBqEE
oarapi.subscript.iIGlm
oarapi.subscript.JUjlX
oarapi.subscript.oKooP
oarapi.subscript.QtuId
oarapi.subscript.RgZS1
OAR.elasss.807751.stderr
OAR.elasss.807751.stdout
OAR.elastica.807748.stderr
OAR.elastica.807748.stdout
OAR.elastica.807754.stderr
OAR.elastica.807754.stdout
OAR.elastica.808064.stderr
OAR.elastica.808064.stdout
OAR.elastica.808082.stderr
OAR.elastica.808082.stdout
___openstack-campaign/
__openstack-campaign/
_openstack-campaign/
openstack-campaign/
public/
.puppet/
.puppetlabs/
.r10k/
reservation.sh
.restfully/
results/
.ssh/
.subversion/
sync-all.sh
synergy/
TP-GreenIT/
ubuntu-12.04-server-cloudimg-amd64-disk1.img
.vim/
.viminfo
xp5k-openstack/
falvaresdeoliveira@flyon:~/elastica/apicloud$ vim ~/[K/openstack-campaign/
bin/                  .gitignore            README.md
COPYING               lib/                  .rvmrc
Gemfile               modules/              TODO
Gemfile.lock          openstackg5k.gemspec  utils/
.git/                 Rakefile              
falvaresdeoliveira@flyon:~/elastica/apicloud$ vim ~/openstack-campaign/bin/openstackkg5k 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"~/openstack-campaign/bin/openstackg5k" 339L, 12861C[>c[1;1H[38;5;81m#!/usr/bin/env ruby[m
[96m# vi: set ft=ruby :
=begin

Author:: Sebastien Badia (<seb@sebian.fr>)
Date:: Mon Jun 04 23:22:33 +0200 2012

OpenStackg5k is designed for deploy OpenStack cloud midleware on Grid'5000.
For more information see <http://github.com/sbadia/openstack-campaign/> or
<https://www.grid5000.fr/mediawiki/index.php/OpenStack>
Copyright ¬© 2012  Sebastien Badia

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.

=end[m

[1m[96m$:[m << [38;5;121mFile[m.join([38;5;121mFile[m.dirname([95m__FILE__[m), [38;5;224m"[m[95m..[m[38;5;224m"[m, [38;5;224m"[m[95mlib[m[38;5;224m"[m)

[38;5;81mrequire[m [38;5;224m'[m[95mopenstackg5k[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mpuppetg5k[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mrubygems[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mpp[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mmixlib/cli[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mrestfully[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mnet/ssh[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mnet/scp[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mnet/ssh/multi[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mjson[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95myaml[m[38;5;224m'[m

[38;5;81minclude[m [38;5;121mOpenstackg5k[m
[38;5;81minclude[m [38;5;121mPuppetg5k[m

[38;5;81mclass[m [38;5;121mOpenstack[m
  [38;5;81minclude[m [38;5;121mMixlib[m::[38;5;121mCLI[m

  option [95m:no_clean[m,
    [95m:short[m[8C=> [38;5;224m"[m[95m-c[m[38;5;224m"[m,
[1m[7m~/openstack-campaign/bin/openstackg5k                                       1,1 Top[1;1H[?12l[?25h[?25l[m[51;73H~@k[1;1H[51;73H   [2;1H[50;77H[1m[7m2,[2;1H[?12l[?25h[?25l[m[51;73H~@k[2;1H[51;73H   [3;1H[50;77H[1m[7m3,[3;1H[?12l[?25h[?25l[m[51;73H~@k[3;1H[51;73H   [4;1H[50;77H[1m[7m4,0 [4;1H[?12l[?25h[?25l[m[51;73H/[4;1H[51;1H[K[51;1H/[?12l[?25h1[?25l[6;36H[7m[96m1[m[50;76H[1m[7m6,36 
[m/1[?12l[?25h0[?25l[27m[23m[m[H[2J[1;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95msed -e '/grid5000/d' -i /etc/apt/sources.list;app[2;1Ht-get update;apt-get install curl ntpdate lvm2 -y --force-yes[m[38;5;224m"[m, args = {[95m:showout[m =>>[3;1H [95mfalse[m})[4;7H[1m[96m$log[m.info [38;5;224m"[m[95m([m[38;5;224m#{[m[38;5;121mOpenstackg5k[m::time_elapsed[38;5;224m}[m[95ms) Install puppet....[m[38;5;224m"[m[5;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mhttps_proxy=\"http://proxy:3128\" curl -s https::[6;1H//raw.githubusercontent.com/sbadia/puppet-puppet/master/files/scripts/puppet_install[7;1Hl.sh | sudo PUPPET_VERSION=3.3.1 PROXYFIED=true PREVENT_UPDATE=no sh[m[38;5;224m"[m, args = {[95m:shoo[8;1Hwout[m => [95mtrue[m})[9;7Hsession.loop[10;7H[1m[96m$log[m.info [38;5;224m"[m[95m([m[38;5;224m#{[m[38;5;121mOpenstackg5k[m::time_elapsed[38;5;224m}[m[95ms) Syncronize clock with ntp....[m[38;5;224m"[m[11;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mntpdate ntp[m[38;5;224m"[m, args = {[95m:showout[m => [95mfalse[m})[12;7Hsession.loop[13;7H[93mif[m ! config[[95m:volumes[m].nil?[14;9H[1m[96m$log[m.info [38;5;224m"[m[95m([m[38;5;224m#{[m[38;5;121mOpenstackg5k[m::time_elapsed[38;5;224m}[m[95ms) Configure cinder-volumes (creatt[15;1He pv and vg)...[m[38;5;224m"[m[16;9H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mpvcreate /dev/sda2;vgcreate cinder-volumes /dee[17;1Hv/sda2[m[38;5;224m"[m,args = {[95m:showout[m => [95mfalse[m})[18;9Hsession.loop[19;7H[93mend[m[20;7Hgood.each [93mdo[m |[1m[96mnod[m|[21;9H[1m[96m$log[m.info [38;5;224m"[m[95m([m[38;5;224m#{[m[38;5;121mOpenstackg5k[m::time_elapsed[38;5;224m}[m[95ms) Upload puppet modules on [m[38;5;224m#{[mnod[38;5;224m}}[m[22;1H[95m...[m[38;5;224m"[m[23;9Hsystem([38;5;224m"[m[95mrsync --numeric-ids --archive --bwlimit=[m[7m[95m10[m[95m0000 --rsh ssh [m[38;5;224m#{[m[38;5;121mFile[m.joii[24;1Hn([38;5;224m'[m[95m./[m[38;5;224m'[m,[38;5;121mFile[m.dirname([95m__FILE__[m),[38;5;224m'[m[95m..[m[38;5;224m'[m,[38;5;224m'[m[95mmodules[m[38;5;224m'[m)[38;5;224m}[m[95m root@[m[38;5;224m#{[mnod[38;5;224m}[m[95m:/etc/puppet[m[38;5;224m"[m)[25;7H[93mend[m[26;7H[1m[96m$log[m.info [38;5;224m"[m[95mInstall puppetmaster storeconfigs...[m[38;5;224m"[m[27;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mpuppet apply --modulepath /etc/puppet/modules/ --[28;1He \"class { 'puppet::master': }\"[m[38;5;224m"[m,args = { [95m:group[m => [95m:cloud[m, [95m:critical[m => [95mtrue[m, [95m:ss[29;1Hhowout[m => [95mtrue[m})[30;7Hsession.loop[31;7H[1m[96m$log[m.info [38;5;224m"[m[95mInstall grizzly pre-requists on computes nodes...[m[38;5;224m"[m[32;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mpuppet apply --modulepath /etc/puppet/modules/ --[33;1He \"class { 'puppet::client': }\"[m[38;5;224m"[m,args = { [95m:group[m => [95m:compute[m, [95m:critical[m => [95mtrue[m,  [34;1H[95m:showout[m => [95mtrue[m})[35;7Hsession.loop[36;7H[96m# [m[30m[103mFIXME[m[96m a strange bug ? with puppet 2.7.12, --detailed-exitcodes seems to be  [37;1Hactivated by default... (return 2 if changes)[m[38;7H[1m[96m$log[m.info [38;5;224m"[m[95mInstall OpenStack using puppet... (cloud ctrl)[m[38;5;224m"[m[39;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mpuppet agent -t --server=[m[38;5;224m#{[mctrl.to_s[38;5;224m}[m[95m;echo $?[m[38;5;224m"[m,aa[40;1Hrgs = { [95m:group[m => [95m:cloud[m, [95m:critical[m => [95mtrue[m, [95m:showout[m => [95mtrue[m})[41;7Hsession.loop[42;7H[1m[96m$log[m.info [38;5;224m"[m[95mInstall OpenStack using puppet... (computes nodes)[m[38;5;224m"[m[43;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mpuppet agent -t --server=[m[38;5;224m#{[mctrl.to_s[38;5;224m}[m[95m;echo $?[m[38;5;224m"[m,aa[44;1Hrgs = { [95m:group[m => [95m:compute[m, [95m:critical[m => [95mtrue[m, [95m:showout[m => [95mtrue[m})[45;7Hsession.loop[46;7H[1m[96m$log[m.info [38;5;224m"[m[95m([m[38;5;224m#{[m[38;5;121mOpenstackg5k[m::time_elapsed[38;5;224m}[m[95ms) Finish install...[m[38;5;224m"[m[47;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mip link set dev br100 promisc on[m[38;5;224m"[m,args = { [95m:critt[48;1Hical[m => [95mfalse[m, [95m:showout[m => [95mfalse[m})[49;7Hsession.loop
[1m[7m~/openstack-campaign/bin/openstackg5k                                    198,57 59%[m[51;1H/10[?12l[?25h.[?25l[23;59H[7m[95m0[m[23Cii[24;1Hn[51;5H[?12l[?25h0[?25l[23;60H[7m[95m0[m[22Cii[24;1Hn[51;6H[?12l[?25h.[?25l[23;61H[7m[95m0[m[21Cii[24;1Hn[51;7H[?12l[?25h0[?25l[23;62H[7m[95m0[m[20Cii[24;1Hn[51;8H[?12l[?25h/.0.0[?25l[23;59H[95m0000[m[20Cii[24;1Hn[51;5H[?12l[?25h[?25l.0.0[51;8H[K[23;59H[7m[95m0000[m[20Cii[24;1Hn[51;4H[?12l[?25h\.0.0[?25l[27m[23m[m[H[2J[1;1H[38;5;81m#!/usr/bin/env ruby[m
[96m# vi: set ft=ruby :
=begin

Author:: Sebastien Badia (<seb@sebian.fr>)
Date:: Mon Jun 04 23:22:33 +0200 2012

OpenStackg5k is designed for deploy OpenStack cloud midleware on Grid'5000.
For more information see <http://github.com/sbadia/openstack-campaign/> or
<https://www.grid5000.fr/mediawiki/index.php/OpenStack>
Copyright ¬© 2012  Sebastien Badia

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.

=end[m

[1m[96m$:[m << [38;5;121mFile[m.join([38;5;121mFile[m.dirname([95m__FILE__[m), [38;5;224m"[m[95m..[m[38;5;224m"[m, [38;5;224m"[m[95mlib[m[38;5;224m"[m)

[38;5;81mrequire[m [38;5;224m'[m[95mopenstackg5k[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mpuppetg5k[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mrubygems[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mpp[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mmixlib/cli[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mrestfully[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mnet/ssh[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mnet/scp[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mnet/ssh/multi[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mjson[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95myaml[m[38;5;224m'[m

[38;5;81minclude[m [38;5;121mOpenstackg5k[m
[38;5;81minclude[m [38;5;121mPuppetg5k[m

[38;5;81mclass[m [38;5;121mOpenstack[m
  [38;5;81minclude[m [38;5;121mMixlib[m::[38;5;121mCLI[m

  option [95m:no_clean[m,
    [95m:short[m[8C=> [38;5;224m"[m[95m-c[m[38;5;224m"[m,
[1m[7m~/openstack-campaign/bin/openstackg5k                                       4,0 Top[m[51;1H/10\.0.0[?12l[?25h.0\.0[?25l[?12l[?25h.0[?25l[38;5;224msearch hit BOTTOM, continuing at TOP[m[97m[41mE486: Pattern not found: 10\.0\.0[m[51;34H[K[4;1H[?12l[?25h[?25l[51;73H^M[4;1H[51;73H  [5;1H[50;77H[1m[7m5,1 [5;1H[?12l[?25h[?25l[m[51;73H:[5;1H[51;1H[K[51;1H:[?12l[?25h [?25l[5;1H[?12l[?25h[?25l[51;73H/[5;1H[51;73H[K[51;1H/[?12l[?25h[?25l10\.0\.0[?12l[?25h[?25l[38;5;224msearch hit BOTTOM, continuing at TOP[m[97m[41mE486: Pattern not found: 10\.0\.0[m[51;34H[K[5;1H[?12l[?25h[?25l[51;73H:[5;1H[51;1H[K[51;1H:[?12l[?25h[?25lq[?12l[?25h[?25lw[?12l[?25h[?25lq![?12l[?25h[?25lset number[?12l[?25h[?25l[51;1H[K[5;1H[?12l[?25h[?25l[51;73H^[[5;1H[?12l[?25h[?25l[51;73H  [5;1H[?12l[?25h[?25l[51;73H^[[5;1H[?12l[?25h[?25l[51;73H  [5;1H[?12l[?25h[?25l[51;73H^[[5;1H[?12l[?25h[?25l[51;73H  [5;1H[?12l[?25h[?25l[51;73H~@k[5;1H[51;73H   [4;1H[50;77H[1m[7m4,0 [4;1H[?12l[?25h[?25l[m[51;73H~@k[4;1H[51;73H   [5;1H[50;77H[1m[7m5,1 [5;1H[?12l[?25h[?25l[m[51;73H~@k[5;1H[51;73H   [6;1H[50;77H[1m[7m6,[6;1H[?12l[?25h[?25l[m[51;73H~@k[6;1H[51;73H   [7;1H[50;77H[1m[7m7,0 [7;1H[?12l[?25h[?25l[m[51;73H~@k[7;1H[51;73H   [8;1H[50;77H[1m[7m8,1 [8;1H[?12l[?25h[?25l[m[51;73H~@k[8;1H[51;73H   [9;1H[50;77H[1m[7m9,[9;1H[?12l[?25h[?25l[m[51;73H~@k[9;1H[51;73H   [10;1H[50;76H[1m[7m10,[10;1H[?12l[?25h[?25l[m[51;73H~@k[10;1H[51;73H   [11;1H[50;77H[1m[7m1,[11;1H[?12l[?25h[?25l[m[51;73H~@k[11;1H[51;73H   [12;1H[50;77H[1m[7m2,0 [12;1H[?12l[?25h[?25l[m[51;73H~@k[12;1H[51;73H   [13;1H[50;77H[1m[7m3,1 [13;1H[?12l[?25h[?25l[m[51;73H~@k[13;1H[51;73H   [14;1H[50;77H[1m[7m4,[14;1H[?12l[?25h[?25l[m[51;73H~@k[14;1H[51;73H   [15;1H[50;77H[1m[7m5,[15;1H[?12l[?25h[?25l[m[51;73H~@k[15;1H[51;73H   [16;1H[50;77H[1m[7m6,[16;1H[?12l[?25h[?25l[m[51;73H~@k[16;1H[51;73H   [17;1H[50;77H[1m[7m7,0 [17;1H[?12l[?25h[?25l[m[51;73H~@k[17;1H[51;73H   [18;1H[50;77H[1m[7m8,1 [18;1H[?12l[?25h[?25l[m[51;73H~@k[18;1H[51;73H   [19;1H[50;77H[1m[7m9,[19;1H[?12l[?25h[?25l[m[51;73H~@k[19;1H[51;73H   [20;1H[50;76H[1m[7m20,[20;1H[?12l[?25h[?25l[m[51;73H~@k[20;1H[51;73H   [21;1H[50;77H[1m[7m1,[21;1H[?12l[?25h[?25l[m[51;73H~@k[21;1H[51;73H   [22;1H[50;77H[1m[7m2,0 [22;1H[?12l[?25h[?25l[m[51;73H~@k[22;1H[51;73H   [23;1H[50;77H[1m[7m3,1 [23;1H[?12l[?25h[?25l[m[51;73H~@k[23;1H[51;73H   [24;1H[50;77H[1m[7m4,[24;1H[?12l[?25h[?25l[m[51;73H~@k[24;1H[51;73H   [25;1H[50;77H[1m[7m5,0 [25;1H[?12l[?25h[?25l[m[51;73H~@k[25;1H[51;73H   [26;1H[50;77H[1m[7m6,1 [26;1H[?12l[?25h[?25l[m[51;73H~@k[26;1H[51;73H   [27;1H[50;77H[1m[7m7,0 [27;1H[?12l[?25h[?25l[m[51;73H~@k[27;1H[51;73H   [28;1H[50;77H[1m[7m8,1 [28;1H[?12l[?25h[?25l[m[51;73H~@k[28;1H[51;73H   [29;1H[50;77H[1m[7m9,0 [29;1H[?12l[?25h[?25l[m[51;73H/[29;1H[51;73H[K[51;1H/[?12l[?25h1[?25l[27m[23m[m[H[2J[2;3Hoption [95m:job_name[m,
    [95m:short[m[8C=> [38;5;224m"[m[95m-j JOB NAME[m[38;5;224m"[m,
    [95m:long[m[9C=> [38;5;224m"[m[95m--name JOB NAME[m[38;5;224m"[m,
    [95m:description[m  => [38;5;224m"[m[95m[auto] The name of the job (default: openstackg5k)[m[38;5;224m"[m,
    [95m:default[m      => [38;5;224m"[m[95mopenstackg5k[m[38;5;224m"[m

  option [95m:key[m,
    [95m:short[m[8C=> [38;5;224m"[m[95m-k KEY[m[38;5;224m"[m,
    [95m:long[m[9C=> [38;5;224m"[m[95m--key KEY[m[38;5;224m"[m,
    [95m:description[m  => [38;5;224m"[m[95m[auto] Name of then SSH key for the deployment (default: [m[38;5;224m#{[m[38;5;121mOpp[12;1Henstackg5k[m::ssh_key[38;5;224m}[m[95m)[m[38;5;224m"[m,
    [95m:default[m      => [38;5;121mOpenstackg5k[m::ssh_key

  option [95m:nodes[m,
    [95m:short[m[8C=> [38;5;224m"[m[95m-n NUM Nodes[m[38;5;224m"[m,
    [95m:long[m[9C=> [38;5;224m"[m[95m--nodes Num Nodes[m[38;5;224m"[m,
    [95m:description[m  => [38;5;224m"[m[95m[auto] Number of nodes (default: 2, min: 2)[m[38;5;224m"[m,
    [95m:default[m      => [95m2[m

  option [95m:site[m,
    [95m:short[m[8C=> [38;5;224m"[m[95m-s SITE[m[38;5;224m"[m,
    [95m:long[m[9C=> [38;5;224m"[m[95m--site SITE[m[38;5;224m"[m,
    [95m:description[m  => [38;5;224m"[m[95m[auto] Site to launch job (default: [m[38;5;224m#{%x[[m[95mhostname -f[m[38;5;224m][m.split([38;5;224m''[m[25;1H[95m.[m[38;5;224m'[m)[[7m[95m1[m][38;5;224m}[m[95m)[m[38;5;224m"[m,
    [95m:default[m      => [38;5;224m"#{%x[[m[95mhostname -f[m[38;5;224m][m.split([38;5;224m'[m[95m.[m[38;5;224m'[m)[[95m1[m][38;5;224m}"[m

  option [95m:base_uri[m,
    [95m:short[m[8C=> [38;5;224m"[m[95m-u URI[m[38;5;224m"[m,
    [95m:long[m[9C=> [38;5;224m"[m[95m--uri URI[m[38;5;224m"[m,
    [95m:description[m  => [38;5;224m"[m[95m[auto] API Base URI (default: stable API)[m[38;5;224m"[m,
    [95m:default[m      => [38;5;224m"[m[95mhttps://api.grid5000.fr/stable[m[38;5;224m"[m

  option [95m:volumes[m,
    [95m:short[m[8C=> [38;5;224m"[m[95m-v[m[38;5;224m"[m,
    [95m:long[m[9C=> [38;5;224m"[m[95m--volumes[m[38;5;224m"[m,
    [95m:description[m  => [38;5;224m"[m[95m       Enable Nova Volumes feature (ISCSI) (ubuntu-x64-br@sbaa[38;1Hdia/ubuntu-x64-1204-custom@sbadia)[m[38;5;224m"[m,
    [95m:boolean[m      => [95mtrue[m

  option [95m:version[m,
    [95m:short[m[8C=> [38;5;224m"[m[95m-V[m[38;5;224m"[m,
    [95m:long[m[9C=> [38;5;224m"[m[95m--version[m[38;5;224m"[m,
    [95m:description[m  => [38;5;224m"[m[95m       Show Openstackg5k version[m[38;5;224m"[m,
    [95m:boolean[m      => [95mtrue[m,
    [95m:proc[m[9C=> [93mlambda[m {|[1m[96mv[m| puts [38;5;121mOpenstackg5k[m::[38;5;121mVERSION[m},
    [95m:exit[m[9C=> [95m0[m

  option [95m:walltime[m,
[1m[7m~/openstack-campaign/bin/openstackg5k                                    101,88 26%[m[51;1H/10[27m[23m[m[H[2J[1;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95msed -e '/grid5000/d' -i /etc/apt/sources.list;app[2;1Ht-get update;apt-get install curl ntpdate lvm2 -y --force-yes[m[38;5;224m"[m, args = {[95m:showout[m =>>[3;1H [95mfalse[m})[4;7H[1m[96m$log[m.info [38;5;224m"[m[95m([m[38;5;224m#{[m[38;5;121mOpenstackg5k[m::time_elapsed[38;5;224m}[m[95ms) Install puppet....[m[38;5;224m"[m[5;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mhttps_proxy=\"http://proxy:3128\" curl -s https::[6;1H//raw.githubusercontent.com/sbadia/puppet-puppet/master/files/scripts/puppet_install[7;1Hl.sh | sudo PUPPET_VERSION=3.3.1 PROXYFIED=true PREVENT_UPDATE=no sh[m[38;5;224m"[m, args = {[95m:shoo[8;1Hwout[m => [95mtrue[m})[9;7Hsession.loop[10;7H[1m[96m$log[m.info [38;5;224m"[m[95m([m[38;5;224m#{[m[38;5;121mOpenstackg5k[m::time_elapsed[38;5;224m}[m[95ms) Syncronize clock with ntp....[m[38;5;224m"[m[11;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mntpdate ntp[m[38;5;224m"[m, args = {[95m:showout[m => [95mfalse[m})[12;7Hsession.loop[13;7H[93mif[m ! config[[95m:volumes[m].nil?[14;9H[1m[96m$log[m.info [38;5;224m"[m[95m([m[38;5;224m#{[m[38;5;121mOpenstackg5k[m::time_elapsed[38;5;224m}[m[95ms) Configure cinder-volumes (creatt[15;1He pv and vg)...[m[38;5;224m"[m[16;9H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mpvcreate /dev/sda2;vgcreate cinder-volumes /dee[17;1Hv/sda2[m[38;5;224m"[m,args = {[95m:showout[m => [95mfalse[m})[18;9Hsession.loop[19;7H[93mend[m[20;7Hgood.each [93mdo[m |[1m[96mnod[m|[21;9H[1m[96m$log[m.info [38;5;224m"[m[95m([m[38;5;224m#{[m[38;5;121mOpenstackg5k[m::time_elapsed[38;5;224m}[m[95ms) Upload puppet modules on [m[38;5;224m#{[mnod[38;5;224m}}[m[22;1H[95m...[m[38;5;224m"[m[23;9Hsystem([38;5;224m"[m[95mrsync --numeric-ids --archive --bwlimit=[m[7m[95m10[m[95m0000 --rsh ssh [m[38;5;224m#{[m[38;5;121mFile[m.joii[24;1Hn([38;5;224m'[m[95m./[m[38;5;224m'[m,[38;5;121mFile[m.dirname([95m__FILE__[m),[38;5;224m'[m[95m..[m[38;5;224m'[m,[38;5;224m'[m[95mmodules[m[38;5;224m'[m)[38;5;224m}[m[95m root@[m[38;5;224m#{[mnod[38;5;224m}[m[95m:/etc/puppet[m[38;5;224m"[m)[25;7H[93mend[m[26;7H[1m[96m$log[m.info [38;5;224m"[m[95mInstall puppetmaster storeconfigs...[m[38;5;224m"[m[27;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mpuppet apply --modulepath /etc/puppet/modules/ --[28;1He \"class { 'puppet::master': }\"[m[38;5;224m"[m,args = { [95m:group[m => [95m:cloud[m, [95m:critical[m => [95mtrue[m, [95m:ss[29;1Hhowout[m => [95mtrue[m})[30;7Hsession.loop[31;7H[1m[96m$log[m.info [38;5;224m"[m[95mInstall grizzly pre-requists on computes nodes...[m[38;5;224m"[m[32;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mpuppet apply --modulepath /etc/puppet/modules/ --[33;1He \"class { 'puppet::client': }\"[m[38;5;224m"[m,args = { [95m:group[m => [95m:compute[m, [95m:critical[m => [95mtrue[m,  [34;1H[95m:showout[m => [95mtrue[m})[35;7Hsession.loop[36;7H[96m# [m[30m[103mFIXME[m[96m a strange bug ? with puppet 2.7.12, --detailed-exitcodes seems to be  [37;1Hactivated by default... (return 2 if changes)[m[38;7H[1m[96m$log[m.info [38;5;224m"[m[95mInstall OpenStack using puppet... (cloud ctrl)[m[38;5;224m"[m[39;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mpuppet agent -t --server=[m[38;5;224m#{[mctrl.to_s[38;5;224m}[m[95m;echo $?[m[38;5;224m"[m,aa[40;1Hrgs = { [95m:group[m => [95m:cloud[m, [95m:critical[m => [95mtrue[m, [95m:showout[m => [95mtrue[m})[41;7Hsession.loop[42;7H[1m[96m$log[m.info [38;5;224m"[m[95mInstall OpenStack using puppet... (computes nodes)[m[38;5;224m"[m[43;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mpuppet agent -t --server=[m[38;5;224m#{[mctrl.to_s[38;5;224m}[m[95m;echo $?[m[38;5;224m"[m,aa[44;1Hrgs = { [95m:group[m => [95m:compute[m, [95m:critical[m => [95mtrue[m, [95m:showout[m => [95mtrue[m})[45;7Hsession.loop[46;7H[1m[96m$log[m.info [38;5;224m"[m[95m([m[38;5;224m#{[m[38;5;121mOpenstackg5k[m::time_elapsed[38;5;224m}[m[95ms) Finish install...[m[38;5;224m"[m[47;7H[38;5;121mOpenstackg5k[m::nexec(session,[38;5;224m"[m[95mip link set dev br100 promisc on[m[38;5;224m"[m,args = { [95m:critt[48;1Hical[m => [95mfalse[m, [95m:showout[m => [95mfalse[m})[49;7Hsession.loop
[1m[7m~/openstack-campaign/bin/openstackg5k                                    198,57 59%[m[51;1H/10[?12l[?25h\[?25l[27m[23m[m[H[2J[1;1H[38;5;81m#!/usr/bin/env ruby[m
[96m# vi: set ft=ruby :
=begin

Author:: Sebastien Badia (<seb@sebian.fr>)
Date:: Mon Jun 04 23:22:33 +0200 2012

OpenStackg5k is designed for deploy OpenStack cloud midleware on Grid'5000.
For more information see <http://github.com/sbadia/openstack-campaign/> or
<https://www.grid5000.fr/mediawiki/index.php/OpenStack>
Copyright ¬© 2012  Sebastien Badia

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.

=end[m

[1m[96m$:[m << [38;5;121mFile[m.join([38;5;121mFile[m.dirname([95m__FILE__[m), [38;5;224m"[m[95m..[m[38;5;224m"[m, [38;5;224m"[m[95mlib[m[38;5;224m"[m)

[38;5;81mrequire[m [38;5;224m'[m[95mopenstackg5k[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mpuppetg5k[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mrubygems[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mpp[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mmixlib/cli[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mrestfully[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mnet/ssh[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mnet/scp[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mnet/ssh/multi[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95mjson[m[38;5;224m'[m
[38;5;81mrequire[m [38;5;224m'[m[95myaml[m[38;5;224m'[m

[38;5;81minclude[m [38;5;121mOpenstackg5k[m
[38;5;81minclude[m [38;5;121mPuppetg5k[m

[38;5;81mclass[m [38;5;121mOpenstack[m
  [38;5;81minclude[m [38;5;121mMixlib[m::[38;5;121mCLI[m

  option [95m:no_clean[m,
    [95m:short[m[8C=> [38;5;224m"[m[95m-c[m[38;5;224m"[m,
[1m[7m~/openstack-campaign/bin/openstackg5k                                      29,0 Top[m[51;1H/10\[?12l[?25h.[?25l[?12l[?25h[?25l[38;5;224msearch hit BOTTOM, continuing at TOP[m[97m[41mE486: Pattern not found: 10\.[m[51;30H[K[29;1H[?12l[?25h[?25l[51;73H~@k[29;1H[51;73H   [30;1H[50;76H[1m[7m30,1 [30;1H[?12l[?25h[?25l[m[51;73H~@k[30;1H[51;73H   [31;1H[50;77H[1m[7m1,[31;1H[?12l[?25h[?25l[m[51;73H~@k[31;1H[51;73H   [32;1H[50;77H[1m[7m2,[32;1H[?12l[?25h[?25l[m[51;73H~@k[32;1H[51;73H   [33;1H[50;77H[1m[7m3,[33;1H[?12l[?25h[?25l[m[51;73H~@k[33;1H[51;73H   [34;1H[50;77H[1m[7m4,[34;1H[?12l[?25h[?25l[m[51;73H~@k[34;1H[51;73H   [35;1H[50;77H[1m[7m5,[35;1H[?12l[?25h[?25l[m[51;73H:[35;1H[51;1H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica/apicloud$ [Kfalvaresdeoliveira@flyon:~/elastica/apicloud$ cd ..
falvaresdeoliveira@flyon:~/elastica$ cd ..
falvaresdeoliveira@flyon:~$ cd xp5k-openstack/
falvaresdeoliveira@flyon:~/xp5k-openstack$ ls
dashboard_tunnels.sh  provision  _scenario.bkp1    scenario.bkp.rb  tasks
Gemfile		      Rakefile	 _scenario.bkp2    scenarios	    xp3.conf
Gemfile.lock	      README.md  scenario.bkp2.rb  setup_env.sh     xp.conf
falvaresdeoliveira@flyon:~/xp5k-openstack$ vim scenarios/liberty_
liberty_elastica/                   liberty_multinodes_singleinterface/
liberty_multinodes/                 liberty_starter_kit/
falvaresdeoliveira@flyon:~/xp5k-openstack$ vim scenarios/liberty_elastica/
g5k_networks.yml  hiera/            Puppetfile        
.git/             .interfaces.yml   README.md         
.gitignore        puppet/           tasks/            
falvaresdeoliveira@flyon:~/xp5k-openstack$ vim scenarios/liberty_elastica/tasks/
interfaces.rb  scenario.rb    
falvaresdeoliveira@flyon:~/xp5k-openstack$ vim scenarios/liberty_elastica/tasks/sce nario.rb 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"scenarios/liberty_elastica/tasks/scenario.rb" 372L, 14760C[>c[1;1H[96m# Scenario dedicated Rake task
#

# Override OAR resources (tasks/jobs.rb)
# We uses 2 nodes (1 puppetserver and 1 controller) and a subnet for floating publii[6;1Hc IPs
#[m

[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:jobname[m]  ||= [38;5;224m'[m[95mliberty_elastica[m[38;5;224m'[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:site[m]     ||= [38;5;224m'[m[95mrennes[m[38;5;224m'[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:walltime[m] ||= [38;5;224m'[m[95m1:00:00[m[38;5;224m'[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:cluster[m]  ||= [38;5;224m''[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:vlantype[m] ||= [38;5;224m'[m[95mkavlan-local[m[38;5;224m'[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:computes[m] ||= [95m1[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:injectors[m] ||= [95m1[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:elastica_home[m] ||= [38;5;224m'[m[95m~/elastica[m[38;5;224m'[m

[96m# If cluster is defined[m
cluster = [38;5;224m"[m[95mand cluster='[m[38;5;224m"[m + [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:cluster[m] + [38;5;224m"[m[95m'[m[38;5;224m"[m [93mif[m ![38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:cluster[m]][20;1H.empty?

[96m# 1 puppet node + 1 controller node + x compute nodes[m
nodes = [95m2[m +  [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:injectors[m].to_i + [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:computes[m].to_i

[96m# Resource request sent to the Grid'5000 API[m
resources = [] << [38;5;224m%{[m[95m{type='[m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:vlantype[m][38;5;224m}[m[95m'}/vlan=1+{virtual != 'none' [m[38;5;224m##[27;1H{[mcluster[38;5;224m}[m[95m}/nodes=[m[38;5;224m#{[mnodes[38;5;224m}[m[95m+slash_22=1,walltime=[m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:walltime[m][38;5;224m}}[m

[1m[96m@job_def[m[[95m:resources[m] = resources

[1m[96m@job_def[m[[95m:roles[m] << [38;5;121mXP5K[m::[38;5;121mRole[m.new({
  [95mname[m: [38;5;224m'[m[95mcontroller[m[38;5;224m'[m,
  [95msize[m: [95m1[m
})

[1m[96m@job_def[m[[95m:roles[m] << [38;5;121mXP5K[m::[38;5;121mRole[m.new({
  [95mname[m: [38;5;224m'[m[95minjector[m[38;5;224m'[m,
  [95msize[m: [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:injectors[m].to_i
})

[1m[96m@job_def[m[[95m:roles[m] << [38;5;121mXP5K[m::[38;5;121mRole[m.new({
  [95mname[m: [38;5;224m'[m[95mcompute[m[38;5;224m'[m,
  [95msize[m: [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:computes[m].to_i
})

[38;5;121mG5K_NETWORKS[m = [38;5;121mYAML[m.load_file([38;5;224m"[m[95mscenarios/liberty_elastica/g5k_networks.yml[m[38;5;224m"[m)

[96m# Override role 'all' (tasks/roles.rb)
#[m
[1m[7mscenarios/liberty_elastica/tasks/scenario.rb                                1,1 Top[1;1H[?12l[?25h[?25l[m[51;73H~@k[1;1H[51;73H   [2;1H[50;77H[1m[7m2,[2;1H[?12l[?25h[?25l[m[51;73H~@k[2;1H[51;73H   [1;1H[27m[23m[m[H[2J[1;1H[96m# Override role 'all' (tasks/roles.rb)
#[m
role [38;5;224m'[m[95mall[m[38;5;224m'[m [93mdo[m
  roles [38;5;224m'[m[95mpuppetserver[m[38;5;224m'[m, [38;5;224m'[m[95minjector[m[38;5;224m'[m, [38;5;224m'[m[95mcontroller[m[38;5;224m'[m, [38;5;224m'[m[95mcompute[m[38;5;224m'[m
[93mend[m


[96m# Define OAR job (required)
#[m
xp.define_job([1m[96m@job_def[m)


[96m# Define Kadeploy deployment (required)
#[m
xp.define_deployment([1m[96m@deployment_def[m)


namespace [95m:scenario[m [93mdo[m

  [96m# Required task[m
  desc [38;5;224m'[m[95mMain task called at the end of `run` task[m[38;5;224m'[m
  task [95m:main[m [93mdo[m
    [96m# install vlan (force cache regeneration before)[m
    [38;5;121mRake[m::[38;5;121mTask[m[[38;5;224m'[m[95minterfaces:cache[m[38;5;224m'[m].execute
    [96m# in this case, the vlan should be configured in the kadeploy configuration (see[26;1He deployment.rb)
[m    [96m#Rake::Task['interfaces:vlan'].execute[m
    [38;5;121mRake[m::[38;5;121mTask[m[[38;5;224m'[m[95mscenario:hiera:update[m[38;5;224m'[m].execute[30;5H[96m# patch[m
    [38;5;121mRake[m::[38;5;121mTask[m[[38;5;224m'[m[95mscenario:os:patch[m[38;5;224m'[m].execute
    [38;5;121mRake[m::[38;5;121mTask[m[[38;5;224m'[m[95mpuppet:modules:upload[m[38;5;224m'[m].execute[34;5H[96m# run controller recipes 
[m    [96m# do not call rake task (due to chaining)[m
    puppetserver = roles([38;5;224m'[m[95mpuppetserver[m[38;5;224m'[m).first
    on roles([38;5;224m'[m[95mcontroller[m[38;5;224m'[m) [93mdo[m[38;7Hcmd = [38;5;224m"[m[95m/opt/puppetlabs/bin/puppet agent -t --server [m[38;5;224m#{[mpuppetserver[38;5;224m}"[m[39;7Hcmd += [38;5;224m"[m[95m --debug[m[38;5;224m"[m [93mif[m [1m[96mENV[m[[38;5;224m'[m[95mdebug[m[38;5;224m'[m][40;7Hcmd += [38;5;224m"[m[95m --trace[m[38;5;224m"[m [93mif[m [1m[96mENV[m[[38;5;224m'[m[95mtrace[m[38;5;224m'[m][41;7Hcmd
    [93mend[m[44;5Hon roles([38;5;224m'[m[95minjector[m[38;5;224m'[m) [93mdo[m[45;7Hcmd = [38;5;224m"[m[95m/opt/puppetlabs/bin/puppet agent -t --server [m[38;5;224m#{[mpuppetserver[38;5;224m}"[m[46;7Hcmd += [38;5;224m"[m[95m --debug[m[38;5;224m"[m [93mif[m [1m[96mENV[m[[38;5;224m'[m[95mdebug[m[38;5;224m'[m][47;7Hcmd += [38;5;224m"[m[95m --trace[m[38;5;224m"[m [93mif[m [1m[96mENV[m[[38;5;224m'[m[95mtrace[m[38;5;224m'[m][48;7Hcmd
    [93mend[m
[1m[7mscenarios/liberty_elastica/tasks/scenario.rb                               45,1 13%[1;1H[?12l[?25h[?25l[m[51;73H~@k[1;1H[51;73H   [1;7H[27m[23m[m[H[2J[1;7Hcmd
    [93mend[m[4;5H[96m# run compute recipes[m
    on roles([38;5;224m'[m[95mcompute[m[38;5;224m'[m) [93mdo[m[6;7Hcmd = [38;5;224m"[m[95m/opt/puppetlabs/bin/puppet agent -t --server [m[38;5;224m#{[mpuppetserver[38;5;224m}"[m[7;7Hcmd += [38;5;224m"[m[95m --debug[m[38;5;224m"[m [93mif[m [1m[96mENV[m[[38;5;224m'[m[95mdebug[m[38;5;224m'[m][8;7Hcmd += [38;5;224m"[m[95m --trace[m[38;5;224m"[m [93mif[m [1m[96mENV[m[[38;5;224m'[m[95mtrace[m[38;5;224m'[m][9;7Hcmd
    [93mend[m[12;5H[38;5;121mRake[m::[38;5;121mTask[m[[38;5;224m'[m[95mscenario:bootstrap[m[38;5;224m'[m].execute
  [93mend[m

  [38;5;81mdef[m [1m[96mupdate_common_with_networks[m
    common = [38;5;121mYAML[m.load_file([38;5;224m"[m[95mscenarios/[m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:scenario[m][38;5;224m}[m[95m/hiera/generated/cc[17;1Hommon.yaml[m[38;5;224m"[m)
    network = [38;5;121mG5K_NETWORKS[m[[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:site[m]][[38;5;224m'[m[95mproduction[m[38;5;224m'[m]
    common[[38;5;224m'[m[95mscenario::openstack::network[m[38;5;224m'[m] = network[21;5H[38;5;121mFile[m.open([38;5;224m"[m[95mscenarios/[m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:scenario[m][38;5;224m}[m[95m/hiera/generated/common.yaml[m[38;5;224m"[m, [38;5;224m''[m[22;1H[95mw[m[38;5;224m'[m) [93mdo[m |[1m[96mfile[m|[23;7Hfile.puts common.to_yaml
    [93mend[m
  [38;5;81mend

[m  [38;5;81mdef[m [1m[96mupdate_common_with_ips[m()
    interfaces = get_node_interfaces
    common = [38;5;121mYAML[m.load_file([38;5;224m"[m[95mscenarios/[m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:scenario[m][38;5;224m}[m[95m/hiera/generated/cc[30;1Hommon.yaml[m[38;5;224m"[m)
    common[[38;5;224m'[m[95mscenario::openstack::admin_password[m[38;5;224m'[m] = [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:openstack_env[m][[95m:OO[32;1HS_PASSWORD[m]
    [96m# [m[30m[103mTODO[m[96m loop[m
    controller = roles([38;5;224m'[m[95mcontroller[m[38;5;224m'[m).first
    common[[38;5;224m'[m[95mscenario::openstack::controller_public_address[m[38;5;224m'[m] = interfaces[controllee[36;1Hr][[38;5;224m"[m[95mpublic[m[38;5;224m"[m][[38;5;224m"[m[95mip[m[38;5;224m"[m][38;5H[38;5;121mFile[m.open([38;5;224m"[m[95mscenarios/[m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:scenario[m][38;5;224m}[m[95m/hiera/generated/common.yaml[m[38;5;224m"[m, [38;5;224m''[m[39;1H[95mw[m[38;5;224m'[m) [93mdo[m |[1m[96mfile[m|[40;7Hfile.puts common.to_yaml
    [93mend[m
  [38;5;81mend[m

  desc [38;5;224m'[m[95mBootstrap the installation[m[38;5;224m'[m
  task [95m:bootstrap[m [93mdo[m
    workflow = [[47;7H[38;5;224m'[m[95mscenario:os:rules[m[38;5;224m'[m,[48;7H[38;5;224m'[m[95mscenario:os:public_bridge[m[38;5;224m'[m,[49;7H[38;5;224m'[m[95mscenario:os:network[m[38;5;224m'[m,
[1m[7mscenarios/liberty_elastica/tasks/scenario.rb                               91,7 27%[1;7H[?12l[?25h[?25l[m[51;73H~@k[1;7H[51;73H   [1;7H[27m[23m[m[H[2J[1;7H[38;5;224m'[m[95mscenario:os:public_bridge[m[38;5;224m'[m,[2;7H[38;5;224m'[m[95mscenario:os:network[m[38;5;224m'[m,[3;7H[38;5;224m'[m[95mscenario:os:horizon[m[38;5;224m'[m,[4;7H[38;5;224m'[m[95mscenario:os:flavors[m[38;5;224m'[m,[5;7H[38;5;224m'[m[95mscenario:os:images[m[38;5;224m'[m,[6;7H[38;5;224m'[m[95mscenario:os:ceilometer_collector[m[38;5;224m'[m,[7;7H[38;5;224m'[m[95mscenario:os:ceilometer_alarm_notifier[m[38;5;224m'[m,[8;7H[38;5;224m'[m[95mscenario:os:ceilometer_polling[m[38;5;224m'[m,[9;7H[38;5;224m'[m[95mscenario:setup[m[38;5;224m'[m,[10;7H[38;5;224m'[m[95mscenario:horizon_access[m[38;5;224m'[m
    ]
    workflow.each [93mdo[m |[1m[96mtask[m|[13;7H[38;5;121mRake[m::[38;5;121mTask[m[task].execute
    [93mend
[m  [93mend[m

  desc [38;5;224m'[m[95mShow SSH configuration to access Horizon[m[38;5;224m'[m
  task [95m:horizon_access[m [93mdo[m
    puts [38;5;224m'[m[95m** Launch this script on your local computer and open http://localhost:800[20;1H80 on your navigator[m[38;5;224m'[m
    puts [38;5;224m'[m[95m---[m[38;5;224m'[m
    script = [38;5;224m%{[m[95mcat > /tmp/openstack_ssh_config <<EOF[m[38;5;224m\n}[m
    script += [38;5;224m%{[m[95mHost *.grid5000.fr[m[38;5;224m\n}[m
    script += [38;5;224m%{[m[95m  User [m[38;5;224m#{[m[1m[96mENV[m[[38;5;224m'[m[95mUSER[m[38;5;224m'[m][38;5;224m}\n}[m
    script += [38;5;224m%{[m[95m  ProxyCommand ssh -q [m[38;5;224m#{[m[1m[96mENV[m[[38;5;224m'[m[95mUSER[m[38;5;224m'[m][38;5;224m}[m[95m@194.254.60.4 nc -w1 %h %p # Acc[26;1Hcess South[m[38;5;224m\n}[m
    script += [38;5;224m%{[m[95mEOF[m[38;5;224m\n}[m
    script += [38;5;224m%{[m[95mssh -F /tmp/openstack_ssh_config -N -L 8080:[m[38;5;224m#{[mroles([38;5;224m'[m[95mcontroller[m[38;5;224m'[m).ff[29;1Hirst[38;5;224m}[m[95m:8080 [m[38;5;224m#{[m[1m[96mENV[m[[38;5;224m'[m[95mUSER[m[38;5;224m'[m][38;5;224m}[m[95m@frontend.[m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:site[m][38;5;224m}[m[95m.grid5000.fr &[m[38;5;224m\n}[m
    script += [38;5;224m%{[m[95mHTTP_PID=$![m[38;5;224m\n}[m
    script += [38;5;224m%{[m[95mssh -F /tmp/openstack_ssh_config -N -L 6080:[m[38;5;224m#{[mroles([38;5;224m'[m[95mcontroller[m[38;5;224m'[m).ff[32;1Hirst[38;5;224m}[m[95m:6080 [m[38;5;224m#{[m[1m[96mENV[m[[38;5;224m'[m[95mUSER[m[38;5;224m'[m][38;5;224m}[m[95m@frontend.[m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:site[m][38;5;224m}[m[95m.grid5000.fr &[m[38;5;224m\n}[m
    script += [38;5;224m%{[m[95mCONSOLE_PID=$![m[38;5;224m\n}[m
    script += [38;5;224m%{[m[95mtrap 'kill -9 $HTTP_PID && kill -9 $CONSOLE_PID' 2[m[38;5;224m\n}[m
    script += [38;5;224m%{[m[95mecho 'http://localhost:8080'[m[38;5;224m\n}[m
    script += [38;5;224m%{[m[95mwait[m[38;5;224m\n}[m
    puts script
    puts [38;5;224m'[m[95m---[m[38;5;224m'[m
  [93mend[m

  desc [38;5;224m'[m[95mShow SSH configuration to access Horizon[m[38;5;224m'[m
  task [95m:setup[m [93mdo[m
    puts [38;5;224m'[m[95m** BEGIN ELASTICA SETUP [m[38;5;224m'[m
    puts [38;5;224m'[m[95m---[m[38;5;224m'[m[46;5Hon(roles([38;5;224m'[m[95mcontroller[m[38;5;224m'[m) + roles([38;5;224m'[m[95minjector[m[38;5;224m'[m), [95muser[m: [38;5;224m'[m[95mroot[m[38;5;224m'[m, [95menvironment[m: [38;5;121mXP5K[m::[38;5;121mCoo[47;1Hnfig[m[[95m:openstack_env[m]) [93mdo[m[48;9Hcmd = [][49;9Hcmd << [38;5;224m%{[m[95mecho 'ulimit -n 65535' >> /root/.bashrc[m[38;5;224m}[m
[1m[7mscenarios/liberty_elastica/tasks/scenario.rb                              132,7 39%[1;7H[?12l[?25h[?25l[m[51;73H~@k[1;7H[51;73H   [2;7H[50;77H[1m[7m3,[2;7H[?12l[?25h[?25l[m[51;73H~@k[2;7H[51;73H   [3;7H[50;77H[1m[7m4,[3;7H[?12l[?25h[?25l[m[51;73H~@k[3;7H[51;73H   [4;7H[50;77H[1m[7m5,[4;7H[?12l[?25h[?25l[m[51;73H~@k[4;7H[51;73H   [5;7H[50;77H[1m[7m6,[5;7H[?12l[?25h[?25l[m[51;73H~@k[5;7H[51;73H   [6;7H[50;77H[1m[7m7,[6;7H[?12l[?25h[?25l[m[51;73H~@k[6;7H[51;73H   [7;7H[50;77H[1m[7m8,[7;7H[?12l[?25h[?25l[m[51;73H~@k[7;7H[51;73H   [8;7H[50;77H[1m[7m9,[8;7H[?12l[?25h[?25l[m[51;73H~@k[8;7H[51;73H   [9;7H[50;76H[1m[7m40,[9;7H[?12l[?25h[?25l[m[51;73H~@k[9;7H[51;73H   [10;7H[50;77H[1m[7m1,[10;7H[?12l[?25h[?25l[m[51;73H~@k[10;7H[51;73H   [11;5H[50;77H[1m[7m2,5 [11;5H[?12l[?25h[?25l[m[51;73H~@k[11;5H[51;73H   [12;7H[50;77H[1m[7m3,7 [12;7H[?12l[?25h[?25l[m[51;73H~@k[12;7H[51;73H   [13;7H[50;77H[1m[7m4,[13;7H[?12l[?25h[?25l[m[51;73H~@k[13;7H[51;73H   [14;7H[50;77H[1m[7m5,[14;7H[?12l[?25h[?25l[m[51;73H~@k[14;7H[51;73H   [15;5H[50;77H[1m[7m6,5 [15;5H[?12l[?25h[?25l[m[51;73H~@k[15;5H[51;73H   [16;1H[50;77H[1m[7m7,0 [16;1H[?12l[?25h[?25l[m[51;73H~@k[16;1H[51;73H   [17;7H[50;77H[1m[7m8,7 [17;7H[?12l[?25h[?25l[m[51;73H~@k[17;7H[51;73H   [18;7H[50;77H[1m[7m9,[18;7H[?12l[?25h[?25l[m[51;73H~@k[18;7H[51;73H   [19;7H[50;76H[1m[7m50,[19;7H[?12l[?25h[?25l[m[51;73H~@k[19;7H[51;73H   [21;7H[50;77H[1m[7m1,[21;7H[?12l[?25h[?25l[m[51;73H~@k[21;7H[51;73H   [22;7H[50;77H[1m[7m2,[22;7H[?12l[?25h[?25l[m[51;73H~@k[22;7H[51;73H   [23;7H[50;77H[1m[7m3,[23;7H[?12l[?25h[?25l[m[51;73H~@k[23;7H[51;73H   [24;7H[50;77H[1m[7m4,[24;7H[?12l[?25h[?25l[m[51;73H~@k[24;7H[51;73H   [25;7H[50;77H[1m[7m5,[25;7H[?12l[?25h[?25l[m[51;73H~@k[25;7H[51;73H   [27;7H[50;77H[1m[7m6,[27;7H[?12l[?25h[?25l[m[51;73H~@k[27;7H[51;73H   [28;7H[50;77H[1m[7m7,[28;7H[?12l[?25h[?25l[m[51;73H~@k[28;7H[51;73H   [30;7H[50;77H[1m[7m8,[30;7H[?12l[?25h[?25l[m[51;73H~@k[30;7H[51;73H   [31;7H[50;77H[1m[7m9,[31;7H[?12l[?25h[?25l[m[51;73H~@k[31;7H[51;73H   [33;7H[50;76H[1m[7m60,[33;7H[?12l[?25h[?25l[m[51;73H~@k[33;7H[51;73H   [34;7H[50;77H[1m[7m1,[34;7H[?12l[?25h[?25l[m[51;73H~@k[34;7H[51;73H   [35;7H[50;77H[1m[7m2,[35;7H[?12l[?25h[?25l[m[51;73H~@k[35;7H[51;73H   [36;7H[50;77H[1m[7m3,[36;7H[?12l[?25h[?25l[m[51;73H~@k[36;7H[51;73H   [37;7H[50;77H[1m[7m4,[37;7H[?12l[?25h[?25l[m[51;73H~@k[37;7H[51;73H   [38;7H[50;77H[1m[7m5,[38;7H[?12l[?25h[?25l[m[51;73H~@k[38;7H[51;73H   [39;5H[50;77H[1m[7m6,5 [39;5H[?12l[?25h[?25l[m[51;73H~@k[39;5H[51;73H   [1;9H[27m[23m[m[H[2J[1;9Hcmd = [][2;9Hcmd << [38;5;224m%{[m[95mecho 'ulimit -n 65535' >> /root/.bashrc[m[38;5;224m}[m[3;9Hcmd << [38;5;224m%{[m[95mecho 'fs.file-max =  100000' >> /etc/sysctl.conf[m[38;5;224m}[m[4;9Hcmd << [38;5;224m%{[m[95mecho 'net.ipv4.ip_local_port_range=\"1025 65535\"' >> /etc/sysctl..[5;1Hconf[m[38;5;224m}[m[6;9Hcmd << [38;5;224m%{[m[95mecho '*    soft     nofile   65536' >> /etc/security/limits.conf[m[38;5;224m}[m[7;9Hcmd << [38;5;224m%{[m[95mecho '*    hard     nofile   65536' >> /etc/security/limits.conf[m[38;5;224m}[m[8;9Hcmd << [38;5;224m%{[m[95mecho 'session    required   pam_limits.so' >> /etc/pam.d/common-see[9;1Hssion[m[38;5;224m}[m[10;9Hcmd << [38;5;224m%{[m[95mecho 'session    required   pam_limits.so' >> /etc/pam.d/common-see[11;1Hssion-noninteractive[m[38;5;224m}[m[12;9Hcmd << [38;5;224m%{[m[95mecho 300000 | sudo tee /proc/sys/fs/nr_open[m[38;5;224m}[m[13;9Hcmd << [38;5;224m%{[m[95mecho 300000 | sudo tee /proc/sys/fs/file-max[m[38;5;224m}[m[14;9Hcmd << [38;5;224m%{[m[95msysctl -p[m[38;5;224m}[m[15;9Hcmd << [38;5;224m%{[m[95mapt-get -y install openjdk-7-jre-headless[m[38;5;224m}[m[16;9Hcmd
    [93mend[m[19;5Hsh [38;5;224m%{[m[95mcat /dev/null > [m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:elastica_home[m][38;5;224m}[m[95m/tmp/injectors.txt[m[38;5;224m}[m
    roles([38;5;224m'[m[95minjector[m[38;5;224m'[m).each [93mdo[m |[1m[96minj[m|[21;9Hsh [38;5;224m%{[m[95mscp -r [m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:elastica_home[m][38;5;224m}[m[95m/gatling root@[m[38;5;224m#{[minj[38;5;224m}[m[95m:~/[m[38;5;224m}[m[22;9Hsh [38;5;224m%{[m[95mecho [m[38;5;224m#{[minj[38;5;224m}[m[95m >> [m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:elastica_home[m][38;5;224m}[m[95m/tmp/injectors.txt[m[38;5;224m}[m
    [93mend[m[25;5Hon(roles([38;5;224m'[m[95mcontroller[m[38;5;224m'[m), [95muser[m: [38;5;224m'[m[95mroot[m[38;5;224m'[m, [95menvironment[m: [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:openstack_env[m]][26;1H) [93mdo[m[27;9Hcmd = [][28;9Hcmd << [38;5;224m%{[m[95mcp  ~/adminrc ~/openrc[m[38;5;224m}[m[29;9Hcmd << [38;5;224m%{[m[95mecho 'source ~/adminrc' >> ~/.bashrc[m[38;5;224m}[m[30;9Hcmd << [38;5;224m%{[m[95mecho 'export PROJECT_PATH=/share' >> /root/.bashrc[m[38;5;224m}[m[31;9Hcmd << [38;5;224m%{[m[95mapt-get -y install portmap nfs-common nfs-kernel-server[m[38;5;224m}[m[32;9Hcmd << [38;5;224m%{[m[95mmkdir /share[m[38;5;224m}[m[33;9Hcmd << [38;5;224m%{[m[95mchmod 777 /share[m[38;5;224m}[m[34;9Hcmd << [38;5;224m%{[m[95mecho '/share *(ro)' >> /etc/exports[m[38;5;224m}[m[35;9Hcmd << [38;5;224m%{[m[95mservice nfs-kernel-server restart[m[38;5;224m}[m[36;9Hcmd
    [93mend[m[39;5Hcontrollerserver = roles([38;5;224m'[m[95mcontroller[m[38;5;224m'[m).first
    sh [38;5;224m%{[m[95mscp -r [m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:elastica_home[m][38;5;224m}[m[95m/* root@[m[38;5;224m#{[mcontrollerserver[38;5;224m}[m[95m:/share/[m[38;5;224m}[m[41;5Hlogstash = [38;5;224m"[m[95mlogstash-1.4.2[m[38;5;224m"[m
    directory = [38;5;224m"[m[95m/share/software_resources/logstash[m[38;5;224m"[m[44;5Hon(roles([38;5;224m'[m[95mcontroller[m[38;5;224m'[m), [95muser[m: [38;5;224m'[m[95mroot[m[38;5;224m'[m, [95menvironment[m: [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:openstack_env[m]][45;1H) [93mdo[m[46;9Hcmd = [][47;9Hcmd << [38;5;224m%{[m[95mssh-keygen -f /tmp/id_rsa -t rsa -N ''[m[38;5;224m}[m[48;9Hcmd << [38;5;224m%{[m[95mnova keypair-add --pub_key /tmp/id_rsa.pub key[m[38;5;224m}[m[49;9Hcmd << [38;5;224m%{[m[95mchmod +x /share/software_resources/redis/install.sh[m[38;5;224m}[m
[1m[7mscenarios/liberty_elastica/tasks/scenario.rb                              174,9 52%[1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [1;9H[27m[23m[m[H[2J[1;9Hcmd << [38;5;224m%{[m[95mnova keypair-add --pub_key /tmp/id_rsa.pub key[m[38;5;224m}[m[2;9Hcmd << [38;5;224m%{[m[95mchmod +x /share/software_resources/redis/install.sh[m[38;5;224m}[m[3;9Hcmd << [38;5;224m%{[m[95msh /share/software_resources/redis/install.sh[m[38;5;224m}[m[4;9Hcmd << [38;5;224m%{[m[95mcp [m[38;5;224m#{[mdirectory[38;5;224m}[m[95m/[m[38;5;224m#{[mlogstash[38;5;224m}[m[95m.tar.gz /root/[m[38;5;224m}[m[5;9Hcmd << [38;5;224m%{[m[95mcp [m[38;5;224m#{[mdirectory[38;5;224m}[m[95m/indexer_logstash.conf /root/[m[38;5;224m}[m[6;9Hcmd << [38;5;224m%{[m[95mtar xvzf /root/[m[38;5;224m#{[mlogstash[38;5;224m}[m[95m.tar.gz && cp -r [m[38;5;224m#{[mlogstash[38;5;224m}[m[95m /root/[m[38;5;224m}[m[7;9Hcmd
    [93mend[m
    id_rsa_ctrl=[38;5;224m`[m[95mssh root@[m[38;5;224m#{[mcontrollerserver[38;5;224m}[m[95m "cat /tmp/id_rsa.pub"[m[38;5;224m`[m[11;5Hon(roles([38;5;224m'[m[95minjector[m[38;5;224m'[m), [95muser[m: [38;5;224m'[m[95mroot[m[38;5;224m'[m, [95menvironment[m: [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:openstack_env[m])  [12;1H[93mdo[m[13;8H[[38;5;224m"[m[95mecho '[m[38;5;224m#{[mid_rsa_ctrl[38;5;224m}[m[95m' >> /root/.ssh/authorized_keys[m[38;5;224m"[m]
    [93mend[m[16;5Hputs [38;5;224m'[m[95m--- END ELASTICA SETUP[m[38;5;224m'[m
  [93mend[m[20;3Hnamespace [95m:hiera[m [93mdo[m[22;5Hdesc [38;5;224m'[m[95mUpdate common.yaml with network information (controller/storage ips, netww[23;1Horks adresses)[m[38;5;224m'[m
    task [95m:update[m [93mdo[m[25;7Hupdate_common_with_ips()[26;7Hupdate_common_with_networks()[28;7H[96m# upload the new common.yaml[m[29;7Hpuppetserver_fqdn = roles([38;5;224m'[m[95mpuppetserver[m[38;5;224m'[m).first[30;7Hsh [38;5;224m%{[m[95mcd scenarios/[m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:scenario[m][38;5;224m}[m[95m/hiera/generated && tar -cf - . ||[31;1H ssh[m[38;5;224m#{[m[38;5;121mSSH_CONFIGFILE_OPT[m[38;5;224m}[m[95m root@[m[38;5;224m#{[mpuppetserver_fqdn[38;5;224m}[m[95m 'cd /etc/puppetlabs/code/enviroo[32;1Hnments/production/hieradata && tar xf -'[m[38;5;224m}[m
    [93mend
[m  [93mend[m

  namespace [95m:os[m [93mdo[m[38;5Hdesc [38;5;224m'[m[95mUpdate default security group rules[m[38;5;224m'[m
    task [95m:rules[m [93mdo[m[40;7Hon(roles([38;5;224m'[m[95mcontroller[m[38;5;224m'[m), [95muser[m: [38;5;224m'[m[95mroot[m[38;5;224m'[m, [95menvironment[m: [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:openstack_enn[41;1Hv[m]) [93mdo[m[42;9H[96m# Add SSH rule[m[43;9Hcmd = [] << [38;5;224m'[m[95mnova secgroup-add-rule default tcp 22 22 0.0.0.0/0[m[38;5;224m'[m[44;9H[96m# Add http rule[m[45;9Hcmd = [] << [38;5;224m'[m[95mnova secgroup-add-rule default tcp 80 80 0.0.0.0/0[m[38;5;224m'[m[46;9H[96m# Add ICMP rule[m[47;9Hcmd << [38;5;224m'[m[95mnova secgroup-add-rule default icmp -1 -1 0.0.0.0/0[m[38;5;224m'[m[48;9H[96m# Add sec_group [m[49;9Hcmd << [38;5;224m'[m[95mnova secgroup-create sec_group [m[38;5;224m\'[m[95m default security goup[m[38;5;224m\''[m
[1m[7mscenarios/liberty_elastica/tasks/scenario.rb                              216,9 65%[1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [1;9H[27m[23m[m[H[2J[1;9H[96m# Add sec_group [m[2;9Hcmd << [38;5;224m'[m[95mnova secgroup-create sec_group [m[38;5;224m\'[m[95m default security goup[m[38;5;224m\''[m[3;9Hcmd << [38;5;224m'[m[95mnova secgroup-add-rule sec_group tcp 22 22 0.0.0.0/0[m[38;5;224m'[m[4;9Hcmd << [38;5;224m'[m[95mnova secgroup-add-rule sec_group tcp 80 80 0.0.0.0/0[m[38;5;224m'[m[5;9Hcmd << [38;5;224m'[m[95mnova secgroup-add-rule sec_group icmp -1 -1 0.0.0.0/0[m[38;5;224m'[m[6;9Hcmd[7;7H[93mend
[m    [93mend[m[10;5Hdesc [38;5;224m'[m[95mConfigure public bridge[m[38;5;224m'[m
    task [95m:public_bridge[m [93mdo[m[12;7HcontrollerHostname = roles([38;5;224m'[m[95mcontroller[m[38;5;224m'[m).first.split([38;5;224m'[m[95m.[m[38;5;224m'[m).first[13;7HclusterName = controllerHostname.split([38;5;224m'[m[95m-[m[38;5;224m'[m).first[14;7HrestfullyDatas = xp.connection.root[15;7H.sites[[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:site[m].to_sym][16;7H.clusters[clusterName.to_sym][17;7H.nodes.select { |[1m[96mi[m| i[[38;5;224m'[m[95muid[m[38;5;224m'[m] == controllerHostname }.first[18;7Hdevice = restfullyDatas[[38;5;224m'[m[95mnetwork_adapters[m[38;5;224m'[m].select { |[1m[96minterface[m|[19;9Hinterface[[38;5;224m'[m[95mmounted[m[38;5;224m'[m] == [95mtrue[m[20;7H}.first[[38;5;224m'[m[95mdevice[m[38;5;224m'[m][21;7Hon(roles([38;5;224m'[m[95mcontroller[m[38;5;224m'[m), [95muser[m: [38;5;224m'[m[95mroot[m[38;5;224m'[m) [93mdo[m[22;9H[38;5;224m%{[m[95m ovs-vsctl add-port br-ex [m[38;5;224m#{[mdevice[38;5;224m}[m[95m && ip addr flush [m[38;5;224m#{[mdevice[38;5;224m}[m[95m && dhclienn[23;1Ht -nw br-ex [m[38;5;224m}[m[24;7H[93mend
[m    [93mend[m[27;5Hdesc [38;5;224m'[m[95mConfigure Openstack network[m[38;5;224m'[m
    task [95m:network[m [93mdo[m[29;7HpublicSubnet = [38;5;121mG5K_NETWORKS[m[[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:site[m]][[38;5;224m"[m[95msubnet[m[38;5;224m"[m][31;7H[96m# Grid'5000 CIDR: 10.140.0.0/22 (Lyon site)[m[32;7HreservedSubnet = xp.job_with_name([38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:jobname[m])[[38;5;224m'[m[95mresources_by_type[m[38;5;224m''[m[33;1H][[38;5;224m'[m[95msubnets[m[38;5;224m'[m].first[35;7H[96m# Public IP range: 10.140.0.10 .. 10.140.0.100[m[36;7HpublicPool = [38;5;121mIPAddr[m.new(reservedSubnet).to_range.to_a[[95m10[m..[95m100[m][37;7HpublicPoolStart,publicPoolStop = publicPool.first.to_s,publicPool.last.to_s[39;7H[96m# Data network CIDR: 192.168.1.0/24[m[40;7HprivateCIDR = [38;5;224m'[m[95m192.168.1.0/24[m[38;5;224m'[m[42;7H[96m# Privage IP range: 192.168.1.10 .. 192.168.1.100[m[43;7HprivatePool = [38;5;121mIPAddr[m.new(privateCIDR).to_range.to_a[[95m10[m..[95m100[m][44;7HprivatePoolStart,privatePoolStop = privatePool.first.to_s,privatePool.last.too[45;1H_s[47;7Hon(roles([38;5;224m'[m[95mcontroller[m[38;5;224m'[m), [95muser[m: [38;5;224m'[m[95mroot[m[38;5;224m'[m, [95menvironment[m: [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:openstack_enn[48;1Hv[m]) [93mdo[m[49;9Hcmd = []
[1m[7mscenarios/liberty_elastica/tasks/scenario.rb                              258,9 78%[1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [2;9H[50;77H[1m[7m9,[2;9H[?12l[?25h[?25l[m[51;73H~@k[2;9H[51;73H   [3;9H[50;76H[1m[7m60,[3;9H[?12l[?25h[?25l[m[51;73H~@k[3;9H[51;73H   [4;9H[50;77H[1m[7m1,[4;9H[?12l[?25h[?25l[m[51;73H~@k[4;9H[51;73H   [5;9H[50;77H[1m[7m2,[5;9H[?12l[?25h[?25l[m[51;73H~@k[5;9H[51;73H   [4;9H[50;77H[1m[7m1,[4;9H[?12l[?25h[?25l[m[51;73H~@k[4;9H[51;73H   [3;9H[50;77H[1m[7m0,[3;9H[?12l[?25h[?25l[m[51;73H~@k[3;9H[51;73H   [2;9H[50;76H[1m[7m59,[2;9H[?12l[?25h[?25l[m[51;73H~@k[2;9H[51;73H   [1;9H[50;77H[1m[7m8,[1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [1;9H[1;49r[1;1H[L[1;51r[1;9Hcmd << [38;5;224m'[m[95mnova secgroup-add-rule default icmp -1 -1 0.0.0.0/0[m[38;5;224m'[m[50;77H[1m[7m7,[1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [1;9H[1;49r[1;1H[L[1;51r[1;9H[96m# Add ICMP rule[m[49;1H[94m@                                                                                  [m[50;77H[1m[7m6,9 77%[1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [1;9H[1;49r[1;1H[L[1;51r[1;9Hcmd = [] << [38;5;224m'[m[95mnova secgroup-add-rule default tcp 80 80 0.0.0.0/0[m[38;5;224m'[m[50;77H[1m[7m5,[1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [1;9H[1;49r[1;1H[L[1;51r[1;9H[96m# Add http rule[m[50;77H[1m[7m4,[1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [1;9H[1;49r[1;1H[L[1;51r[1;9Hcmd = [] << [38;5;224m'[m[95mnova secgroup-add-rule default tcp 22 22 0.0.0.0/0[m[38;5;224m'[m[49;1H[94m@                                                                                  [m[50;77H[1m[7m3,[1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [1;9H[1;49r[1;1H[L[1;51r[1;9H[96m# Add SSH rule[m[50;77H[1m[7m2,[1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [1;9H[1;49r[1;1H[2L[1;51r[1;7Hon[46m([mroles([38;5;224m'[m[95mcontroller[m[38;5;224m'[m), [95muser[m: [38;5;224m'[m[95mroot[m[38;5;224m'[m, [95menvironment[m: [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:openstack_enn[2;1Hv[m][46m)[m [93mdo[m[50;77H[1m[7m1,9 76%[1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [1;9H[1;49r[1;1H[L[1;51r[1;5Htask [95m:rules[m [93mdo[m[2;9H([73C[95mnn[3;1Hv[m])[50;77H[1m[7m0,[1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [2;9H[46m([m[73C[95mnn[3;1Hv[m][46m)[m[50;77H[1m[7m1,[2;9H[?12l[?25h[?25l[m[51;73H~@k[2;9H[51;73H   [4;9H[2;9H([73C[95mnn[3;1Hv[m])[50;77H[1m[7m2,[4;9H[?12l[?25h[?25l[m[51;73H~@k[4;9H[51;73H   [5;9H[50;77H[1m[7m3,[5;9H[?12l[?25h[?25l[m[51;73H~@k[5;9H[51;73H   [6;9H[50;77H[1m[7m4,[6;9H[?12l[?25h[?25l[m[51;73H~@k[6;9H[51;73H   [7;9H[50;77H[1m[7m5,[7;9H[?12l[?25h[?25l[m[51;73H~@k[7;9H[51;73H   [8;9H[50;77H[1m[7m6,[8;9H[?12l[?25h[?25l[m[51;73H~@k[8;9H[51;73H   [9;9H[50;77H[1m[7m7,[9;9H[?12l[?25h[?25l[m[51;73H~@k[9;9H[51;73H   [10;9H[50;77H[1m[7m8,[10;9H[?12l[?25h[?25l[m[51;73H~@k[10;9H[51;73H   [11;9H[50;77H[1m[7m9,[11;9H[?12l[?25h[?25l[m[51;73H~@k[11;9H[51;73H   [12;9H[50;76H[1m[7m60,[12;9H[?12l[?25h[?25l[m[51;73H~@k[12;9H[51;73H   [13;9H[50;77H[1m[7m1,[13;9H[?12l[?25h[?25l[m[51;73H~@k[13;9H[51;73H   [14;9H[50;77H[1m[7m2,[14;9H[?12l[?25h[?25l[m[51;73H~@k[14;9H[51;73H   [13;9H[50;77H[1m[7m1,[13;9H[?12l[?25h[?25l[m[51;73H~@k[13;9H[51;73H   [12;9H[50;77H[1m[7m0,[12;9H[?12l[?25h[?25l[m[51;73H~@k[12;9H[51;73H   [11;9H[50;76H[1m[7m59,[11;9H[?12l[?25h[?25l[m[51;73H~@k[11;9H[51;73H   [10;9H[50;77H[1m[7m8,[10;9H[?12l[?25h[?25l[m[51;73H~@k[10;9H[51;73H   [9;9H[50;77H[1m[7m7,[9;9H[?12l[?25h[?25l[m[51;73H~@k[9;9H[51;73H   [8;9H[50;77H[1m[7m6,[8;9H[?12l[?25h[?25l[m[51;73H~@k[8;9H[51;73H   [7;9H[50;77H[1m[7m5,[7;9H[?12l[?25h[?25l[m[51;73H~@k[7;9H[51;73H   [6;9H[50;77H[1m[7m4,[6;9H[?12l[?25h[?25l[m[51;73H~@k[6;9H[51;73H   [5;9H[50;77H[1m[7m3,[5;9H[?12l[?25h[?25l[m[51;73H~@k[5;9H[51;73H   [4;9H[50;77H[1m[7m2,[4;9H[?12l[?25h[?25l[m[51;73H~@k[4;9H[51;73H   [2;9H[46m([m[73C[95mnn[3;1Hv[m][46m)[m[50;77H[1m[7m1,[2;9H[?12l[?25h[?25l[m[51;73H~@k[2;9H[51;73H   [1;9H[2;9H([73C[95mnn[3;1Hv[m])[50;77H[1m[7m0,[1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [1;9H[1;49r[1;1H[L[1;51r[1;5Hdesc [38;5;224m'[m[95mUpdate default security group rules[m[38;5;224m'[m[50;76H[1m[7m49,[1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [1;4H[1;49r[1;1H[L[1;51r[50;77H[1m[7m8,4 75%[1;4H[?12l[?25h[?25l[m[51;73H~@k[1;4H[51;73H   [1;9H[1;49r[1;1H[L[1;51r[1;3Hnamespace [95m:os[m [93mdo[m[50;77H[1m[7m7,9 [1;9H[?12l[?25h[?25l[m[51;73H~@k[1;9H[51;73H   [1;1H[1;49r[1;1H[L[1;51r[50;77H[1m[7m6,0 [1;1H[?12l[?25h[?25l[m[51;73H~@k[1;1H[51;73H   [1;5H[1;49r[1;1H[L[1;51r[1;3H[93mend[m[50;77H[1m[7m5,5 74%[1;5H[?12l[?25h[?25l[m[51;73H~@k[1;5H[51;73H   [1;7H[1;49r[1;1H[L[1;51r[1;5H[93mend[m[50;77H[1m[7m4,7 [1;7H[?12l[?25h[?25l[m[51;73H~@k[1;7H[51;73H   [2;5H[50;77H[1m[7m5,5 [2;5H[?12l[?25h[?25l[m[51;73H~@k[2;5H[51;73H   [3;1H[50;77H[1m[7m6,0 [3;1H[?12l[?25h[?25l[m[51;73H~@k[3;1H[51;73H   [4;9H[50;77H[1m[7m7,9 [4;9H[?12l[?25h[?25l[m[51;73H~@k[4;9H[51;73H   [5;4H[50;77H[1m[7m8,4 [5;4H[?12l[?25h[?25l[m[51;73H~@k[5;4H[51;73H   [4;9H[50;77H[1m[7m7,9 [4;9H[?12l[?25h[?25l[m[51;73H~@k[4;9H[51;73H   [3;1H[50;77H[1m[7m6,0 [3;1H[?12l[?25h[?25l[m[51;73H~@k[3;1H[51;73H   [2;5H[50;77H[1m[7m5,5 [2;5H[?12l[?25h[?25l[m[51;73H~@k[2;5H[51;73H   [3;1H[50;77H[1m[7m6,0 [3;1H[?12l[?25h[?25l[m[51;73H~@k[3;1H[51;73H   [49;3H[27m[23m[m[H[2J[1;9Hcmd << [38;5;224m%{[m[95mchmod 777 /share[m[38;5;224m}[m[2;9Hcmd << [38;5;224m%{[m[95mecho '/share *(ro)' >> /etc/exports[m[38;5;224m}[m[3;9Hcmd << [38;5;224m%{[m[95mservice nfs-kernel-server restart[m[38;5;224m}[m[4;9Hcmd
    [93mend[m[7;5Hcontrollerserver = roles([38;5;224m'[m[95mcontroller[m[38;5;224m'[m).first
    sh [38;5;224m%{[m[95mscp -r [m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:elastica_home[m][38;5;224m}[m[95m/* root@[m[38;5;224m#{[mcontrollerserver[38;5;224m}[m[95m:/share/[m[38;5;224m}[m[9;5Hlogstash = [38;5;224m"[m[95mlogstash-1.4.2[m[38;5;224m"[m
    directory = [38;5;224m"[m[95m/share/software_resources/logstash[m[38;5;224m"[m[12;5Hon(roles([38;5;224m'[m[95mcontroller[m[38;5;224m'[m), [95muser[m: [38;5;224m'[m[95mroot[m[38;5;224m'[m, [95menvironment[m: [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:openstack_env[m]][13;1H) [93mdo[m[14;9Hcmd = [][15;9Hcmd << [38;5;224m%{[m[95mssh-keygen -f /tmp/id_rsa -t rsa -N ''[m[38;5;224m}[m[16;9Hcmd << [38;5;224m%{[m[95mnova keypair-add --pub_key /tmp/id_rsa.pub key[m[38;5;224m}[m[17;9Hcmd << [38;5;224m%{[m[95mchmod +x /share/software_resources/redis/install.sh[m[38;5;224m}[m[18;9Hcmd << [38;5;224m%{[m[95msh /share/software_resources/redis/install.sh[m[38;5;224m}[m[19;9Hcmd << [38;5;224m%{[m[95mcp [m[38;5;224m#{[mdirectory[38;5;224m}[m[95m/[m[38;5;224m#{[mlogstash[38;5;224m}[m[95m.tar.gz /root/[m[38;5;224m}[m[20;9Hcmd << [38;5;224m%{[m[95mcp [m[38;5;224m#{[mdirectory[38;5;224m}[m[95m/indexer_logstash.conf /root/[m[38;5;224m}[m[21;9Hcmd << [38;5;224m%{[m[95mtar xvzf /root/[m[38;5;224m#{[mlogstash[38;5;224m}[m[95m.tar.gz && cp -r [m[38;5;224m#{[mlogstash[38;5;224m}[m[95m /root/[m[38;5;224m}[m[22;9Hcmd
    [93mend[m
    id_rsa_ctrl=[38;5;224m`[m[95mssh root@[m[38;5;224m#{[mcontrollerserver[38;5;224m}[m[95m "cat /tmp/id_rsa.pub"[m[38;5;224m`[m[26;5Hon(roles([38;5;224m'[m[95minjector[m[38;5;224m'[m), [95muser[m: [38;5;224m'[m[95mroot[m[38;5;224m'[m, [95menvironment[m: [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:openstack_env[m])  [27;1H[93mdo[m[28;8H[[38;5;224m"[m[95mecho '[m[38;5;224m#{[mid_rsa_ctrl[38;5;224m}[m[95m' >> /root/.ssh/authorized_keys[m[38;5;224m"[m]
    [93mend[m[31;5Hputs [38;5;224m'[m[95m--- END ELASTICA SETUP[m[38;5;224m'[m
  [93mend[m[35;3Hnamespace [95m:hiera[m [93mdo[m[37;5Hdesc [38;5;224m'[m[95mUpdate common.yaml with network information (controller/storage ips, netww[38;1Horks adresses)[m[38;5;224m'[m
    task [95m:update[m [93mdo[m[40;7Hupdate_common_with_ips()[41;7Hupdate_common_with_networks()[43;7H[96m# upload the new common.yaml[m[44;7Hpuppetserver_fqdn = roles([38;5;224m'[m[95mpuppetserver[m[38;5;224m'[m).first[45;7Hsh [38;5;224m%{[m[95mcd scenarios/[m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:scenario[m][38;5;224m}[m[95m/hiera/generated && tar -cf - . ||[46;1H ssh[m[38;5;224m#{[m[38;5;121mSSH_CONFIGFILE_OPT[m[38;5;224m}[m[95m root@[m[38;5;224m#{[mpuppetserver_fqdn[38;5;224m}[m[95m 'cd /etc/puppetlabs/code/enviroo[47;1Hnments/production/hieradata && tar xf -'[m[38;5;224m}[m
    [93mend
[m  [93mend[m
[1m[7mscenarios/liberty_elastica/tasks/scenario.rb                              245,3 61%[49;3H[?12l[?25h[?25l[m[51;73H~@k[49;3H[51;73H   [48;3H[50;77H[1m[7m4,[48;3H[?12l[?25h[?25l[m[51;73H~@k[48;3H[51;73H   [45;3H[50;77H[1m[7m3,[45;3H[?12l[?25h[?25l[m[51;73H~@k[45;3H[51;73H   [44;3H[50;77H[1m[7m2,[44;3H[?12l[?25h[?25l[m[51;73H~@k[44;3H[51;73H   [43;3H[50;77H[1m[7m1,[43;3H[?12l[?25h[?25l[m[51;73H~@k[43;3H[51;73H   [42;1H[50;77H[1m[7m0,0 [42;1H[?12l[?25h[?25l[m[51;73H~@k[42;1H[51;73H   [41;3H[50;76H[1m[7m39,3 [41;3H[?12l[?25h[?25l[m[51;73H~@k[41;3H[51;73H   [40;3H[50;77H[1m[7m8,[40;3H[?12l[?25h[?25l[m[51;73H~@k[40;3H[51;73H   [39;3H[50;77H[1m[7m7,[39;3H[?12l[?25h[?25l[m[51;73H~@k[39;3H[51;73H   [37;3H[50;77H[1m[7m6,[37;3H[?12l[?25h[?25l[m[51;73H~@k[37;3H[51;73H   [36;1H[50;77H[1m[7m5,0 [36;1H[?12l[?25h[?25l[m[51;73H~@k[36;1H[51;73H   [35;3H[50;77H[1m[7m4,3 [35;3H[?12l[?25h[?25l[m[51;73H~@k[35;3H[51;73H   [34;1H[50;77H[1m[7m3,0 [34;1H[?12l[?25h[?25l[m[51;73H~@k[34;1H[51;73H   [33;1H[50;77H[1m[7m2,[33;1H[?12l[?25h[?25l[m[51;73H~@k[33;1H[51;73H   [32;3H[50;77H[1m[7m1,3 [32;3H[?12l[?25h[?25l[m[51;73H~@k[32;3H[51;73H   [31;3H[50;77H[1m[7m0,[31;3H[?12l[?25h[?25l[m[51;73H~@k[31;3H[51;73H   [30;1H[50;76H[1m[7m29,0 [30;1H[?12l[?25h[?25l[m[51;73H~@k[30;1H[51;73H   [29;3H[50;77H[1m[7m8,3 [29;3H[?12l[?25h[?25l[m[51;73H~@k[29;3H[51;73H   [28;3H[50;77H[1m[7m7,[28;3H[?12l[?25h[?25l[m[51;73H~@k[28;3H[51;73H   [26;3H[50;77H[1m[7m6,[26;3H[?12l[?25h[?25l[m[51;73H~@k[26;3H[51;73H   [25;3H[50;77H[1m[7m5,[25;3H[?12l[?25h[?25l[m[51;73H~@k[25;3H[51;73H   [24;3H[50;77H[1m[7m4,[24;3H[?12l[?25h[?25l[m[51;73H~@k[24;3H[51;73H   [23;3H[50;77H[1m[7m3,[23;3H[?12l[?25h[?25l[m[51;73H~@k[23;3H[51;73H   [22;3H[50;77H[1m[7m2,[22;3H[?12l[?25h[?25l[m[51;73H~@k[22;3H[51;73H   [21;8H[50;77H[1m[7m1,1 [21;8H[?12l[?25h[?25l[m[51;73H~@k[21;8H[51;73H   [22;3H[50;77H[1m[7m2,3 [22;3H[?12l[?25h[?25l[m[51;73H~@k[22;3H[51;73H   [23;3H[50;77H[1m[7m3,[23;3H[?12l[?25h[?25l[m[51;73H~@k[23;3H[51;73H   [24;3H[50;77H[1m[7m4,[24;3H[?12l[?25h[?25l[m[51;73H~@k[24;3H[51;73H   [25;3H[50;77H[1m[7m5,[25;3H[?12l[?25h[?25l[m[51;73H^[[25;3H[?12l[?25h[?25l[51;73H  [25;3H[?12l[?25h[?25l[51;73Hi[25;3H[51;73H [25;3H[51;1H[1m-- INSERT --[25;3H[?12l[?25h[?25l[mgrep [38;5;224m"[m[95minet addr[m[38;5;224m"[m | cut -d [38;5;224m'[m[95m:[m[38;5;224m'[m -f2 | cut -d [38;5;224m'[m[95m [m[38;5;224m'[m -f1[50;45H[1m[7m[+][26C225,53[25;53H[?12l[?25h[m[51;1H[K[25;52H[?25l[51;73H^[[25;52H[?12l[?25h[?25l[51;73H  [25;53H[50;79H[1m[7m2 [25;52H[?12l[?25h[?25l[m[51;73H:[25;52H[51;73H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"scenarios/liberty_elastica/tasks/scenario.rb" 372L, 14810C written[25;52H[50;45H[1m[7m    [25;52H[?12l[?25h[?25l[m[51;73H:[25;52H[51;1H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/xp5k-openstack$ cd ..
falvaresdeoliveira@flyon:~$ cd elastica
falvaresdeoliveira@flyon:~/elastica$ vim deployment/[K[K[K[K[K[K[K[K[K[K[K[K z[K[K[K[K[Kvim experiments/rubis_energy_ls/scripts/bench.ssh 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"experiments/rubis_energy_ls/scripts/bench.sh" 247L, 7800C[>c[1;1H[96m#!/bin/bash

#PATTERNS_WORKLOAD="IncreasingWorkload WorkloadPeak" #name pattern[m

[1m[96mPATTERNS_WORKLOAD[m=[93m"[m[95mwikipedia[m[93m"[m

[96m#STRATEGIES="nothing horInfra_vertSoft onlyhorInfra onlyvertSoft"
#STRATEGIES="horInfra_vertSoft onlyhorInfra onlyvertSoft"[m
[1m[96mSTRATEGIES[m=[93m"[m[95monlyvertSoft[m[93m"
if ![m [93m[[m [93m-d[m /share [93m][m || [93m![m [93m[[m [93m-f[m /root/adminrc [93m]
then[12;9Hecho[m[95m [m[93m"[m[95mThis script must be executed on the Cloud controller[m[93m"[m[95m     [m[13;9H[93mexit[m [95m1[m
[93mfi


cd[m [38;5;81m$PROJECT_PATH[m

[93msource[m [38;5;81m$PROJECT_PATH[m/common/util.sh


[93mif ![m [93m[[m [93m-f[m [38;5;81m$G5K_USER_PATH[m [93m-a[m [93m-f[m [38;5;81m$G5K_PWD_PATH[m [93m]
then
[m    [93mecho[m[95m [m[93m"[m[95mError: Username or password not stored![m[93m"
[m    [93mexit[m [95m1[m
[93mfi[m

[96m#G5K_PWD=$(cat $G5K_PWD_PATH | base64 --decode)[m
[1m[96mG5K_USER[m=[38;5;81m$([m[38;5;224mcat [m[38;5;81m$G5K_USER_PATH)[m

[1m[96mPATH_RESULTS[m=[38;5;81m$PROJECT_PATH[m/experiments/rubis_energy_ls/results

[1m[96mNAME_BENCH[m=bench_[38;5;224m`date +%s`[m

[1m[96mPATH_RESULT_BENCH[m=[38;5;81m$PATH_RESULTS[m/[38;5;81m$NAME_BENCH[m

[96m#NB_INSTANCES=2

#INJECTOR_NODES_FILE=$PROJECT_PATH/tmp/injectors.txt[m

[93mif [[m [93m-e[m [38;5;81m$PATH_RESULT_BENCH[m [93m]
then[43;9Hrm[m [38;5;224m-rf[m [38;5;81m$PATH_RESULT_BENCH[m
[93mfi

mkdir[m [38;5;81m$PATH_RESULT_BENCH[m[50;1H[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                1,1 Top[1;1H[?12l[?25h[?25l[m[51;73H~@k[1;1H[51;73H   [2;1H[50;77H[1m[7m2,0 [2;1H[?12l[?25h[?25l[m[51;73H~@k[2;1H[51;73H   [3;1H[50;77H[1m[7m3,1 [3;1H[?12l[?25h[?25l[m[51;73H~@k[3;1H[51;73H   [4;1H[50;77H[1m[7m4,0 [4;1H[?12l[?25h[?25l[m[51;73H~@k[4;1H[51;73H   [5;1H[50;77H[1m[7m5,1 [5;1H[?12l[?25h[?25l[m[51;73H~@k[5;1H[51;73H   [6;1H[50;77H[1m[7m6,0 [6;1H[?12l[?25h[?25l[m[51;73H~@k[6;1H[51;73H   [7;1H[50;77H[1m[7m7,1 [7;1H[?12l[?25h[?25l[m[51;73H~@k[7;1H[51;73H   [8;1H[50;77H[1m[7m8,[8;1H[?12l[?25h[?25l[m[51;73H~@k[8;1H[51;73H   [9;1H[50;77H[1m[7m9,[9;1H[?12l[?25h[?25l[m[51;73H~@k[9;1H[51;73H   [10;1H[50;76H[1m[7m10,[10;1H[?12l[?25h[?25l[m[51;73H~@k[10;1H[51;73H   [11;1H[50;77H[1m[7m1,[11;1H[?12l[?25h[?25l[m[51;73H~@k[11;1H[51;73H   [12;8H[50;77H[1m[7m2,[12;8H[?12l[?25h[?25l[m[51;73H~@k[12;8H[51;73H   [13;1H[50;77H[1m[7m3,[13;1H[?12l[?25h[?25l[m[51;73H~@k[13;1H[51;73H   [14;1H[50;77H[1m[7m4,[14;1H[?12l[?25h[?25l[m[51;73H~@k[14;1H[51;73H   [15;1H[50;77H[1m[7m5,0 [15;1H[?12l[?25h[?25l[m[51;73H~@k[15;1H[51;73H   [1;1H[27m[23m[m[H[2J[6;1H[1m[96mname_tier[m=tier[11;1H[1m[96merase_plateforme () {[m[12;9H[93mfor[m name_vm [93min[m [38;5;224m`nova list | [m[93mgrep[m[38;5;224m private | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d  [m[13;1H[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[14;9H[93mdo[m[15;17Hnova delete [38;5;81m$name_vm[m[16;9H[93mdone[18;9Hif [[m [93m-e[m [38;5;81m$TIER_LIST_PATH[m/[38;5;81m$name_tier[m [93m][19;9Hthen[20;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_LIST_PATH[m/[38;5;81m$name_tier[m[21;9H[93mfi[22;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[23;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[24;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[25;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[32;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m
[96m#      DB_IP_ADDRESS=`nova list | grep dbtier$i | tr "|" " " |tr -s " " | cut -d '  [34;1H' -f5 | cut -d "=" -f2`[m[36;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m''[m[37;1H[38;5;224m -f8
      [m[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[38;5;224m> [m[38;5;81m$DB_INFO_FILE[m
[38;5;224m      [m[38;5;81m$PROJECT_PATH[m[38;5;224m/apicloud/scale-iaas.sh out [m[38;5;81m$name_tier$i[m
[38;5;224m    done
}


reset_plateforme [m[38;5;81m()[m[38;5;224m {
        erase_plateforme
        init_plateforme 
}

ssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m [m[38;5;81m$G5K_USER[m[38;5;224m@frontend [m[93m"[m[95mmkdir -p ~/results[m[93m"[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                               48,0 23%[1;1H[?12l[?25h[?25l[m[51;73H~@k[1;1H[51;73H   [1;1H[27m[23m[m[H[2J[2;1H[38;5;224mssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m [m[38;5;81m$G5K_USER[m[38;5;224m@frontend [m[93m"[m[95mmkdir -p ~/results[m[93m"[m

[38;5;224mfor pattern in [m[38;5;81m$PATTERNS_WORKLOAD[m
[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m  [26;1H[93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m[32;1H[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                               92,0 45%[1;1H[?12l[?25h[?25l[m[51;73H~@k[1;1H[51;73H   [1;17H[27m[23m[m[H[2J[1;1H[38;5;224m                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tt[6;1Hier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova list | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m  [m[14;1H[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova list | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m""[m[16;1H |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADD[18;1HRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LL[25;1HOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstashh[26;1H &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_avaii[34;1Hlability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availabii[35;1Hlity.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #launch experiment
                [m[1m[96mend[m=[38;5;224m`[m[38;5;81m$NUMBER_APPLICATIONS[m - [95m1[m[38;5;224m`
                for i in `[mseq [95m1[m [38;5;81m$end[m[38;5;224m`
                do
                     [m[1m[96minjector_node[m=[38;5;224m$[m[38;5;81m([m[93msed[m [38;5;224m-n[m [38;5;81m$i[m[93m'[m[95mp[m[93m'[m [38;5;81m$INJECTOR_NODES_FILE)[m
[38;5;224m                     ssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m root@[m[38;5;81m$injector_node[m[38;5;224m [m[93m"[m[95mexport  [46;1HJAVA_OPTS=[m[38;5;224m\"[m[95m-DlbURL=http://[m[38;5;81m$lb_addresses[m[95m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m - [m[95m1[m[38;5;224m`[m[95m]:[m[38;5;81m$LB_PORT[m[95m;\
                                              sh -c 'nohup ~/gatling/bin/gatling.shh[48;1H -nr -s elastica.[m[38;5;81m$pattern[m[95m > ~/run.log 2>&1 &'[m[93m"[m[38;5;224m -i /tmp/id_rsa
                done [m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                              138,3 65%[1;17H[?12l[?25h[?25l[m[51;73H~@k[1;17H[51;73H   [1;47H[1;49r[1;1H[46M[1;51r[4;1H[38;5;224m                
                export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$lb_addresses[m[95m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$NB_INSTANCES[m[38;5;224m  [6;1H- [m[95m1[m[38;5;224m`[m[95m]:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m

[38;5;224m                #timestamp of the beginning of the end of the experiments
                [m[1m[96mend_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m               
        
                [m[93mkill[m[38;5;224m [m[38;5;81m$GREEN_AVAILABILITY_PID[m
[38;5;224m                [m[93mkill[m[38;5;224m [m[38;5;81m$LOGSTASH_PID[m

[38;5;224m                #on sauvegarde les donn√©e li√©es √† l√©tat de la plateforme
                cp [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/state_plateforme.log
                
                #on sauvegarde les donn√©es li√©es √† gatling [m[38;5;81m([mtemps de r√©ponse[38;5;81m)[m[38;5;224m   
                [m[93mmv[m[38;5;224m [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/* [m[38;5;81m$path_experiment[m[38;5;224m/
        
                #[m[93mecho[m[95m [m[93m"[m[95mGathering result file from localhost[m[93m"[m
[38;5;224m                #[m[93mls[m[38;5;224m -t [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/ | head -n [m[95m1[m[38;5;224m | xargs -I {} [m[93mmv[m[38;5;224m  [m[23;1H[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/{} [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/report
                #cp [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/report/simulation.log [m[38;5;81m$GATHER_REPP[25;1HORTS_DIR[m

[38;5;224m#               [m[1m[96mend[m=[38;5;224m`[m[38;5;81m$NB_INSTANCES[m - [95m1[m[38;5;224m`
                for i in `[mseq [95m1[m [38;5;81m$end[m[38;5;224m`
                do
                   [m[1m[96minjector_node[m=[38;5;224m$[m[38;5;81m([m[93msed[m [38;5;224m-n[m [38;5;81m$i[m[93m'[m[95mp[m[93m'[m [38;5;81m$INJECTOR_NODES_FILE)[m
[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[38;5;224m#                  ssh -n -f root@[m[38;5;81m$injector_node[m[38;5;224m [m[93m"[m[95msh -c 'ls -t ~/gatling/results/ ||[33;1H head -n 1 | xargs -I {} mv [m[38;5;81m${GATLING_REPORT_DIR}[m[95m{} [m[38;5;81m${GATLING_REPORT_DIR}[m[95mreport'[m[93m"[m
[38;5;224m                   scp -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m -i /tmp/id_rsa  -r root@[m[38;5;81m$injecc[35;1Htor_node[m[38;5;224m:~/gatling/results/* [m[38;5;81m$path_experiment[m[38;5;224m/
# [m[38;5;81m${GATHER_REPORTS_DIR}[m[38;5;224msimulation-[m[38;5;81m$i.log[m
[38;5;224m                done

                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova list | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m""[m[42;1H |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                
                   #on sauvegarde les donn√©es li√©es a nginx
                   scp -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m -i [m[38;5;81m$PATH_KEYPAIR[m[38;5;224m/id_rsa ubuntuu[46;1H@[m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:/root/access_nginx.log [m[38;5;81m$path_experiment[m[38;5;224m/access_nginx[m[38;5;81m${i}[m[38;5;224m.log
                done
        
        [m[50;74H[1m[7m175,30 84%[1;47H[?12l[?25h[?25l[m[51;73H~@k[1;47H[51;73H   [1;8H[27m[23m[m[H[2J[1;1H[38;5;224m        
        
                #on sauvegarde les donn√©es li√©es √† la ram et au cpu
                [m[93mmv[m[38;5;224m [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv [m[38;5;81m$path_experiment[m[38;5;224m/
                
                #on sauvegarde le scenario
                cp [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/user-files/simulations/elastica/[m[38;5;81m$pattern.ss[8;1Hcala[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/
                
                #on sauvegarde le code [m[93mdu[m[38;5;224m handler de l[m[93m'[m[95melasticit√© manager
                cp $PROJECT_PATH/elasticity_manager/handle_event.sh $path_experimenn[12;1Ht/
        
        
                #retrieving energy log files
                echo "retrieving energy log files from"$nodes
                $PROJECT_PATH/experiments/rubis_energy_ls/scripts/get_energy_log.shh[18;1H $start_timestamp $end_timestamp $path_experiment $nodes

                
                rm -f /root/action.sh
                echo "checking if action in progress"
                #on ne peut passer qu[m[93m'[m[38;5;224m√† l[m[93m'[m[95mexp√© suivante si on on a pas d[m[93m'[m[38;5;224maction en  [24;1Hcours
                while ! [ -z [m[93m"[m[38;5;224m`ps aux | [m[93mgrep[m[38;5;224m /root/action.sh | [m[93mgrep[m[38;5;224m -v [m[93mgrep[m[38;5;224m`[m[93m"[m[38;5;224m ]
                do 
                        [m[93mecho[m[95m -n [m[93m"[m[95m.[m[93m"[m
[38;5;224m                        [m[93msleep[m[38;5;224m [m[95m1[m
[38;5;224m                done
                
                [m[93mecho[m[95m [m[93m"[m[95mno more action in progress[m[93m"[m
[38;5;224m                
        done
done
if [ -d [m[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m ]
then
    scp -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m -r [m[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m [m[38;5;81m$G5K_USER[m[38;5;224m@frontend:~/ree[38;1Hsults/
fi[m
[94m~                                                                                  [41;1H~                                                                                  [42;1H~                                                                                  [43;1H~                                                                                  [44;1H~                                                                                  [45;1H~                                                                                  [46;1H~                                                                                  [47;1H~                                                                                  [48;1H~                                                                                  [49;1H~                                                                                  [m[50;1H[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                              214,1 Bot[1;8H[?12l[?25h[?25l[m[51;73H~@k[1;8H[51;73H   [47;8H[1;49r[1;1H[45L[1;51r[1;1H[38;5;224m                done 
                
                export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$lb_addresses[m[95m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$NB_INSTANCES[m[38;5;224m  [4;1H- [m[95m1[m[38;5;224m`[m[95m]:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/bin/gatling.sh -nr -s elastica.[m[38;5;81m$pattern[m

[38;5;224m                #timestamp of the beginning of the end of the experiments
                [m[1m[96mend_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m               
        
                [m[93mkill[m[38;5;224m [m[38;5;81m$GREEN_AVAILABILITY_PID[m
[38;5;224m                [m[93mkill[m[38;5;224m [m[38;5;81m$LOGSTASH_PID[m

[38;5;224m                #on sauvegarde les donn√©e li√©es √† l√©tat de la plateforme
                cp [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m[38;5;224m [m[38;5;81m$path_experiment[m[38;5;224m/state_plateforme.log
                
                #on sauvegarde les donn√©es li√©es √† gatling [m[38;5;81m([mtemps de r√©ponse[38;5;81m)[m[38;5;224m   
                [m[93mmv[m[38;5;224m [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/* [m[38;5;81m$path_experiment[m[38;5;224m/
        
                #[m[93mecho[m[95m [m[93m"[m[95mGathering result file from localhost[m[93m"[m
[38;5;224m                #[m[93mls[m[38;5;224m -t [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/ | head -n [m[95m1[m[38;5;224m | xargs -I {} [m[93mmv[m[38;5;224m  [m[21;1H[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/{} [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/report
                #cp [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/report/simulation.log [m[38;5;81m$GATHER_REPP[23;1HORTS_DIR[m

[38;5;224m#               [m[1m[96mend[m=[38;5;224m`[m[38;5;81m$NB_INSTANCES[m - [95m1[m[38;5;224m`
                for i in `[mseq [95m1[m [38;5;81m$end[m[38;5;224m`
                do
                   [m[1m[96minjector_node[m=[38;5;224m$[m[38;5;81m([m[93msed[m [38;5;224m-n[m [38;5;81m$i[m[93m'[m[95mp[m[93m'[m [38;5;81m$INJECTOR_NODES_FILE)[m
[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[95mGathering result file from host: [m[38;5;81m$injector_node[m[93m"[m
[38;5;224m#                  ssh -n -f root@[m[38;5;81m$injector_node[m[38;5;224m [m[93m"[m[95msh -c 'ls -t ~/gatling/results/ ||[31;1H head -n 1 | xargs -I {} mv [m[38;5;81m${GATLING_REPORT_DIR}[m[95m{} [m[38;5;81m${GATLING_REPORT_DIR}[m[95mreport'[m[93m"[m
[38;5;224m                   scp -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m -i /tmp/id_rsa  -r root@[m[38;5;81m$injecc[33;1Htor_node[m[38;5;224m:~/gatling/results/* [m[38;5;81m$path_experiment[m[38;5;224m/
# [m[38;5;81m${GATHER_REPORTS_DIR}[m[38;5;224msimulation-[m[38;5;81m$i.log[m
[38;5;224m                done

                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova list | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m""[m[40;1H |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                
                   #on sauvegarde les donn√©es li√©es a nginx
                   scp -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m -i [m[38;5;81m$PATH_KEYPAIR[m[38;5;224m/id_rsa ubuntuu[44;1H@[m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:/root/access_nginx.log [m[38;5;81m$path_experiment[m[38;5;224m/access_nginx[m[38;5;81m${i}[m[38;5;224m.log
                done[m[50;77H[1m[7m5,1 85%[47;8H[?12l[?25h[?25l[m[51;73H~@k[47;8H[51;73H   [49;16H[27m[23m[m[H[2J[1;1H[38;5;224m                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tt[5;1Hier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                #   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova list | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m  [m[13;1H[93m"[m |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f5[m | cut [93m-d[m [93m"[m[95m=[m[93m"[m [38;5;224m-f2`
                   [m[1m[96mADRESS_IP_LB[m=[38;5;224m`[mnova list | [93mgrep[m [38;5;81m$name_tier$i[m[93m"[m[95m_VM_LB[m[93m"[m | tr [93m"[m[95m|[m[93m"[m [93m"[m[95m [m[93m""[m[15;1H |tr [93m-s[m [93m"[m[95m [m[93m"[m | cut [93m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f8`
                   while ! curl [m[38;5;81m$ADRESS_IP_LB[m[38;5;224m:[m[38;5;81m$LB_PORT[m[38;5;224m ; do [m[93mecho[m[95m [m[93m"[m[95mhas done curl [m[38;5;81m$ADD[17;1HRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m[95m [m[38;5;224m; [m[93msleep[m[38;5;224m [m[95m1[m[38;5;224m ; done
                   lb_addresses[`[m[93mexpr[m [38;5;81m$i[m - [95m1[m[38;5;224m`]=[m[38;5;81m$ADRESS_IP_LB[m
[38;5;224m#                  export [m[1m[96mJAVA_OPTS[m=[93m"[m[95m-DlbURL=http://[m[38;5;81m$ADRESS_IP_LB[m[95m:[m[38;5;81m$LB_PORT[m[93m"[m
[38;5;224m                done

                [m[1m[96mlogstash[m=[93m"[m[95mlogstash-1.4.2[m[93m"[m
[38;5;224m                [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/[m[38;5;81m$logstash[m[38;5;224m/bin/logstash agent -f [m[38;5;81m$DEFAULT_LL[24;1HOCAL_CONF_PATH[m[38;5;224m/indexer_logstash.conf > /tmp/stdout_logstash [m[95m2[m[38;5;224m> /tmp/stderr_logstashh[25;1H &
                [m[1m[96mLOGSTASH_PID[m=[38;5;81m$![m

[38;5;224m                #timestamp of the beginning of the experiments
                [m[1m[96mstart_timestamp[m=[38;5;224m$[m[38;5;81m([mdate +%s[38;5;81m)[m[38;5;224m             

                #launch the green energy availability file reader
                [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_avaii[33;1Hlability.sh [m[38;5;81m$PROJECT_PATH[m[38;5;224m/experiments/rubis_energy_ls/scripts/green_energy_availabii[34;1Hlity.txt [m[95m60[m[38;5;224m  &

                [m[1m[96mGREEN_AVAILABILITY_PID[m=[38;5;81m$![m[38;5;224m 

        
                #launch experiment
                [m[1m[96mend[m=[38;5;224m`[m[38;5;81m$NUMBER_APPLICATIONS[m - [95m1[m[38;5;224m`
                for i in `[mseq [95m1[m [38;5;81m$end[m[38;5;224m`
                do
                     [m[1m[96minjector_node[m=[38;5;224m$[m[38;5;81m([m[93msed[m [38;5;224m-n[m [38;5;81m$i[m[93m'[m[95mp[m[93m'[m [38;5;81m$INJECTOR_NODES_FILE)[m
[38;5;224m                     ssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m root@[m[38;5;81m$injector_node[m[38;5;224m [m[93m"[m[95mexport  [45;1HJAVA_OPTS=[m[38;5;224m\"[m[95m-DlbURL=http://[m[38;5;81m$lb_addresses[m[95m[[m[38;5;224m`[m[93mexpr[m[38;5;224m [m[38;5;81m$i[m[38;5;224m - [m[95m1[m[38;5;224m`[m[95m]:[m[38;5;81m$LB_PORT[m[95m;\
                                              sh -c 'nohup ~/gatling/bin/gatling.shh[47;1H -nr -s elastica.[m[38;5;81m$pattern[m[95m > ~/run.log 2>&1 &'[m[93m"[m[38;5;224m -i /tmp/id_rsa
                done 
                [m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                              177,2 66%[49;16H[?12l[?25h[?25l[m[51;73H~@k[49;16H[51;73H   [49;17H[27m[23m[m[H[2J[1;1H[38;5;224mssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m [m[38;5;81m$G5K_USER[m[38;5;224m@frontend [m[93m"[m[95mmkdir -p ~/results[m[93m"[m

[38;5;224mfor pattern in [m[38;5;81m$PATTERNS_WORKLOAD[m
[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m  [25;1H[93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m[31;1H[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                              140,3 46%[49;17H[?12l[?25h[?25l[m[51;73H~@k[49;17H[51;73H   [49;17H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                   #on sp√©cifie la strat√©gie que lon veut utiliser[m[50;74H[1m[7m141,17 [49;17H[?12l[?25h[?25l[m[51;73H~@k[49;17H[51;73H   [48;17H[1;49r[1;1H[2M[1;51r[48;1H[38;5;224m                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tt[49;1Hier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m[50;76H[1m[7m2,10 47%[48;17H[?12l[?25h[?25l[m[51;73H~@k[48;17H[51;73H   [49;17H[1;49r[49;1H
[1;51r[49;1H[38;5;224m                done[m[50;74H[1m[7m 143,3 48%[49;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m''[m[21;1H[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tii[48;1Her$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                               143,3 48%[49;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m''[m[21;1H | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tierr[48;1H$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                 143,3 48%[49;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m |  [21;1Hcut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m""[m[48;1H[95m [m[38;5;224m>> /root/action.sh
                done[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                    143,3 48%[49;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cutt[21;1H [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>>>[48;1H /root/action.sh
                done[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                       143,3 48%[49;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m  [21;1H[93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /roo[48;1Hot/action.sh
                done[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                           143,3 48%[49;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m''[m[21;1H [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root//[48;1Haction.sh
                done[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                              143,3 48%[49;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m--[21;1Hf[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/acc[48;1Htion.sh
                done[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                143,3 48%[49;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m  [21;1H[95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/actii[48;1Hon.sh
                done[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                  143,3 48%[49;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m22[m[21;1H[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/actioo[48;1Hn.sh
                done[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                   143,3 48%[49;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m[22;1H[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/actionn[47;1H.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                    143,3 48%[48;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action..[47;1Hsh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                     143,3 48%[48;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.ss[47;1Hh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                      143,3 48%[48;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                        143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                              143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                    143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                          143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                 143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                     143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                        143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                            143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                             143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                              143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                               143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                  143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                   143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                     143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                      143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                       143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                        143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                       143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                      143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                     143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                    143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                   143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                  143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                 143,3 48%[47;17H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[38;5;224m        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do
                #on nettoie les logs gatling
                [m[93mrm[m[38;5;224m -rf [m[38;5;81m$PROJECT_PATH[m[38;5;224m/gatling/results/*
                
                #on nettoie les log de ram/cpu
                [m[93mecho[m[95m [m[93m""[m[95m [m[38;5;224m> [m[38;5;81m$DEFAULT_LOCAL_CONF_PATH[m[38;5;224m/output-system.csv
                
                
                [m[1m[96mname_experiment[m=[93m"[m[95mexp_[m[93m"[m[38;5;81m$pattern[m[93m"[m[95m_[m[93m"[m[38;5;81m$strategy[m
[38;5;224m                [m[1m[96mpath_experiment[m=[38;5;81m$PATH_RESULT_BENCH[m[38;5;224m/[m[38;5;81m$name_experiment[m
[38;5;224m                
                #on cr√©√© le r√©pertoire de resultats de bench
                [m[93mmkdir[m[38;5;224m [m[38;5;81m$path_experiment[m
[38;5;224m                
                [m[93mrm[m[38;5;224m -f [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m                [m[93mtouch[m[38;5;224m [m[38;5;81m$TMP_FILE_LOG_CLOUD_STATE[m
[38;5;224m        
                #retrieve the name of the compute nodes
                [m[1m[96mcompute_nodes[m=[38;5;224m$[m[38;5;81m([mnova host-list | [93mgrep[m compute | tr [93m'[m[95m|[m[93m'[m [93m'[m[95m [m[93m'[m | tr [38;5;224m-s[m [93m'[m[95m [m[93m'[m | cut [38;5;224m-d[m [93m'[m[95m [m[93m'[m [38;5;224m-f[m [95m2[m[38;5;81m)[m

[38;5;224m                [m[1m[96mnodes[m=
[38;5;224m                for n in [m[38;5;81m$compute_nodes[m
[38;5;224m                do 
                    #[m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;224m$[m[38;5;81m([m[93mecho[m[95m [m[38;5;81m$n[m[95m [m| [93msed[m [38;5;224m-n[m [93m'[m[95ms/^\(.*\)\-kavlan.*$/\1/p[m[93m'[m[38;5;81m)[m
[38;5;224m                    [m[1m[96mnodes[m=[38;5;81m$nodes[m[93m"[m[95m [m[93m"[m[38;5;81m$n[m[38;5;224m 
                done

                #on supprime la plateforme actuelle 
                erase_plateforme        
                                
                #on r√©initialise la plateforme : par defaut un seul worker
                init_plateforme
                        
                unset http_proxy
                unset https_proxy
                

                
                
                #on logue l[m[93m'[m[95metat du systeme avant l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state b_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                for i in `[mseq [95m1[m [38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`
                do
                   #on sp√©cifie la strat√©gie que lon veut utiliser
                   [m[93mecho[m[95m [m[93m"[m[38;5;81m$PROJECT_PATH[m[95m/apicloud/strategies/[m[38;5;81m$strategy.sh[m[95m [m[38;5;224m\$[m[95m1 [m[38;5;81m$name_tier$i[m[93m"[m[95m [m[38;5;224m>> /root/action.sh
                done
                #on logue l[m[93m'[m[95metat du systeme apres l[m[93m'[m[38;5;224maction
                [m[93mecho[m[95m [m[93m"[m[95mlog_cloud_state e_[m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[38;5;224m>> /root/action.sh[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                143,3 48%[47;17H[?12l[?25h[?25l[m[51;139H~@k[47;17H[51;139H   [48;17H[50;143H[1m[7m4,[48;17H[?12l[?25h[?25l[m[51;139H~@k[48;17H[51;139H   [49;17H[50;143H[1m[7m5,[49;17H[?12l[?25h[?25l[m[51;139H~@k[49;17H[51;139H   [48;17H[50;143H[1m[7m4,[48;17H[?12l[?25h[?25l[m[51;139H~@k[48;17H[51;139H   [47;17H[50;143H[1m[7m3,[47;17H[?12l[?25h[?25l[m[51;139H~@k[47;17H[51;139H   [46;17H[50;140H[1m[7m142,10 [46;17H[?12l[?25h[?25l[m[51;139H~@k[46;17H[51;139H   [45;17H[50;142H[1m[7m1,17 [45;17H[?12l[?25h[?25l[m[51;139H~@k[45;17H[51;139H   [44;17H[50;140H[1m[7m 140,3 [44;17H[?12l[?25h[?25l[m[51;139H~@k[44;17H[51;139H   [43;17H[50;142H[1m[7m39,[43;17H[?12l[?25h[?25l[m[51;139H~@k[43;17H[51;139H   [42;17H[50;143H[1m[7m8,[42;17H[?12l[?25h[?25l[m[51;139H~@k[42;17H[51;139H   [41;17H[50;143H[1m[7m7,[41;17H[?12l[?25h[?25l[m[51;139H~@k[41;17H[51;139H   [40;16H[50;143H[1m[7m6,2 [40;16H[?12l[?25h[?25l[m[51;139H~@k[40;16H[51;139H   [39;16H[50;143H[1m[7m5,[39;16H[?12l[?25h[?25l[m[51;139H~@k[39;16H[51;139H   [38;1H[50;143H[1m[7m4,0 [38;1H[?12l[?25h[?25l[m[51;139H~@k[38;1H[51;139H   [37;16H[50;143H[1m[7m3,2 [37;16H[?12l[?25h[?25l[m[51;139H~@k[37;16H[51;139H   [36;17H[50;143H[1m[7m2,3 [36;17H[?12l[?25h[?25l[m[51;139H~@k[36;17H[51;139H   [49;9H[27m[23m[m[H[2J[4;1H[1m[96mname_tier[m=tier[9;1H[1m[96merase_plateforme () {[m[10;9H[93mfor[m name_vm [93min[m [38;5;224m`nova list | [m[93mgrep[m[38;5;224m private | tr [m[93m'[m[95m|[m[93m'[m[38;5;224m [m[93m'[m[95m [m[93m'[m[38;5;224m | tr -s [m[93m'[m[95m [m[93m'[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f [m[95m3[m[38;5;224m`[m[11;9H[93mdo[m[12;17Hnova delete [38;5;81m$name_vm[m[13;9H[93mdone[15;9Hif [[m [93m-e[m [38;5;81m$TIER_LIST_PATH[m/[38;5;81m$name_tier[m [93m][16;9Hthen[17;17Hrm[m [38;5;224m-rf[m [38;5;81m$TIER_LIST_PATH[m/[38;5;81m$name_tier[m[18;9H[93mfi[19;9Hecho[m[95m [m[93m'[m[95m#!/bin/bash[m[93m'[m[95m [m[93m>[m /root/action.sh[20;9H[93mecho[m[95m [m[93m"[m[95mecho [m[38;5;224m\$[m[95m0 [m[38;5;224m\$[m[95m1[m[93m"[m[95m [m[93m>>[m /root/action.sh[21;9H[93mecho[m[95m [m[93m"[m[95msource [m[38;5;81m$PROJECT_PATH[m[95m/common/util.sh[m[93m"[m[95m [m[93m>>[m /root/action.sh[22;9H[93mchmod[m [38;5;224m+x[m /root/action.sh

[1m[96m}

init_plateforme () {[m
    [93mfor[m i [93min[m [38;5;224m`seq [m[95m1[m[38;5;224m [m[38;5;81m$NUMBER_APPLICATIONS[m[38;5;224m`[m
    [93mdo[m[29;7H[38;5;81m$PROJECT_PATH[m/apicloud/new_vm.sh [95m5[m db-rubis[38;5;81m$i[m db dbtier[38;5;81m$i[m
[96m#      DB_IP_ADDRESS=`nova list | grep dbtier$i | tr "|" " " |tr -s " " | cut -d ' ' -f5 | cut -d "=" -f2`[m[32;7H[1m[96mDB_IP_ADDRESS[m=[38;5;224m`nova list | [m[93mgrep[m[38;5;224m dbtier[m[38;5;81m$i[m[38;5;224m | tr [m[93m"[m[95m|[m[93m"[m[38;5;224m [m[93m"[m[95m [m[93m"[m[38;5;224m |tr -s [m[93m"[m[95m [m[93m"[m[38;5;224m | cut -d [m[93m'[m[95m [m[93m'[m[38;5;224m -f8
      [m[93mecho[m[95m [m[38;5;81m$DB_IP_ADDRESS[m[95m [m[38;5;224m> [m[38;5;81m$DB_INFO_FILE[m
[38;5;224m      [m[38;5;81m$PROJECT_PATH[m[38;5;224m/apicloud/scale-iaas.sh out [m[38;5;81m$name_tier$i[m
[38;5;224m    done
}


reset_plateforme [m[38;5;81m()[m[38;5;224m {
        erase_plateforme
        init_plateforme 
}

ssh -o [m[93m"[m[95mStrictHostKeyChecking no[m[93m"[m[38;5;224m [m[38;5;81m$G5K_USER[m[38;5;224m@frontend [m[93m"[m[95mmkdir -p ~/results[m[93m"[m

[38;5;224mfor pattern in [m[38;5;81m$PATTERNS_WORKLOAD[m
[38;5;224mdo 
        for strategy in [m[38;5;81m$STRATEGIES[m
[38;5;224m        do[m
[1m[7mexperiments/rubis_energy_ls/scripts/bench.sh                                                                                                 98,2 24%[49;9H[?12l[?25h[?25l[m[51;139H~@k[49;9H[51;139H   [48;9H[50;143H[1m[7m7,[48;9H[?12l[?25h[?25l[m[51;139H~@k[48;9H[51;139H   [47;3H[50;143H[1m[7m6,3 [47;3H[?12l[?25h[?25l[m[51;139H~@k[47;3H[51;139H   [46;9H[50;143H[1m[7m5,9 [46;9H[?12l[?25h[?25l[m[51;139H~@k[46;9H[51;139H   [45;1H[50;143H[1m[7m4,0 [45;1H[?12l[?25h[?25l[m[51;139H~@k[45;1H[51;139H   [44;9H[50;143H[1m[7m3,9 [44;9H[?12l[?25h[?25l[m[51;139H~@k[44;9H[51;139H   [43;1H[50;143H[1m[7m2,0 [43;1H[?12l[?25h[?25l[m[51;139H~@k[43;1H[51;139H   [42;1H[39;21H[38;5;224m[46m{


}[m[50;143H[1m[7m1,1 [42;1H[?12l[?25h[?25l[m[51;139H~@k[42;1H[51;139H   [41;9H[39;21H[38;5;224m{


}[m[50;143H[1m[7m0,2 [41;9H[?12l[?25h[?25l[m[51;139H~@k[41;9H[51;139H   [40;9H[50;142H[1m[7m89,[40;9H[?12l[?25h[?25l[m[51;139H~@k[40;9H[51;139H   [39;9H[50;143H[1m[7m8,9 [39;9H[?12l[?25h[?25l[m[51;139H~@k[39;9H[51;139H   [38;1H[50;143H[1m[7m7,0 [38;1H[?12l[?25h[?25l[m[51;139H~@k[38;1H[51;139H   [37;1H[50;143H[1m[7m6,[37;1H[?12l[?25h[?25l[m[51;139H~@k[37;1H[51;139H   [36;1H[26;20H[1m[96m[46m{[m[36;1H[38;5;224m[46m}[m[50;143H[1m[7m5,1 [36;1H[?12l[?25h[?25l[m[51;139H~@k[36;1H[51;139H   [35;8H[26;20H[1m[96m{[m[36;1H[38;5;224m}[m[50;143H[1m[7m4,8 [35;8H[?12l[?25h[?25l[m[51;139H~@k[35;8H[51;139H   [34;9H[50;143H[1m[7m3,9 [34;9H[?12l[?25h[?25l[m[51;139H~@k[34;9H[51;139H   [33;9H[50;143H[1m[7m2,[33;9H[?12l[?25h[?25l[m[51;139H~@k[33;9H[51;139H   [32;9H[50;143H[1m[7m1,[32;9H[?12l[?25h[?25l[m[51;139H~@k[32;9H[51;139H   [31;5H[50;143H[1m[7m0,5 [31;5H[?12l[?25h[?25l[m[51;139H~@k[31;5H[51;139H   [32;9H[50;143H[1m[7m1,9 [32;9H[?12l[?25h[?25l[m[51;139H~@@[32;9H[51;139H   [32;87H[50;141H[1m[7m81,87 [32;87H[?12l[?25h[?25l[m[51;139Hi[32;87H[51;139H [32;87H[51;1H[1m-- INSERT --[32;87H[?12l[?25h[m[50;145H[1m[7m8 [32;88H[?25l[m[38;5;224m`[m
      [20C[93m>[m 
      [13C/apicloud/scale-iaas.sh out 
    [93mdone[m
[1m[96m}


reset_plateforme () {[m
        erase_plateforme
        init_plateforme 
[1m[96m}[m

ssh [2C [26C [9C@frontend 

[93mfor[m pattern [93min[m 
[93mdo[m 
        [93mfor[m strategy [93min[m 
        [93mdo[m[50;45H[1m[7m[+][97C9 [32;89H[?12l[?25h[50;142H2,42 [33;42H[50;142H3,60 [34;60H[50;142H2,42 [33;42H[m[51;1H[K[33;41H[?25l[51;139H^[[33;41H[?12l[?25h[?25l[51;139H  [33;42H[50;145H[1m[7m1 [33;41H[?12l[?25h[?25l[m[51;139H:[33;41H[51;139H[K[51;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"experiments/rubis_energy_ls/scripts/bench.sh" 247L, 7801C written[33;41H[50;45H[1m[7m    [33;41H[?12l[?25h[?25l[m[51;139H:[33;41H[51;1H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica$ [Kfalvaresdeoliveira@flyon:~/elastica$ vim ../
apps/
.bash_history
elastica/
elastica-fred/
.gem/
.lesshst
oarapi.subscript.3fJOu
oarapi.subscript.8ZIo3
oarapi.subscript.a8Wvs
oarapi.subscript.ANEZ8
oarapi.subscript.b1OFQ
oarapi.subscript.DQwhK
oarapi.subscript.foZ05
oarapi.subscript.hBqEE
oarapi.subscript.iIGlm
oarapi.subscript.JUjlX
oarapi.subscript.oKooP
oarapi.subscript.QtuId
oarapi.subscript.RgZS1
OAR.elasss.807751.stderr
OAR.elasss.807751.stdout
OAR.elastica.807748.stderr
OAR.elastica.807748.stdout
OAR.elastica.807754.stderr
OAR.elastica.807754.stdout
OAR.elastica.808064.stderr
OAR.elastica.808064.stdout
OAR.elastica.808082.stderr
OAR.elastica.808082.stdout
___openstack-campaign/
__openstack-campaign/
_openstack-campaign/
openstack-campaign/
public/
.puppet/
.puppetlabs/
.r10k/
reservation.sh
.restfully/
results/
.ssh/
.subversion/
sync-all.sh
synergy/
TP-GreenIT/
ubuntu-12.04-server-cloudimg-amd64-disk1.img
.vim/
.viminfo
xp5k-openstack/
falvaresdeoliveira@flyon:~/elastica$ vim ../
apps/
.bash_history
elastica/
elastica-fred/
.gem/
.lesshst
oarapi.subscript.3fJOu
oarapi.subscript.8ZIo3
oarapi.subscript.a8Wvs
oarapi.subscript.ANEZ8
oarapi.subscript.b1OFQ
oarapi.subscript.DQwhK
oarapi.subscript.foZ05
oarapi.subscript.hBqEE
oarapi.subscript.iIGlm
oarapi.subscript.JUjlX
oarapi.subscript.oKooP
oarapi.subscript.QtuId
oarapi.subscript.RgZS1
OAR.elasss.807751.stderr
OAR.elasss.807751.stdout
OAR.elastica.807748.stderr
OAR.elastica.807748.stdout
OAR.elastica.807754.stderr
OAR.elastica.807754.stdout
OAR.elastica.808064.stderr
OAR.elastica.808064.stdout
OAR.elastica.808082.stderr
OAR.elastica.808082.stdout
___openstack-campaign/
__openstack-campaign/
_openstack-campaign/
openstack-campaign/
public/
.puppet/
.puppetlabs/
.r10k/
reservation.sh
.restfully/
results/
.ssh/
.subversion/
sync-all.sh
synergy/
TP-GreenIT/
ubuntu-12.04-server-cloudimg-amd64-disk1.img
.vim/
.viminfo
xp5k-openstack/
falvaresdeoliveira@flyon:~/elastica$ vim ../
apps/
.bash_history
elastica/
elastica-fred/
.gem/
.lesshst
oarapi.subscript.3fJOu
oarapi.subscript.8ZIo3
oarapi.subscript.a8Wvs
oarapi.subscript.ANEZ8
oarapi.subscript.b1OFQ
oarapi.subscript.DQwhK
oarapi.subscript.foZ05
oarapi.subscript.hBqEE
oarapi.subscript.iIGlm
oarapi.subscript.JUjlX
oarapi.subscript.oKooP
oarapi.subscript.QtuId
oarapi.subscript.RgZS1
OAR.elasss.807751.stderr
OAR.elasss.807751.stdout
OAR.elastica.807748.stderr
OAR.elastica.807748.stdout
OAR.elastica.807754.stderr
OAR.elastica.807754.stdout
OAR.elastica.808064.stderr
OAR.elastica.808064.stdout
OAR.elastica.808082.stderr
OAR.elastica.808082.stdout
___openstack-campaign/
__openstack-campaign/
_openstack-campaign/
openstack-campaign/
public/
.puppet/
.puppetlabs/
.r10k/
reservation.sh
.restfully/
results/
.ssh/
.subversion/
sync-all.sh
synergy/
TP-GreenIT/
ubuntu-12.04-server-cloudimg-amd64-disk1.img
.vim/
.viminfo
xp5k-openstack/
falvaresdeoliveira@flyon:~/elastica$ vim ../
apps/
.bash_history
elastica/
elastica-fred/
.gem/
.lesshst
oarapi.subscript.3fJOu
oarapi.subscript.8ZIo3
oarapi.subscript.a8Wvs
oarapi.subscript.ANEZ8
oarapi.subscript.b1OFQ
oarapi.subscript.DQwhK
oarapi.subscript.foZ05
oarapi.subscript.hBqEE
oarapi.subscript.iIGlm
oarapi.subscript.JUjlX
oarapi.subscript.oKooP
oarapi.subscript.QtuId
oarapi.subscript.RgZS1
OAR.elasss.807751.stderr
OAR.elasss.807751.stdout
OAR.elastica.807748.stderr
OAR.elastica.807748.stdout
OAR.elastica.807754.stderr
OAR.elastica.807754.stdout
OAR.elastica.808064.stderr
OAR.elastica.808064.stdout
OAR.elastica.808082.stderr
OAR.elastica.808082.stdout
___openstack-campaign/
__openstack-campaign/
_openstack-campaign/
openstack-campaign/
public/
.puppet/
.puppetlabs/
.r10k/
reservation.sh
.restfully/
results/
.ssh/
.subversion/
sync-all.sh
synergy/
TP-GreenIT/
ubuntu-12.04-server-cloudimg-amd64-disk1.img
.vim/
.viminfo
xp5k-openstack/
falvaresdeoliveira@flyon:~/elastica$ vim ../
apps/
.bash_history
elastica/
elastica-fred/
.gem/
.lesshst
oarapi.subscript.3fJOu
oarapi.subscript.8ZIo3
oarapi.subscript.a8Wvs
oarapi.subscript.ANEZ8
oarapi.subscript.b1OFQ
oarapi.subscript.DQwhK
oarapi.subscript.foZ05
oarapi.subscript.hBqEE
oarapi.subscript.iIGlm
oarapi.subscript.JUjlX
oarapi.subscript.oKooP
oarapi.subscript.QtuId
oarapi.subscript.RgZS1
OAR.elasss.807751.stderr
OAR.elasss.807751.stdout
OAR.elastica.807748.stderr
OAR.elastica.807748.stdout
OAR.elastica.807754.stderr
OAR.elastica.807754.stdout
OAR.elastica.808064.stderr
OAR.elastica.808064.stdout
OAR.elastica.808082.stderr
OAR.elastica.808082.stdout
___openstack-campaign/
__openstack-campaign/
_openstack-campaign/
openstack-campaign/
public/
.puppet/
.puppetlabs/
.r10k/
reservation.sh
.restfully/
results/
.ssh/
.subversion/
sync-all.sh
synergy/
TP-GreenIT/
ubuntu-12.04-server-cloudimg-amd64-disk1.img
.vim/
.viminfo
xp5k-openstack/
falvaresdeoliveira@flyon:~/elastica$ vim ../experiments/rubis_energy_ls/scripts/bench.sh [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccd elastica[Kvim experiments/rubis_energy_ls/scripts/bench.sh [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C../[Kxp5k-openstack/
dashboard_tunnels.sh  provision/            _scenario.bkp1        tasks/
.gem/                 Rakefile              _scenario.bkp2        xp3.conf
Gemfile               README.md             scenario.bkp2.rb      .xp_cache
Gemfile.lock          .restfully/           scenario.bkp.rb       xp.conf
.git/                 .ruby-gemset          scenarios/            
.gitignore            .ruby-version         setup_env.sh          
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenario
scenario.bkp2.rb  scenario.bkp.rb   scenarios/        
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenario
scenario.bkp2.rb  scenario.bkp.rb   scenarios/        
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/
elastica/                           liberty_multinodes_singleinterface/
liberty_elastica/                   liberty_starter_kit/
liberty_multinodes/                 
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_
liberty_elastica/                   liberty_multinodes_singleinterface/
liberty_multinodes/                 liberty_starter_kit/
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K
dashboard_tunnels.sh  provision/            _scenario.bkp1        tasks/
.gem/                 Rakefile              _scenario.bkp2        xp3.conf
Gemfile               README.md             scenario.bkp2.rb      .xp_cache
Gemfile.lock          .restfully/           scenario.bkp.rb       xp.conf
.git/                 .ruby-gemset          scenarios/            
.gitignore            .ruby-version         setup_env.sh          
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/tasks/
deployments.rb  jobs.rb         puppet.rb       roles.rb        shell.rb
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/tasks/roles.rb 
apicloud/                     gatling/
cirros-0.3.0-x86_64-disk.img  README
common/                       software_resources/
deployment/                   .svn/
elasticity_manager/           tmp/
experiments/                  
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/tasks/roles.rb 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"../xp5k-openstack/tasks/roles.rb" 16L, 230C[>c[1;1H[96m# XP5K Roles
#[m
role [38;5;224m'[m[95mall[m[38;5;224m'[m [93mdo[m
  roles [38;5;224m'[m[95mpuppetserver[m[38;5;224m'[m
[93mend[m

namespace [95m:roles[m [93mdo[m

  desc [38;5;224m'[m[95mShow roles[m[38;5;224m'[m
  task [95m:show[m [93mdo[m
    [38;5;121mXP5K[m::[38;5;121mRole[m.list.each [93mdo[m |[1m[96mrole[m|[12;7Hputs [38;5;224m"[m[95m* Role [m[38;5;224m#{[mrole.name[38;5;224m}[m[95m : [m[38;5;224m#{[mrole.servers.join([38;5;224m'[m[95m ,[m[38;5;224m'[m)[38;5;224m}"[m
    [93mend
[m  [93mend

end[m
[94m~                                                                                        [18;1H~                                                                                        [19;1H~                                                                                        [20;1H~                                                                                        [21;1H~                                                                                        [22;1H~                                                                                        [23;1H~                                                                                        [24;1H~                                                                                        [25;1H~                                                                                        [26;1H~                                                                                        [27;1H~                                                                                        [28;1H~                                                                                        [29;1H~                                                                                        [30;1H~                                                                                        [31;1H~                                                                                        [32;1H~                                                                                        [33;1H~                                                                                        [34;1H~                                                                                        [35;1H~                                                                                        [36;1H~                                                                                        [37;1H~                                                                                        [38;1H~                                                                                        [39;1H~                                                                                        [40;1H~                                                                                        [41;1H~                                                                                        [42;1H~                                                                                        [43;1H~                                                                                        [44;1H~                                                                                        [45;1H~                                                                                        [46;1H~                                                                                        [47;1H~                                                                                        [48;1H~                                                                                        [49;1H~                                                                                        [m[50;1H[1m[7m../xp5k-openstack/tasks/roles.rb                                                  1,1 All[1;1H[?12l[?25h[?25l[m[51;79H:[1;1H[51;1H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/tasks/roles.rb [K[K[K[K[K[K[K[K[K[K[K[K[K[K[K
dashboard_tunnels.sh  provision/            _scenario.bkp1        tasks/
.gem/                 Rakefile              _scenario.bkp2        xp3.conf
Gemfile               README.md             scenario.bkp2.rb      .xp_cache
Gemfile.lock          .restfully/           scenario.bkp.rb       xp.conf
.git/                 .ruby-gemset          scenarios/            
.gitignore            .ruby-version         setup_env.sh          
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/
dashboard_tunnels.sh  provision/            _scenario.bkp1        tasks/
.gem/                 Rakefile              _scenario.bkp2        xp3.conf
Gemfile               README.md             scenario.bkp2.rb      .xp_cache
Gemfile.lock          .restfully/           scenario.bkp.rb       xp.conf
.git/                 .ruby-gemset          scenarios/            
.gitignore            .ruby-version         setup_env.sh          
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/
dashboard_tunnels.sh  provision/            _scenario.bkp1        tasks/
.gem/                 Rakefile              _scenario.bkp2        xp3.conf
Gemfile               README.md             scenario.bkp2.rb      .xp_cache
Gemfile.lock          .restfully/           scenario.bkp.rb       xp.conf
.git/                 .ruby-gemset          scenarios/            
.gitignore            .ruby-version         setup_env.sh          
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/provision/puppet/modules/[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kvision/puppet/modules/
locales/ puppet/  xp/      
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/provision/puppet/modules/[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kscenario
scenario.bkp2.rb  scenario.bkp.rb   scenarios/        
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/
elastica/                           liberty_multinodes_singleinterface/
liberty_elastica/                   liberty_starter_kit/
liberty_multinodes/                 
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/
g5k_networks.yml  hiera/            Puppetfile        
.git/             .interfaces.yml   README.md         
.gitignore        puppet/           tasks/            
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/PU[Kupppetfile 
apicloud/                     gatling/
cirros-0.3.0-x86_64-disk.img  README
common/                       software_resources/
deployment/                   .svn/
elasticity_manager/           tmp/
experiments/                  
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/Pupppetfile 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"../xp5k-openstack/scenarios/liberty_elastica/Puppetfile" 191L, 4579C[>c[1;1H[96m# OpenStack modules[m

mod [95m'aodh'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-aodh'[m,
  :ref => [95m'7.0.0'[m

mod [95m'barbican'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-barbican'[m,
  :ref => [95m'master'[m

mod [95m'ceilometer'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-ceilometer'[m,
  :ref => [95m'7.0.0'[m

mod [95m'cinder'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-cinder'[m,
  :ref => [95m'7.0.0'[m

mod [95m'designate'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-designate'[m,
  :ref => [95m'7.0.0'[m

mod [95m'glance'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-glance'[m,
  :ref => [95m'7.0.0'[m

mod [95m'gnocchi'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-gnocchi'[m,
  :ref => [95m'7.0.0'[m

mod [95m'heat'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-heat'[m,
  :ref => [95m'7.0.0'[m

mod [95m'horizon'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-horizon'[m,
  :ref => [95m'7.0.0'[m

mod [95m'ironic'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-ironic'[m,
  :ref => [95m'7.0.0'[m

mod [95m'keystone'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-keystone'[m,
  :ref => [95m'7.0.0'[m

mod [95m'manila'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-manila'[m,
  :ref => [95m'7.0.0'[m
[1m[7m../xp5k-openstack/scenarios/liberty_elastica/Puppetfile                           1,1 Top[1;1H[?12l[?25h[?25l[m[51;79H~@k[1;1H[51;79H   [2;1H[50;83H[1m[7m2,0 [2;1H[?12l[?25h[?25l[m[51;79H~@k[2;1H[51;79H   [3;1H[50;83H[1m[7m3,1 [3;1H[?12l[?25h[?25l[m[51;79H~@k[3;1H[51;79H   [4;1H[50;83H[1m[7m4,[4;1H[?12l[?25h[?25l[m[51;79H~@k[4;1H[51;79H   [5;1H[50;83H[1m[7m5,[5;1H[?12l[?25h[?25l[m[51;79H~@k[5;1H[51;79H   [6;1H[50;83H[1m[7m6,0 [6;1H[?12l[?25h[?25l[m[51;79H~@k[6;1H[51;79H   [7;1H[50;83H[1m[7m7,1 [7;1H[?12l[?25h[?25l[m[51;79H~@k[7;1H[51;79H   [8;1H[50;83H[1m[7m8,[8;1H[?12l[?25h[?25l[m[51;79H~@k[8;1H[51;79H   [9;1H[50;83H[1m[7m9,[9;1H[?12l[?25h[?25l[m[51;79H~@k[9;1H[51;79H   [10;1H[50;82H[1m[7m10,0 [10;1H[?12l[?25h[?25l[m[51;79H~@k[10;1H[51;79H   [11;1H[50;83H[1m[7m1,1 [11;1H[?12l[?25h[?25l[m[51;79H~@k[11;1H[51;79H   [12;1H[50;83H[1m[7m2,[12;1H[?12l[?25h[?25l[m[51;79H~@k[12;1H[51;79H   [13;1H[50;83H[1m[7m3,[13;1H[?12l[?25h[?25l[m[51;79H~@k[13;1H[51;79H   [14;1H[50;83H[1m[7m4,0 [14;1H[?12l[?25h[?25l[m[51;79H~@k[14;1H[51;79H   [15;1H[50;83H[1m[7m5,1 [15;1H[?12l[?25h[?25l[m[51;79H~@k[15;1H[51;79H   [16;1H[50;83H[1m[7m6,[16;1H[?12l[?25h[?25l[m[51;79H~@k[16;1H[51;79H   [17;1H[50;83H[1m[7m7,[17;1H[?12l[?25h[?25l[m[51;79H~@k[17;1H[51;79H   [18;1H[50;83H[1m[7m8,0 [18;1H[?12l[?25h[?25l[m[51;79H~@k[18;1H[51;79H   [19;1H[50;83H[1m[7m9,1 [19;1H[?12l[?25h[?25l[m[51;79H~@k[19;1H[51;79H   [20;1H[50;82H[1m[7m20,[20;1H[?12l[?25h[?25l[m[51;79H~@k[20;1H[51;79H   [21;1H[50;83H[1m[7m1,[21;1H[?12l[?25h[?25l[m[51;79H~@k[21;1H[51;79H   [22;1H[50;83H[1m[7m2,0 [22;1H[?12l[?25h[?25l[m[51;79H~@k[22;1H[51;79H   [23;1H[50;83H[1m[7m3,1 [23;1H[?12l[?25h[?25l[m[51;79H~@k[23;1H[51;79H   [24;1H[50;83H[1m[7m4,[24;1H[?12l[?25h[?25l[m[51;79H~@k[24;1H[51;79H   [25;1H[50;83H[1m[7m5,[25;1H[?12l[?25h[?25l[m[51;79H~@k[25;1H[51;79H   [26;1H[50;83H[1m[7m6,0 [26;1H[?12l[?25h[?25l[m[51;79H~@k[26;1H[51;79H   [27;1H[50;83H[1m[7m7,1 [27;1H[?12l[?25h[?25l[m[51;79H~@k[27;1H[51;79H   [28;1H[50;83H[1m[7m8,[28;1H[?12l[?25h[?25l[m[51;79H~@k[28;1H[51;79H   [29;1H[50;83H[1m[7m9,[29;1H[?12l[?25h[?25l[m[51;79H~@k[29;1H[51;79H   [30;1H[50;82H[1m[7m30,0 [30;1H[?12l[?25h[?25l[m[51;79H~@k[30;1H[51;79H   [31;1H[50;83H[1m[7m1,1 [31;1H[?12l[?25h[?25l[m[51;79H~@k[31;1H[51;79H   [32;1H[50;83H[1m[7m2,[32;1H[?12l[?25h[?25l[m[51;79H~@k[32;1H[51;79H   [33;1H[50;83H[1m[7m3,[33;1H[?12l[?25h[?25l[m[51;79H~@k[33;1H[51;79H   [34;1H[50;83H[1m[7m4,0 [34;1H[?12l[?25h[?25l[m[51;79H~@k[34;1H[51;79H   [35;1H[50;83H[1m[7m5,1 [35;1H[?12l[?25h[?25l[m[51;79H~@k[35;1H[51;79H   [36;1H[50;83H[1m[7m6,[36;1H[?12l[?25h[?25l[m[51;79H~@k[36;1H[51;79H   [37;1H[50;83H[1m[7m7,[37;1H[?12l[?25h[?25l[m[51;79H~@k[37;1H[51;79H   [38;1H[50;83H[1m[7m8,0 [38;1H[?12l[?25h[?25l[m[51;79H~@k[38;1H[51;79H   [39;1H[50;83H[1m[7m9,1 [39;1H[?12l[?25h[?25l[m[51;79H~@k[39;1H[51;79H   [40;1H[50;82H[1m[7m40,[40;1H[?12l[?25h[?25l[m[51;79H~@k[40;1H[51;79H   [41;1H[50;83H[1m[7m1,[41;1H[?12l[?25h[?25l[m[51;79H~@k[41;1H[51;79H   [42;1H[50;83H[1m[7m2,0 [42;1H[?12l[?25h[?25l[m[51;79H~@k[42;1H[51;79H   [43;1H[50;83H[1m[7m3,1 [43;1H[?12l[?25h[?25l[m[51;79H~@k[43;1H[51;79H   [44;1H[50;83H[1m[7m4,[44;1H[?12l[?25h[?25l[m[51;79H~@k[44;1H[51;79H   [45;1H[50;83H[1m[7m5,[45;1H[?12l[?25h[?25l[m[51;79H~@k[45;1H[51;79H   [46;1H[50;83H[1m[7m6,0 [46;1H[?12l[?25h[?25l[m[51;79H~@k[46;1H[51;79H   [47;1H[50;83H[1m[7m7,1 [47;1H[?12l[?25h[?25l[m[51;79H~@k[47;1H[51;79H   [48;1H[50;83H[1m[7m8,[48;1H[?12l[?25h[?25l[m[51;79H~@k[48;1H[51;79H   [49;1H[50;83H[1m[7m9,[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[51;1H[K[50;82H[1m[7m50,0  0%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;1Hmod [95m'mistral'[m,[50;83H[1m[7m1,1  1%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;3H:git => [95m'https://git.openstack.org/openstack/puppet-mistral'[m,[50;83H[1m[7m2,1  2%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;3H:ref => [95m'master'[m[50;83H[1m[7m3,[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[50;83H[1m[7m4,0  3%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;1Hmod [95m'monasca'[m,[50;83H[1m[7m5,1  4%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;3H:git => [95m'https://git.openstack.org/openstack/puppet-monasca'[m,[50;83H[1m[7m6,[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;3H:ref => [95m'master'[m[50;83H[1m[7m7,1  5%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[50;83H[1m[7m8,0  6%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;1Hmod [95m'murano'[m,[50;83H[1m[7m9,1  7%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;3H:git => [95m'https://git.openstack.org/openstack/puppet-murano'[m,[50;82H[1m[7m60,[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;3H:ref => [95m'7.0.0'[m[50;83H[1m[7m1,1  8%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[50;83H[1m[7m2,0  9%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;1Hmod [95m'neutron'[m,[50;83H[1m[7m3,1 [49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;3H:git => [95m'https://git.openstack.org/openstack/puppet-neutron'[m,[50;83H[1m[7m4,1 10%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;3H:ref => [95m'7.0.0'[m[50;83H[1m[7m5,1 11%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [1;3H[27m[23m[m[H[2J[1;3H:git => [95m'https://git.openstack.org/openstack/puppet-neutron'[m,
  :ref => [95m'7.0.0'[m

mod [95m'nova'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-nova'[m,
  :ref => [95m'7.0.0'[m

mod [95m'openstack_extras'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-openstack_extras'[m,
  :ref => [95m'7.0.0'[m

mod [95m'openstacklib'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-openstacklib'[m,
  :ref => [95m'7.0.0'[m

mod [95m'sahara'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-sahara'[m,
  :ref => [95m'7.0.0'[m

mod [95m'swift'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-swift'[m,
  :ref => [95m'7.0.0'[m

mod [95m'tempest'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-tempest'[m,
  :ref => [95m'7.0.0'[m

mod [95m'trove'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-trove'[m,
  :ref => [95m'7.0.0'[m

mod [95m'tuskar'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-tuskar'[m,
  :ref => [95m'7.0.0'[m

mod [95m'vswitch'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-vswitch'[m,
  :ref => [95m'master'[m

mod [95m'zaqar'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-zaqar'[m,
  :ref => [95m'master'[m

[96m# External modules[m

mod [95m'apache'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-apache'[m,
  :branch => [95m'1.4.x'[m

[1m[7m../xp5k-openstack/scenarios/liberty_elastica/Puppetfile                          64,3 44%[1;3H[?12l[?25h[?25l[m[51;79H~@k[1;3H[51;79H   [1;3H[27m[23m[m[H[2J[1;3H:branch => [95m'1.4.x'[m

mod [95m'apt'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-apt'[m,
  :branch => [95m'2.1.x'[m

mod [95m'concat'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-concat'[m,
  :branch => [95m'1.2.x'[m

mod [95m'corosync'[m,
  :git => [95m'https://github.com/puppet-community/puppet-corosync'[m,
  :tag => [95m'0.8.0'[m

mod [95m'dns'[m,
  :git => [95m'https://github.com/theforeman/puppet-dns'[m,
  :tag => [95m'3.0.0'[m

mod [95m'firewall'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-firewall'[m,
  :branch => [95m'1.6.x'[m

mod [95m'inifile'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-inifile'[m,
  :branch => [95m'1.4.x'[m

mod [95m'memcached'[m,
  :git => [95m'https://github.com/saz/puppet-memcached'[m,
  :tag => [95m'v2.8.1'[m

mod [95m'mongodb'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-mongodb'[m,
  :branch => [95m'0.11.0'[m

mod [95m'mysql'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-mysql'[m,
  :branch => [95m'3.6.x'[m

mod [95m'postgresql'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-postgresql'[m,
  :branch => [95m'4.4.x'[m

mod [95m'powerdns'[m,
  :git => [95m'https://github.com/antonlindstrom/puppet-powerdns'[m,
  :tag => [95m'0.0.5'[m

mod [95m'python'[m,
  :git => [95m'https://github.com/stankevich/puppet-python'[m,
  :tag => [95m'1.9.4'[m
[1m[7m../xp5k-openstack/scenarios/liberty_elastica/Puppetfile                         111,3 77%[1;3H[?12l[?25h[?25l[m[51;79H~@k[1;3H[51;79H   [1;3H[27m[23m[m[H[2J[1;3H:git => [95m'https://github.com/stankevich/puppet-python'[m,
  :tag => [95m'1.9.4'[m

mod [95m'qpid'[m,
  :git => [95m'https://github.com/dprince/puppet-qpid'[m,
  :tag => [95m'1.0.3'[m

mod [95m'rabbitmq'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-rabbitmq'[m,
  :tag => [95m'5.2.3'[m

mod [95m'rsync'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-rsync'[m,
  :tag => [95m'0.4.0'[m

mod [95m'staging'[m,
  :git => [95m'https://github.com/nanliu/puppet-staging'[m,
  :tag => [95m'1.0.4'[m

mod [95m'stdlib'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-stdlib'[m,
  :branch => [95m'4.6.x'[m

mod [95m'sysctl'[m,
  :git => [95m'https://github.com/duritong/puppet-sysctl'[m,
  :tag => [95m'v0.0.11'[m

mod [95m'vcsrepo'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-vcsrepo'[m,
  :branch => [95m'1.3.x'[m

mod [95m'xinetd'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-xinetd'[m,
  :tag => [95m'1.5.0'[m
[94m~                                                                                        [36;1H~                                                                                        [37;1H~                                                                                        [38;1H~                                                                                        [39;1H~                                                                                        [40;1H~                                                                                        [41;1H~                                                                                        [42;1H~                                                                                        [43;1H~                                                                                        [44;1H~                                                                                        [45;1H~                                                                                        [46;1H~                                                                                        [47;1H~                                                                                        [48;1H~                                                                                        [49;1H~                                                                                        [m[50;1H[1m[7m../xp5k-openstack/scenarios/liberty_elastica/Puppetfile                         158,3 Bot[1;3H[?12l[?25h[?25l[m[51;79H~@k[1;3H[51;79H   [1;3H[1;49r[1;1H[33M[1;51r[17;1H[94m~                                                                                        [18;1H~                                                                                        [19;1H~                                                                                        [20;1H~                                                                                        [21;1H~                                                                                        [22;1H~                                                                                        [23;1H~                                                                                        [24;1H~                                                                                        [25;1H~                                                                                        [26;1H~                                                                                        [27;1H~                                                                                        [28;1H~                                                                                        [29;1H~                                                                                        [30;1H~                                                                                        [31;1H~                                                                                        [32;1H~                                                                                        [33;1H~                                                                                        [34;1H~                                                                                        [35;1H~                                                                                        [36;1H~                                                                                        [37;1H~                                                                                        [38;1H~                                                                                        [39;1H~                                                                                        [40;1H~                                                                                        [41;1H~                                                                                        [42;1H~                                                                                        [43;1H~                                                                                        [44;1H~                                                                                        [45;1H~                                                                                        [46;1H~                                                                                        [47;1H~                                                                                        [48;1H~                                                                                        [49;1H~                                                                                        [m[50;82H[1m[7m91,[1;3H[?12l[?25h[?25l[m[51;79H~@k[1;3H[51;79H   [49;3H[27m[23m[m[H[2J[1;3H:git => [95m'https://github.com/puppetlabs/puppetlabs-mongodb'[m,
  :branch => [95m'0.11.0'[m

mod [95m'mysql'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-mysql'[m,
  :branch => [95m'3.6.x'[m

mod [95m'postgresql'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-postgresql'[m,
  :branch => [95m'4.4.x'[m

mod [95m'powerdns'[m,
  :git => [95m'https://github.com/antonlindstrom/puppet-powerdns'[m,
  :tag => [95m'0.0.5'[m

mod [95m'python'[m,
  :git => [95m'https://github.com/stankevich/puppet-python'[m,
  :tag => [95m'1.9.4'[m

mod [95m'qpid'[m,
  :git => [95m'https://github.com/dprince/puppet-qpid'[m,
  :tag => [95m'1.0.3'[m

mod [95m'rabbitmq'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-rabbitmq'[m,
  :tag => [95m'5.2.3'[m

mod [95m'rsync'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-rsync'[m,
  :tag => [95m'0.4.0'[m

mod [95m'staging'[m,
  :git => [95m'https://github.com/nanliu/puppet-staging'[m,
  :tag => [95m'1.0.4'[m

mod [95m'stdlib'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-stdlib'[m,
  :branch => [95m'4.6.x'[m

mod [95m'sysctl'[m,
  :git => [95m'https://github.com/duritong/puppet-sysctl'[m,
  :tag => [95m'v0.0.11'[m

mod [95m'vcsrepo'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-vcsrepo'[m,
  :branch => [95m'1.3.x'[m

mod [95m'xinetd'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-xinetd'[m,
[1m[7m../xp5k-openstack/scenarios/liberty_elastica/Puppetfile                         190,3 99%[49;3H[?12l[?25h[?25l[m[51;79H~@k[49;3H[51;79H   [49;3H[27m[23m[m[H[2J[1;1Hmod [95m'tuskar'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-tuskar'[m,
  :ref => [95m'7.0.0'[m

mod [95m'vswitch'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-vswitch'[m,
  :ref => [95m'master'[m

mod [95m'zaqar'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-zaqar'[m,
  :ref => [95m'master'[m

[96m# External modules[m

mod [95m'apache'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-apache'[m,
  :branch => [95m'1.4.x'[m

mod [95m'apt'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-apt'[m,
  :branch => [95m'2.1.x'[m

mod [95m'concat'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-concat'[m,
  :branch => [95m'1.2.x'[m

mod [95m'corosync'[m,
  :git => [95m'https://github.com/puppet-community/puppet-corosync'[m,
  :tag => [95m'0.8.0'[m

mod [95m'dns'[m,
  :git => [95m'https://github.com/theforeman/puppet-dns'[m,
  :tag => [95m'3.0.0'[m

mod [95m'firewall'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-firewall'[m,
  :branch => [95m'1.6.x'[m

mod [95m'inifile'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-inifile'[m,
  :branch => [95m'1.4.x'[m

mod [95m'memcached'[m,
  :git => [95m'https://github.com/saz/puppet-memcached'[m,
  :tag => [95m'v2.8.1'[m

mod [95m'mongodb'[m,
  :git => [95m'https://github.com/puppetlabs/puppetlabs-mongodb'[m,
  :branch => [95m'0.11.0'[m
[1m[7m../xp5k-openstack/scenarios/liberty_elastica/Puppetfile                         143,3 66%[49;3H[?12l[?25h[?25l[m[51;79H~@k[49;3H[51;79H   [49;3H[27m[23m[m[H[2J[1;3H:git => [95m'https://git.openstack.org/openstack/puppet-manila'[m,
  :ref => [95m'7.0.0'[m

mod [95m'mistral'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-mistral'[m,
  :ref => [95m'master'[m

mod [95m'monasca'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-monasca'[m,
  :ref => [95m'master'[m

mod [95m'murano'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-murano'[m,
  :ref => [95m'7.0.0'[m

mod [95m'neutron'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-neutron'[m,
  :ref => [95m'7.0.0'[m

mod [95m'nova'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-nova'[m,
  :ref => [95m'7.0.0'[m

mod [95m'openstack_extras'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-openstack_extras'[m,
  :ref => [95m'7.0.0'[m

mod [95m'openstacklib'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-openstacklib'[m,
  :ref => [95m'7.0.0'[m

mod [95m'sahara'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-sahara'[m,
  :ref => [95m'7.0.0'[m

mod [95m'swift'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-swift'[m,
  :ref => [95m'7.0.0'[m

mod [95m'tempest'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-tempest'[m,
  :ref => [95m'7.0.0'[m

mod [95m'trove'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-trove'[m,
  :ref => [95m'7.0.0'[m

mod [95m'tuskar'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-tuskar'[m,
[1m[7m../xp5k-openstack/scenarios/liberty_elastica/Puppetfile                          96,3 33%[49;3H[?12l[?25h[?25l[m[51;79H~@k[49;3H[51;79H   [49;3H[27m[23m[m[H[2J[1;1H[96m# OpenStack modules[m

mod [95m'aodh'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-aodh'[m,
  :ref => [95m'7.0.0'[m

mod [95m'barbican'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-barbican'[m,
  :ref => [95m'master'[m

mod [95m'ceilometer'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-ceilometer'[m,
  :ref => [95m'7.0.0'[m

mod [95m'cinder'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-cinder'[m,
  :ref => [95m'7.0.0'[m

mod [95m'designate'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-designate'[m,
  :ref => [95m'7.0.0'[m

mod [95m'glance'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-glance'[m,
  :ref => [95m'7.0.0'[m

mod [95m'gnocchi'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-gnocchi'[m,
  :ref => [95m'7.0.0'[m

mod [95m'heat'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-heat'[m,
  :ref => [95m'7.0.0'[m

mod [95m'horizon'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-horizon'[m,
  :ref => [95m'7.0.0'[m

mod [95m'ironic'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-ironic'[m,
  :ref => [95m'7.0.0'[m

mod [95m'keystone'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-keystone'[m,
  :ref => [95m'7.0.0'[m

mod [95m'manila'[m,
  :git => [95m'https://git.openstack.org/openstack/puppet-manila'[m,
  :ref => [95m'7.0.0'[m
[1m[7m../xp5k-openstack/scenarios/liberty_elastica/Puppetfile                          49,3 Top[49;3H[?12l[?25h[?25l[m[51;79H:[49;3H[51;79H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica$ [Kfalvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/Pupppetfile [K[K[K[K[K[K[K[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[K
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[K[K
g5k_networks.yml  hiera/            Puppetfile        
.git/             .interfaces.yml   README.md         
.gitignore        puppet/           tasks/            
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/az[K[Ktas ks/
interfaces.rb  scenario.rb    
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/taskks/
interfaces.rb  scenario.rb    
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/taskks/scenario.rb 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H"../xp5k-openstack/scenarios/liberty_elastica/tasks/scenario.rb" 372L, 14810C[>c[1;1H[96m# Scenario dedicated Rake task
#

# Override OAR resources (tasks/jobs.rb)
# We uses 2 nodes (1 puppetserver and 1 controller) and a subnet for floating public IPs
#[m

[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:jobname[m]  ||= [38;5;224m'[m[95mliberty_elastica[m[38;5;224m'[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:site[m]     ||= [38;5;224m'[m[95mrennes[m[38;5;224m'[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:walltime[m] ||= [38;5;224m'[m[95m1:00:00[m[38;5;224m'[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:cluster[m]  ||= [38;5;224m''[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:vlantype[m] ||= [38;5;224m'[m[95mkavlan-local[m[38;5;224m'[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:computes[m] ||= [95m1[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:injectors[m] ||= [95m1[m
[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:elastica_home[m] ||= [38;5;224m'[m[95m~/elastica[m[38;5;224m'[m

[96m# If cluster is defined[m
cluster = [38;5;224m"[m[95mand cluster='[m[38;5;224m"[m + [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:cluster[m] + [38;5;224m"[m[95m'[m[38;5;224m"[m [93mif[m ![38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:cluster[m].emptyy[19;1H?

[96m# 1 puppet node + 1 controller node + x compute nodes[m
nodes = [95m2[m +  [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:injectors[m].to_i + [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:computes[m].to_i

[96m# Resource request sent to the Grid'5000 API[m
resources = [] << [38;5;224m%{[m[95m{type='[m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:vlantype[m][38;5;224m}[m[95m'}/vlan=1+{virtual != 'none' [m[38;5;224m#{[mclustt[26;1Her[38;5;224m}[m[95m}/nodes=[m[38;5;224m#{[mnodes[38;5;224m}[m[95m+slash_22=1,walltime=[m[38;5;224m#{[m[38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:walltime[m][38;5;224m}}[m

[1m[96m@job_def[m[[95m:resources[m] = resources

[1m[96m@job_def[m[[95m:roles[m] << [38;5;121mXP5K[m::[38;5;121mRole[m.new({
  [95mname[m: [38;5;224m'[m[95mcontroller[m[38;5;224m'[m,
  [95msize[m: [95m1[m
})

[1m[96m@job_def[m[[95m:roles[m] << [38;5;121mXP5K[m::[38;5;121mRole[m.new({
  [95mname[m: [38;5;224m'[m[95minjector[m[38;5;224m'[m,
  [95msize[m: [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:injectors[m].to_i
})

[1m[96m@job_def[m[[95m:roles[m] << [38;5;121mXP5K[m::[38;5;121mRole[m.new({
  [95mname[m: [38;5;224m'[m[95mcompute[m[38;5;224m'[m,
  [95msize[m: [38;5;121mXP5K[m::[38;5;121mConfig[m[[95m:computes[m].to_i
})

[38;5;121mG5K_NETWORKS[m = [38;5;121mYAML[m.load_file([38;5;224m"[m[95mscenarios/liberty_elastica/g5k_networks.yml[m[38;5;224m"[m)

[96m# Override role 'all' (tasks/roles.rb)
#[m
role [38;5;224m'[m[95mall[m[38;5;224m'[m [93mdo[m
[1m[7m../xp5k-openstack/scenarios/liberty_elastica/tasks/scenario.rb                    1,1 Top[1;1H[?12l[?25h[?25l[m[51;79H/[1;1H[51;1H[K[51;1H/[?12l[?25hNoopQuotaDriver[?25l[?12l[?25h[?25l[38;5;224msearch hit BOTTOM, continuing at TOP[m[97m[41mE486: Pattern not found: NoopQuotaDriver[1;1H[?12l[?25h[?25l[m[51;79H^M[1;1H[51;79H  [2;1H[50;83H[1m[7m2,[2;1H[?12l[?25h[?25l[m[51;79H^M[2;1H[51;79H  [3;1H[50;83H[1m[7m3,0 [3;1H[?12l[?25h[?25l[m[51;79H/[3;1H[51;1H[K[51;1H/[?12l[?25hq[?25l[24;14H[7m[96mq[m[50;81H[1m[7m23,14 
[m/q[?12l[?25hu[?25l[24;15H[7m[96mu[51;4H[?12l[?25h[mo[?25l[24;14H[96mqu[m[50;81H[1m[7m  3,0 
[m/quo[?12l[?25ht[?25l[?12l[?25ha[?25l[?12l[?25h[?25l[38;5;224msearch hit BOTTOM, continuing at TOP[m[97m[41mE486: Pattern not found: quota[m[51;31H[K[3;1H[?12l[?25h[?25l[51;79H:[3;1H[51;1H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica$ :[Kvim ../xp5k-openstack/scenarios/liberty_elastica/taskks/scenario.rb [K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[K
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kliberty_
liberty_elastica/                   liberty_multinodes_singleinterface/
liberty_multinodes/                 liberty_starter_kit/
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/
g5k_networks.yml  hiera/            Puppetfile        
.git/             .interfaces.yml   README.md         
.gitignore        puppet/           tasks/            
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/pupppet/modules
modules/           modules-openstack/ 
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/pupppet/modules
modules/           modules-openstack/ 
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/pupppet/modules-openstack/
aodh/             gnocchi/          mysql/            staging/
apache/           heat/             neutron/          stdlib/
apt/              horizon/          nova/             swift/
barbican/         inifile/          openstack_extras/ sysctl/
ceilometer/       ironic/           openstacklib/     tempest/
cinder/           keystone/         postgresql/       trove/
concat/           manila/           powerdns/         tuskar/
corosync/         memcached/        python/           vcsrepo/
designate/        mistral/          qpid/             vswitch/
dns/              monasca/          rabbitmq/         xinetd/
firewall/         mongodb/          rsync/            zaqar/
glance/           murano/           sahara/           
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/pupppet/modules-openstack/nova/
CHANGELOG.md   .git/          lib/           metadata.json  spec/
examples/      .gitignore     LICENSE        Rakefile       templates/
Gemfile        .gitreview     manifests/     README.md      
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/pupppet/modules-openstack/nova/a[KRe[KEADME.md 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H<enstack/scenarios/liberty_elastica/puppet/modules-openstack/nova/README.md"<narios/liberty_elastica/puppet/modules-openstack/nova/README.md" 134L, 4279C[>c[1;1H[38;5;225mnova[m
[38;5;81m====[m

7.0.0 - 2015.2.0 - Liberty

[38;5;224m####[m[38;5;225m Table of Contents[m

[93m1.[m [[4m[38;5;81mOverview - What is the nova module?[m]([95m#overview[m)
[93m2.[m [[4m[38;5;81mModule Description - What does the module do?[m]([95m#module-description[m)
[93m3.[m [[4m[38;5;81mSetup - The basics of getting started with nova[m]([95m#setup[m)
[93m4.[m [[4m[38;5;81mImplementation - An under-the-hood peek at what the module is doing[m]([95m#implementation[m)[12;1H[93m5.[m [[4m[38;5;81mLimitations - OS compatibility, etc.[m]([95m#limitations[m)
[93m6.[m [[4m[38;5;81mDevelopment - Guide for contributing to the module[m]([95m#development[m)
[93m7.[m [[4m[38;5;81mContributors - Those with commits[m]([95m#contributors[m)

[38;5;225mOverview[m
[38;5;81m--------[m

The nova module is a part of [[4m[38;5;81mOpenStack[m]([95mhttps://github.com/openstack[m), an effort by the  [20;1HOpenstack infrastructure team to provide continuous integration testing and code review ff[21;1Hor Openstack and Openstack community projects as part of the core software.  The module ii[22;1Hts self is used to flexibly configure and manage the compute service for Openstack.

[38;5;225mModule Description[m
[38;5;81m------------------[m

The nova module is a thorough attempt to make Puppet capable of managing the entirety of  [28;1Hnova.  This includes manifests to provision such things as keystone endpoints, RPC configg[29;1Hurations specific to nova, and database connections.  Types are shipped as part of the noo[30;1Hva module to assist in manipulation of configuration files.

This module is tested in combination with other modules needed to build and leverage an ee[33;1Hntire Openstack software stack.  These modules can be found, all pulled together in the [[[34;1H[4m[38;5;81mopenstack module[m]([95mhttps://github.com/stackforge/puppet-openstack[m).

[38;5;225mSetup[m
[38;5;81m-----[m

[3m**[23m[1mWhat the nova module affects:[m[3m**[23m

[93m*[m [[4m[38;5;81mNova[m]([95mhttps://wiki.openstack.org/wiki/Nova[m), the compute service for Openstack.

[38;5;224m###[m[38;5;225m Installing nova[m[45;5Hpuppet module install openstack/nova

[38;5;224m###[m[38;5;225m Beginning with nova[m

To utilize the nova module's functionality you will need to declare multiple resources.[94m@                                                                                        [m[50;1H[1m[7m<xp5k-openstack/scenarios/liberty_elastica/puppet/modules-openstack/nova/README.md1,1 Top[1;1H[?12l[?25h[?25l[m[51;79H~@k[1;1H[51;79H   [2;1H[50;83H[1m[7m2,[2;1H[?12l[?25h[?25l[m[51;79H~@k[2;1H[51;79H   [3;1H[50;83H[1m[7m3,0 [3;1H[?12l[?25h[?25l[m[51;79H~@k[3;1H[51;79H   [4;1H[50;83H[1m[7m4,1 [4;1H[?12l[?25h[?25l[m[51;79H~@k[4;1H[51;79H   [5;1H[50;83H[1m[7m5,0 [5;1H[?12l[?25h[?25l[m[51;79H~@k[5;1H[51;79H   [6;1H[50;83H[1m[7m6,1 [6;1H[?12l[?25h[?25l[m[51;79H~@k[6;1H[51;79H   [7;1H[50;83H[1m[7m7,0 [7;1H[?12l[?25h[?25l[m[51;79H~@k[7;1H[51;79H   [8;1H[50;83H[1m[7m8,1 [8;1H[?12l[?25h[?25l[m[51;79H~@k[8;1H[51;79H   [9;1H[50;83H[1m[7m9,[9;1H[?12l[?25h[?25l[m[51;79H~@k[9;1H[51;79H   [10;1H[50;2H[1m[7mp5k-openstack/scenarios/liberty_elastica/puppet/modules-openstack/nova/README.md10,[10;1H[?12l[?25h[?25l[m[51;79H~@k[10;1H[51;79H   [11;1H[50;83H[1m[7m1,[11;1H[?12l[?25h[?25l[m[51;79H~@k[11;1H[51;79H   [12;1H[50;83H[1m[7m2,[12;1H[?12l[?25h[?25l[m[51;79H~@k[12;1H[51;79H   [13;1H[50;83H[1m[7m3,[13;1H[?12l[?25h[?25l[m[51;79H~@k[13;1H[51;79H   [14;1H[50;83H[1m[7m4,[14;1H[?12l[?25h[?25l[m[51;79H~@k[14;1H[51;79H   [15;1H[50;83H[1m[7m5,0 [15;1H[?12l[?25h[?25l[m[51;79H~@k[15;1H[51;79H   [16;1H[50;83H[1m[7m6,1 [16;1H[?12l[?25h[?25l[m[51;79H~@k[16;1H[51;79H   [17;1H[50;83H[1m[7m7,[17;1H[?12l[?25h[?25l[m[51;79H~@k[17;1H[51;79H   [18;1H[50;83H[1m[7m8,0 [18;1H[?12l[?25h[?25l[m[51;79H/[18;1H[51;1H[K[51;1H/[?12l[?25hi[?25l[19;17H[7mi[m[71C  [20;1HO[87Cff[21;1Ho[87Cii[22;1Ht[50;2H[1m[7m5k-openstack/scenarios/liberty_elastica/puppet/modules-openstack/nova/README.md19,17 
[m/i[?12l[?25hn[?25l[19;17Hi[71C  [20;1HO[9C[7min[m[76Cff[21;1Ho[87Cii[22;1Ht[50;2H[1m[7mk-openstack/scenarios/liberty_elastica/puppet/modules-openstack/nova/README.md19,100 
[m/in[?12l[?25h[?25l[51;3H[K[19;17H[7mi[m[71C  [20;1HO[9Cin[76Cff[21;1Ho[87Cii[22;1Ht[50;2H[1m[7m5k-openstack/scenarios/liberty_elastica/puppet/modules-openstack/nova/README.md19,17 
[m/i[?12l[?25h[?25l[51;2H[K[19;17Hi[71C  [20;1HO[87Cff[21;1Ho[87Cii[22;1Ht[50;2H[1m[7mp5k-openstack/scenarios/liberty_elastica/puppet/modules-openstack/nova/README.md18,0 
[m/[?12l[?25h [?25l[18;1H[?12l[?25h[?25l[51;79H/[18;1H[51;79H[K[51;1H/[?12l[?25hq[?25l[1;49r[1;1H[8M[1;51r[41;1HTo utilize the nova module's functionality you will need to declare multiple resources.   [42;1HThe following is a modified excerpt from the [[4m[38;5;81mopenstack module[m]([95mhttps://github.com/stackff[43;1Horge/puppet-openstack[m).  This is not an exhaustive list of all the components needed, we  [44;1Hrecommend you consult and understand the [[4m[38;5;81mopenstack module[m]([95mhttps://github.com/stackforgee[45;1H/puppet-openstack[m) and the [[4m[38;5;81mcore openstack[m]([95mhttp://docs.openstack.org[m) documentation.

[38;5;224m```puppet[m
class { 'nova':
  database_connection => 'mys[7mq[ml://nova:a_big_secret@127.0.0.1/nova?charset=utf8',[50;2H[1m[7m5k-openstack/scenarios/liberty_elastica/puppet/modules-openstack/nova/README.md45,30  8%[m[51;1H[K[51;1H/q[?12l[?25hu[?25l[27m[23m[m[H[2J[2;1H```puppet
nova_config { 'DEFAULT/verbose' :
  value => true,
}
[38;5;224m```[m

This will write [38;5;224m`[mverbose=true[38;5;224m`[m in the [38;5;224m`[m[DEFAULT][38;5;224m`[m section.

[38;5;224m#####[m[38;5;225m name[m

Section/setting name to manage from [38;5;224m`[mnova.conf[38;5;224m`

#####[m[38;5;225m value[m

The value of the setting to be defined.

[38;5;224m#####[m[38;5;225m secret[m

Whether to hide the value from Puppet logs. Defaults to [38;5;224m`[mfalse[38;5;224m`[m.

[38;5;224m#####[m[38;5;225m ensure[m[97m[101m_[m[38;5;225mabsent[m[97m[101m_[m[38;5;225mval[m

If value is e[7mqu[mal to ensure[97m[101m_[mabsent[97m[101m_[mval then the resource will behave as if [38;5;224m`[mensure => abss[25;1Hent[38;5;224m`[m was specified. Defaults to [38;5;224m`[m<SERVICE DEFAULT>[38;5;224m`[m

[38;5;225mLimitations[m
[38;5;81m-----------[m

[93m*[m Supports libvirt, xenserver and vmware compute drivers.
[93m*[m Tested on EL and Debian derivatives.

[38;5;225mDevelopment[m
[38;5;81m-----------[m

Developer documentation for the entire puppet-openstack project.

[93m*[m https://wiki.openstack.org/wiki/Puppet-openstack#Developer[97m[101m_[mdocumentation


[38;5;225mBeaker-Rspec[m
[38;5;81m------------[m

This module has beaker-rspec tests

To run the tests on the default vagrant node:

[38;5;224m```shell[m
bundle install
[1m[7m<5k-openstack/scenarios/liberty_elastica/puppet/modules-openstack/nova/README.md99,14 87%[m[51;1H/qu[?12l[?25hp[?25l[27m[23m[m[H[2J[1;1H[38;5;225mnova[m
[38;5;81m====[m

7.0.0 - 2015.2.0 - Liberty

[38;5;224m####[m[38;5;225m Table of Contents[m

[93m1.[m [[4m[38;5;81mOverview - What is the nova module?[m]([95m#overview[m)
[93m2.[m [[4m[38;5;81mModule Description - What does the module do?[m]([95m#module-description[m)
[93m3.[m [[4m[38;5;81mSetup - The basics of getting started with nova[m]([95m#setup[m)
[93m4.[m [[4m[38;5;81mImplementation - An under-the-hood peek at what the module is doing[m]([95m#implementation[m)[12;1H[93m5.[m [[4m[38;5;81mLimitations - OS compatibility, etc.[m]([95m#limitations[m)
[93m6.[m [[4m[38;5;81mDevelopment - Guide for contributing to the module[m]([95m#development[m)
[93m7.[m [[4m[38;5;81mContributors - Those with commits[m]([95m#contributors[m)

[38;5;225mOverview[m
[38;5;81m--------[m

The nova module is a part of [[4m[38;5;81mOpenStack[m]([95mhttps://github.com/openstack[m), an effort by the  [20;1HOpenstack infrastructure team to provide continuous integration testing and code review ff[21;1Hor Openstack and Openstack community projects as part of the core software.  The module ii[22;1Hts self is used to flexibly configure and manage the compute service for Openstack.

[38;5;225mModule Description[m
[38;5;81m------------------[m

The nova module is a thorough attempt to make Puppet capable of managing the entirety of  [28;1Hnova.  This includes manifests to provision such things as keystone endpoints, RPC configg[29;1Hurations specific to nova, and database connections.  Types are shipped as part of the noo[30;1Hva module to assist in manipulation of configuration files.

This module is tested in combination with other modules needed to build and leverage an ee[33;1Hntire Openstack software stack.  These modules can be found, all pulled together in the [[[34;1H[4m[38;5;81mopenstack module[m]([95mhttps://github.com/stackforge/puppet-openstack[m).

[38;5;225mSetup[m
[38;5;81m-----[m

[3m**[23m[1mWhat the nova module affects:[m[3m**[23m

[93m*[m [[4m[38;5;81mNova[m]([95mhttps://wiki.openstack.org/wiki/Nova[m), the compute service for Openstack.

[38;5;224m###[m[38;5;225m Installing nova[m[45;5Hpuppet module install openstack/nova

[38;5;224m###[m[38;5;225m Beginning with nova[m

To utilize the nova module's functionality you will need to declare multiple resources.[94m@                                                                                        [m[50;1H[1m[7m<p5k-openstack/scenarios/liberty_elastica/puppet/modules-openstack/nova/README.md18,0 Top[m[51;1H/qup[?12l[?25h[?25l[51;4H[K[27m[23m[m[H[2J[2;1H```puppet
nova_config { 'DEFAULT/verbose' :
  value => true,
}
[38;5;224m```[m

This will write [38;5;224m`[mverbose=true[38;5;224m`[m in the [38;5;224m`[m[DEFAULT][38;5;224m`[m section.

[38;5;224m#####[m[38;5;225m name[m

Section/setting name to manage from [38;5;224m`[mnova.conf[38;5;224m`

#####[m[38;5;225m value[m

The value of the setting to be defined.

[38;5;224m#####[m[38;5;225m secret[m

Whether to hide the value from Puppet logs. Defaults to [38;5;224m`[mfalse[38;5;224m`[m.

[38;5;224m#####[m[38;5;225m ensure[m[97m[101m_[m[38;5;225mabsent[m[97m[101m_[m[38;5;225mval[m

If value is e[7mqu[mal to ensure[97m[101m_[mabsent[97m[101m_[mval then the resource will behave as if [38;5;224m`[mensure => abss[25;1Hent[38;5;224m`[m was specified. Defaults to [38;5;224m`[m<SERVICE DEFAULT>[38;5;224m`[m

[38;5;225mLimitations[m
[38;5;81m-----------[m

[93m*[m Supports libvirt, xenserver and vmware compute drivers.
[93m*[m Tested on EL and Debian derivatives.

[38;5;225mDevelopment[m
[38;5;81m-----------[m

Developer documentation for the entire puppet-openstack project.

[93m*[m https://wiki.openstack.org/wiki/Puppet-openstack#Developer[97m[101m_[mdocumentation


[38;5;225mBeaker-Rspec[m
[38;5;81m------------[m

This module has beaker-rspec tests

To run the tests on the default vagrant node:

[38;5;224m```shell[m
bundle install
[1m[7m<5k-openstack/scenarios/liberty_elastica/puppet/modules-openstack/nova/README.md99,14 87%[m[51;1H/qu[?12l[?25ho[?25l[27m[23m[m[H[2J[1;1H[38;5;225mnova[m
[38;5;81m====[m

7.0.0 - 2015.2.0 - Liberty

[38;5;224m####[m[38;5;225m Table of Contents[m

[93m1.[m [[4m[38;5;81mOverview - What is the nova module?[m]([95m#overview[m)
[93m2.[m [[4m[38;5;81mModule Description - What does the module do?[m]([95m#module-description[m)
[93m3.[m [[4m[38;5;81mSetup - The basics of getting started with nova[m]([95m#setup[m)
[93m4.[m [[4m[38;5;81mImplementation - An under-the-hood peek at what the module is doing[m]([95m#implementation[m)[12;1H[93m5.[m [[4m[38;5;81mLimitations - OS compatibility, etc.[m]([95m#limitations[m)
[93m6.[m [[4m[38;5;81mDevelopment - Guide for contributing to the module[m]([95m#development[m)
[93m7.[m [[4m[38;5;81mContributors - Those with commits[m]([95m#contributors[m)

[38;5;225mOverview[m
[38;5;81m--------[m

The nova module is a part of [[4m[38;5;81mOpenStack[m]([95mhttps://github.com/openstack[m), an effort by the  [20;1HOpenstack infrastructure team to provide continuous integration testing and code review ff[21;1Hor Openstack and Openstack community projects as part of the core software.  The module ii[22;1Hts self is used to flexibly configure and manage the compute service for Openstack.

[38;5;225mModule Description[m
[38;5;81m------------------[m

The nova module is a thorough attempt to make Puppet capable of managing the entirety of  [28;1Hnova.  This includes manifests to provision such things as keystone endpoints, RPC configg[29;1Hurations specific to nova, and database connections.  Types are shipped as part of the noo[30;1Hva module to assist in manipulation of configuration files.

This module is tested in combination with other modules needed to build and leverage an ee[33;1Hntire Openstack software stack.  These modules can be found, all pulled together in the [[[34;1H[4m[38;5;81mopenstack module[m]([95mhttps://github.com/stackforge/puppet-openstack[m).

[38;5;225mSetup[m
[38;5;81m-----[m

[3m**[23m[1mWhat the nova module affects:[m[3m**[23m

[93m*[m [[4m[38;5;81mNova[m]([95mhttps://wiki.openstack.org/wiki/Nova[m), the compute service for Openstack.

[38;5;224m###[m[38;5;225m Installing nova[m[45;5Hpuppet module install openstack/nova

[38;5;224m###[m[38;5;225m Beginning with nova[m

To utilize the nova module's functionality you will need to declare multiple resources.[94m@                                                                                        [m[50;1H[1m[7m<p5k-openstack/scenarios/liberty_elastica/puppet/modules-openstack/nova/README.md18,0 Top[m[51;1H/quo[?12l[?25ht[?25l[?12l[?25ha[?25l[?12l[?25h[?25l[38;5;224msearch hit BOTTOM, continuing at TOP[m[97m[41mE486: Pattern not found: quota[m[51;31H[K[18;1H[?12l[?25h[?25l[51;79H/[18;1H[51;1H[K[51;1H/[?12l[?25h[?25lquota[?12l[?25h[?25l[38;5;224msearch hit BOTTOM, continuing at TOP[m[97m[41mE486: Pattern not found: quota[m[51;31H[K[18;1H[?12l[?25h[?25l[51;79H:[18;1H[51;1H[K[51;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[51;1H[K[51;1H[?1l>[?12l[?25h[?1049lfalvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/pupppet/modules-openstack/nova/README.md [K[K[K[K[K[K[K[K[K[K
CHANGELOG.md   .git/          lib/           metadata.json  spec/
examples/      .gitignore     LICENSE        Rakefile       templates/
Gemfile        .gitreview     manifests/     README.md      
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/pupppet/modules-openstack/nova/templates/secret.xml-compute.erb [K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kspec/
acceptance/                hosts/                     type/
classes/                   shared_examples.rb         unit/
defines/                   spec_helper_acceptance.rb  
fixtures/                  spec_helper.rb             
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/pupppet/modules-openstack/nova/spec/[K[K[K[K[K[K[K[K[K[K
aodh/             gnocchi/          mysql/            staging/
apache/           heat/             neutron/          stdlib/
apt/              horizon/          nova/             swift/
barbican/         inifile/          openstack_extras/ sysctl/
ceilometer/       ironic/           openstacklib/     tempest/
cinder/           keystone/         postgresql/       trove/
concat/           manila/           powerdns/         tuskar/
corosync/         memcached/        python/           vcsrepo/
designate/        mistral/          qpid/             vswitch/
dns/              monasca/          rabbitmq/         xinetd/
firewall/         mongodb/          rsync/            zaqar/
glance/           murano/           sahara/           
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/pupppet/modules-openstack/openstack
openstack_extras/ openstacklib/     
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/pupppet/modules-openstack/openstacklib/
CHANGELOG.md   .git/          lib/           metadata.json  spec/
facts.d/       .gitignore     LICENSE        Rakefile       
Gemfile        .gitreview     manifests/     README.md      
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/pupppet/modules-openstack/openstacklib/[K[K[K[K[K[K[K[K[K[K[K[K[Knova/
CHANGELOG.md   .git/          lib/           metadata.json  spec/
examples/      .gitignore     LICENSE        Rakefile       templates/
Gemfile        .gitreview     manifests/     README.md      
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/pupppet/modules-openstack/nova/
CHANGELOG.md   .git/          lib/           metadata.json  spec/
examples/      .gitignore     LICENSE        Rakefile       templates/
Gemfile        .gitreview     manifests/     README.md      
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/pupppet/modules-openstack/nova/manifests/
api.pp              cron/               network/            scheduler.pp
cells.pp            db/                 network.pp          serialproxy.pp
cert.pp             db.pp               objectstore.pp      spicehtml5proxy.pp
client.pp           generic_service.pp  params.pp           utilities.pp
compute/            init.pp             policy.pp           vncproxy/
compute.pp          keystone/           qpid.pp             vncproxy.pp
conductor.pp        logging.pp          quota.pp            
config.pp           manage/             rabbitmq.pp         
consoleauth.pp      migration/          scheduler/          
falvaresdeoliveira@flyon:~/elastica$ vim ../xp5k-openstack/scenarios/liberty_elastica/pupppet/modules-openstack/nova/manifests/quota.pp 
[?1049h[?1h=[2;1H‚ñΩ[6n[2;1H  [1;1H[1;51r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[51;1H<cenarios/liberty_elastica/puppet/modules-openstack/nova/manifests/quota.pp"<berty_elastica/puppet/modules-openstack/nova/manifests/quota.pp" 173L, 5812C[>c[1;1H[96m# == Class: nova::quota
#
# Class for overriding the default quota settings.
#
# === Parameters:
#
# [*quota_instances*]
#   (optional) Number of instances
#   Defaults to 10
#
# [*quota_cores*]
#   (optional) Number of cores
#   Defaults to 20
#
# [*quota_ram*]
#   (optional) Ram in MB
#   Defaults to 51200
#
# [*quota_volumes*]
#   (optional) Deprecated. This parameter does nothing and will be removed.
#   Defaults to undef
#
# [*quota_gigabytes*]
#   (optional) Deprecated. This parameter does nothing and will be removed.
#   Defaults to undef
#
# [*quota_floating_ips*]
#   (optional) Number of floating IPs
#   Defaults to 10
#
# [*quota_fixed_ips*]
#   (optional) Number of fixed IPs (this should be at least the number of instances alloww[33;1Hed)
#   Defaults to -1
#
# [*quota_metadata_items*]
#   (optional) Number of metadata items per instance
#   Defaults to 128
#
# [*quota_max_injected_files*]
#   (optional) Deprecated. Use quota_injected_files instead
#   Defaults to undef
#
# [*quota_max_injected_file_content_bytes*]
#   (optional) Deprecated. Use quota_injected_file_content_bytes instead
#   Defaults to undef
#
# [*quota_max_injected_file_path_bytes*]
#   (optional) Deprecated. Use quota_injected_file_path_bytes instead[m
[1m[7m<stack/scenarios/liberty_elastica/puppet/modules-openstack/nova/manifests/quota.pp1,1 Top[1;1H[?12l[?25h[?25l[m[51;79H~@k[1;1H[51;79H   [2;1H[50;83H[1m[7m2,[2;1H[?12l[?25h[?25l[m[51;79H~@k[2;1H[51;79H   [3;1H[50;83H[1m[7m3,[3;1H[?12l[?25h[?25l[m[51;79H~@k[3;1H[51;79H   [4;1H[50;83H[1m[7m4,[4;1H[?12l[?25h[?25l[m[51;79H~@k[4;1H[51;79H   [5;1H[50;83H[1m[7m5,[5;1H[?12l[?25h[?25l[m[51;79H~@k[5;1H[51;79H   [6;1H[50;83H[1m[7m6,[6;1H[?12l[?25h[?25l[m[51;79H~@k[6;1H[51;79H   [7;1H[50;83H[1m[7m7,[7;1H[?12l[?25h[?25l[m[51;79H~@k[7;1H[51;79H   [8;1H[50;83H[1m[7m8,[8;1H[?12l[?25h[?25l[m[51;79H~@k[8;1H[51;79H   [9;1H[50;83H[1m[7m9,[9;1H[?12l[?25h[?25l[m[51;79H~@k[9;1H[51;79H   [1;1H[27m[23m[m[H[2J[1;1H[96m# [*quota_max_injected_file_path_bytes*]
#   (optional) Deprecated. Use quota_injected_file_path_bytes instead
#   Defaults to undef
#
# [*quota_injected_files*]
#   (optional) Number of files that can be injected per instance
#   Defaults to 5
#
# [*quota_injected_file_content_bytes*]
#   (optional) Maximum size in bytes of injected files
#   Defaults to 10240
#
# [*quota_injected_file_path_bytes*]
#   (optional) Deprecated. Use quota_injected_file_path_length instead
#   Defaults to undef
#
# [*quota_injected_file_path_length*]
#   (optional) Maximum size in bytes of injected file path
#   Defaults to 255
#
# [*quota_security_groups*]
#   (optional) Number of security groups
#   Defaults to 10
#
# [*quota_security_group_rules*]
#   (optional) Number of security group rules
#   Defaults to 20
#
# [*quota_key_pairs*]
#   (optional) Number of key pairs
#   Defaults to 100
#
# [*reservation_expire*]
#   (optional) Time until reservations expire in seconds
#   Defaults to 86400
#
# [*until_refresh*]
#   (optional) Count of reservations until usage is refreshed
#   Defaults to 0
#
# [*max_age*]
#   (optional) Number of seconds between subsequent usage refreshes
#   Defaults to 0
#
# [*quota_driver*]
#   (optional) Driver to use for quota checks
#   Defaults to 'nova.quota.DbQuotaDriver'
#[m
class nova::quota(
[1m[7m<tack/scenarios/liberty_elastica/puppet/modules-openstack/nova/manifests/quota.pp47,1 37%[1;1H[?12l[?25h[?25l[m[51;79H~@k[1;1H[51;79H   [1;1H[27m[23m[m[H[2J[1;1H[96m#[m
class nova::quota(
  $quota_instances = 10,
  $quota_cores = 20,
  $quota_ram = 51200,
  $quota_floating_ips = 10,
  $quota_fixed_ips = -1,
  $quota_metadata_items = 128,
  $quota_injected_files = 5,
  $quota_injected_file_content_bytes = 10240,
  $quota_injected_file_path_length = 255,
  $quota_security_groups = 10,
  $quota_security_group_rules = 20,
  $quota_key_pairs = 100,
  $reservation_expire = 86400,
  $until_refresh = 0,
  $max_age = 0,
  $quota_driver = [95m'nova.quota.DbQuotaDriver'[m,
  [96m# DEPRECATED PARAMETERS[m
  $quota_volumes = undef,
  $quota_gigabytes = undef,
  $quota_max_injected_files = undef,
  $quota_injected_file_path_bytes = undef,
  $quota_max_injected_file_content_bytes = undef,
  $quota_max_injected_file_path_bytes = undef
) {

  if $quota_volumes {
    warning([95m'The quota_volumes parameter is deprecated and has no effect.'[m)
  }

  if $quota_gigabytes {
    warning([95m'The quota_gigabytes parameter is deprecated and has no effect.'[m)
  }

  if $quota_max_injected_files {
    warning([95m'The quota_max_injected_files parameter is deprecated, use quota_injected_fill[38;1Hes instead.'[m)
    $quota_injected_files_real = $quota_max_injected_files
  } else {
    $quota_injected_files_real = $quota_injected_files
  }

  if $quota_max_injected_file_content_bytes {
    warning([95m'The quota_max_injected_file_content_bytes is deprecated, use quota_injected__[46;1Hfile_content_bytes instead.'[m)
    $quota_injected_file_content_bytes_real = $quota_max_injected_file_content_bytes
  } else {
    $quota_injected_file_content_bytes_real = $quota_injected_file_content_bytes
[1m[7m<tack/scenarios/liberty_elastica/puppet/modules-openstack/nova/manifests/quota.pp94,1 73%[1;1H[?12l[?25h[?25l[m[51;79H~@k[1;1H[51;79H   [2;1H[50;83H[1m[7m5,[2;1H[?12l[?25h[?25l[m[51;79H~@k[2;1H[51;79H   [3;1H[50;83H[1m[7m6,[3;1H[?12l[?25h[?25l[m[51;79H~@k[3;1H[51;79H   [4;1H[50;83H[1m[7m7,[4;1H[?12l[?25h[?25l[m[51;79H~@k[4;1H[51;79H   [5;1H[50;83H[1m[7m8,[5;1H[?12l[?25h[?25l[m[51;79H~@k[5;1H[51;79H   [6;1H[50;83H[1m[7m9,[6;1H[?12l[?25h[?25l[m[51;79H~@k[6;1H[51;79H   [7;1H[50;2H[1m[7mack/scenarios/liberty_elastica/puppet/modules-openstack/nova/manifests/quota.pp100,[7;1H[?12l[?25h[?25l[m[51;79H~@k[7;1H[51;79H   [8;1H[50;83H[1m[7m1,[8;1H[?12l[?25h[?25l[m[51;79H~@k[8;1H[51;79H   [9;1H[50;83H[1m[7m2,[9;1H[?12l[?25h[?25l[m[51;79H~@k[9;1H[51;79H   [10;1H[50;83H[1m[7m3,[10;1H[?12l[?25h[?25l[m[51;79H~@k[10;1H[51;79H   [11;1H[50;83H[1m[7m4,[11;1H[?12l[?25h[?25l[m[51;79H~@k[11;1H[51;79H   [12;1H[50;83H[1m[7m5,[12;1H[?12l[?25h[?25l[m[51;79H~@k[12;1H[51;79H   [13;1H[50;83H[1m[7m6,[13;1H[?12l[?25h[?25l[m[51;79H~@k[13;1H[51;79H   [14;1H[50;83H[1m[7m7,[14;1H[?12l[?25h[?25l[m[51;79H~@k[14;1H[51;79H   [15;1H[50;83H[1m[7m8,[15;1H[?12l[?25h[?25l[m[51;79H~@k[15;1H[51;79H   [16;1H[50;83H[1m[7m9,[16;1H[?12l[?25h[?25l[m[51;79H~@k[16;1H[51;79H   [17;1H[50;82H[1m[7m10,[17;1H[?12l[?25h[?25l[m[51;79H~@k[17;1H[51;79H   [18;1H[50;83H[1m[7m1,[18;1H[?12l[?25h[?25l[m[51;79H~@k[18;1H[51;79H   [19;1H[50;83H[1m[7m2,[19;1H[?12l[?25h[?25l[m[51;79H~@k[19;1H[51;79H   [20;1H[50;83H[1m[7m3,[20;1H[?12l[?25h[?25l[m[51;79H~@k[20;1H[51;79H   [21;1H[50;83H[1m[7m4,[21;1H[?12l[?25h[?25l[m[51;79H~@k[21;1H[51;79H   [22;1H[50;83H[1m[7m5,[22;1H[?12l[?25h[?25l[m[51;79H~@k[22;1H[51;79H   [23;1H[50;83H[1m[7m6,[23;1H[?12l[?25h[?25l[m[51;79H~@k[23;1H[51;79H   [24;1H[50;83H[1m[7m7,[24;1H[?12l[?25h[?25l[m[51;79H~@k[24;1H[51;79H   [25;1H[50;83H[1m[7m8,[25;1H[?12l[?25h[?25l[m[51;79H~@k[25;1H[51;79H   [26;1H[2;18H[46m([26;1H)[m[50;83H[1m[7m9,[26;1H[?12l[?25h[?25l[m[51;79H~@k[26;1H[51;79H   [27;1H[2;18H([26;1H)[50;82H[1m[7m20,0 [27;1H[?12l[?25h[?25l[m[51;79H~@k[27;1H[51;79H   [28;1H[50;83H[1m[7m1,1 [28;1H[?12l[?25h[?25l[m[51;79H~@k[28;1H[51;79H   [27;1H[50;83H[1m[7m0,0 [27;1H[?12l[?25h[?25l[m[51;79H~@k[27;1H[51;79H   [26;1H[2;18H[46m([26;1H)[m[50;82H[1m[7m19,1 [26;1H[?12l[?25h[?25l[m[51;79H~@k[26;1H[51;79H   [25;1H[2;18H([26;1H)[50;83H[1m[7m8,[25;1H[?12l[?25h[?25l[m[51;79H~@k[25;1H[51;79H   [24;1H[50;83H[1m[7m7,[24;1H[?12l[?25h[?25l[m[51;79H~@k[24;1H[51;79H   [23;1H[50;83H[1m[7m6,[23;1H[?12l[?25h[?25l[m[51;79H~@k[23;1H[51;79H   [22;1H[50;83H[1m[7m5,[22;1H[?12l[?25h[?25l[m[51;79H~@k[22;1H[51;79H   [21;1H[50;83H[1m[7m4,[21;1H[?12l[?25h[?25l[m[51;79H~@k[21;1H[51;79H   [20;1H[50;83H[1m[7m3,[20;1H[?12l[?25h[?25l[m[51;79H~@k[20;1H[51;79H   [19;1H[50;83H[1m[7m2,[19;1H[?12l[?25h[?25l[m[51;79H~@k[19;1H[51;79H   [18;1H[50;83H[1m[7m1,[18;1H[?12l[?25h[?25l[m[51;79H~@k[18;1H[51;79H   [17;1H[50;83H[1m[7m0,[17;1H[?12l[?25h[?25l[m[51;79H~@k[17;1H[51;79H   [16;1H[50;82H[1m[7m09,[16;1H[?12l[?25h[?25l[m[51;79H~@k[16;1H[51;79H   [15;1H[50;83H[1m[7m8,[15;1H[?12l[?25h[?25l[m[51;79H~@k[15;1H[51;79H   [14;1H[50;83H[1m[7m7,[14;1H[?12l[?25h[?25l[m[51;79H~@k[14;1H[51;79H   [13;1H[50;83H[1m[7m6,[13;1H[?12l[?25h[?25l[m[51;79H~@k[13;1H[51;79H   [12;1H[50;83H[1m[7m5,[12;1H[?12l[?25h[?25l[m[51;79H~@k[12;1H[51;79H   [13;1H[50;83H[1m[7m6,[13;1H[?12l[?25h[?25l[m[51;79H~@k[13;1H[51;79H   [14;1H[50;83H[1m[7m7,[14;1H[?12l[?25h[?25l[m[51;79H~@k[14;1H[51;79H   [15;1H[50;83H[1m[7m8,[15;1H[?12l[?25h[?25l[m[51;79H~@k[15;1H[51;79H   [16;1H[50;83H[1m[7m9,[16;1H[?12l[?25h[?25l[m[51;79H~@k[16;1H[51;79H   [17;1H[50;82H[1m[7m10,[17;1H[?12l[?25h[?25l[m[51;79H~@k[17;1H[51;79H   [18;1H[50;83H[1m[7m1,[18;1H[?12l[?25h[?25l[m[51;79H~@k[18;1H[51;79H   [19;1H[50;83H[1m[7m2,[19;1H[?12l[?25h[?25l[m[51;79H~@k[19;1H[51;79H   [20;1H[50;83H[1m[7m3,[20;1H[?12l[?25h[?25l[m[51;79H~@k[20;1H[51;79H   [21;1H[50;83H[1m[7m4,[21;1H[?12l[?25h[?25l[m[51;79H~@k[21;1H[51;79H   [22;1H[50;83H[1m[7m5,[22;1H[?12l[?25h[?25l[m[51;79H~@k[22;1H[51;79H   [23;1H[50;83H[1m[7m6,[23;1H[?12l[?25h[?25l[m[51;79H~@k[23;1H[51;79H   [24;1H[50;83H[1m[7m7,[24;1H[?12l[?25h[?25l[m[51;79H~@k[24;1H[51;79H   [25;1H[50;83H[1m[7m8,[25;1H[?12l[?25h[?25l[m[51;79H~@k[25;1H[51;79H   [26;1H[2;18H[46m([26;1H)[m[50;83H[1m[7m9,[26;1H[?12l[?25h[?25l[m[51;79H~@k[26;1H[51;79H   [27;1H[2;18H([26;1H)[50;82H[1m[7m20,0 [27;1H[?12l[?25h[?25l[m[51;79H~@k[27;1H[51;79H   [28;1H[50;83H[1m[7m1,1 [28;1H[?12l[?25h[?25l[m[51;79H~@k[28;1H[51;79H   [29;1H[50;83H[1m[7m2,[29;1H[?12l[?25h[?25l[m[51;79H~@k[29;1H[51;79H   [30;1H[50;83H[1m[7m3,[30;1H[?12l[?25h[?25l[m[51;79H~@k[30;1H[51;79H   [31;1H[50;83H[1m[7m4,0 [31;1H[?12l[?25h[?25l[m[51;79H~@k[31;1H[51;79H   [32;1H[50;83H[1m[7m5,1 [32;1H[?12l[?25h[?25l[m[51;79H~@k[32;1H[51;79H   [33;1H[50;83H[1m[7m6,[33;1H[?12l[?25h[?25l[m[51;79H~@k[33;1H[51;79H   [34;1H[50;83H[1m[7m7,[34;1H[?12l[?25h[?25l[m[51;79H~@k[34;1H[51;79H   [35;1H[50;83H[1m[7m8,0 [35;1H[?12l[?25h[?25l[m[51;79H~@k[35;1H[51;79H   [36;1H[50;83H[1m[7m9,1 [36;1H[?12l[?25h[?25l[m[51;79H~@k[36;1H[51;79H   [37;1H[50;82H[1m[7m30,[37;1H[?12l[?25h[?25l[m[51;79H~@k[37;1H[51;79H   [36;1H[50;82H[1m[7m29,[36;1H[?12l[?25h[?25l[m[51;79H~@k[36;1H[51;79H   [35;1H[50;83H[1m[7m8,0 [35;1H[?12l[?25h[?25l[m[51;79H~@k[35;1H[51;79H   [34;1H[50;83H[1m[7m7,1 [34;1H[?12l[?25h[?25l[m[51;79H~@k[34;1H[51;79H   [35;1H[50;83H[1m[7m8,0 [35;1H[?12l[?25h[?25l[m[51;79H~@k[35;1H[51;79H   [36;1H[50;83H[1m[7m9,1 [36;1H[?12l[?25h[?25l[m[51;79H~@k[36;1H[51;79H   [37;1H[50;82H[1m[7m30,[37;1H[?12l[?25h[?25l[m[51;79H~@k[37;1H[51;79H   [39;1H[50;83H[1m[7m1,[39;1H[?12l[?25h[?25l[m[51;79H~@k[39;1H[51;79H   [40;1H[50;83H[1m[7m2,[40;1H[?12l[?25h[?25l[m[51;79H~@k[40;1H[51;79H   [41;1H[50;83H[1m[7m3,[41;1H[?12l[?25h[?25l[m[51;79H~@k[41;1H[51;79H   [42;1H[50;83H[1m[7m4,[42;1H[?12l[?25h[?25l[m[51;79H~@k[42;1H[51;79H   [43;1H[50;83H[1m[7m5,0 [43;1H[?12l[?25h[?25l[m[51;79H~@k[43;1H[51;79H   [44;1H[50;83H[1m[7m6,1 [44;1H[?12l[?25h[?25l[m[51;79H~@k[44;1H[51;79H   [45;1H[50;83H[1m[7m7,[45;1H[?12l[?25h[?25l[m[51;79H~@k[45;1H[51;79H   [47;1H[50;83H[1m[7m8,[47;1H[?12l[?25h[?25l[m[51;79H~@k[47;1H[51;79H   [48;1H[50;83H[1m[7m9,[48;1H[?12l[?25h[?25l[m[51;79H~@k[48;1H[51;79H   [49;1H[50;82H[1m[7m40,[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;3H}[50;83H[1m[7m1,1 74%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[50;83H[1m[7m2,0 75%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;3Hif $quota_max_injected_file_path_bytes {[50;83H[1m[7m3,1 76%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [48;1H[1;49r[1;1H[2M[1;51r[48;5Hfail([95m'The quota_max_injected_file_path_bytes parameter is deprecated, use quota_injecc[49;1Hted_file_path_length instead.'[m)[50;83H[1m[7m4,1 77%[48;1H[?12l[?25h[?25l[m[51;79H~@k[48;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;3H}[50;83H[1m[7m5,[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[50;83H[1m[7m6,0 78%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;3Hif $quota_injected_file_path_bytes {[50;83H[1m[7m7,1 79%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [48;1H[1;49r[1;1H[2M[1;51r[48;5Hwarning([95m'The quota_injected_file_path_bytes parameter is deprecated, use quota_injectt[49;1Hed_file_path_length instead.'[m)[50;83H[1m[7m8,1 80%[48;1H[?12l[?25h[?25l[m[51;79H~@k[48;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;5H$quota_injected_file_path_length_real = $quota_injected_file_path_bytes[50;83H[1m[7m9,1 81%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;3H} else {[50;82H[1m[7m50,1 82%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;5H$quota_injected_file_path_length_real = $quota_injected_file_path_length[50;83H[1m[7m1,[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;3H}[50;83H[1m[7m2,1 83%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[50;83H[1m[7m3,0 84%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;3Hnova_config {[50;83H[1m[7m4,1 85%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;5H[95m'DEFAULT/quota_instances'[m:[19Cvalue => $quota_instances;[50;83H[1m[7m5,[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;79H   [49;1H[1;49r[49;1H
[1;51r[49;5H[95m'DEFAULT/quota_cores'[m:[23Cvalue => $quota_cores;[50;83H[1m[7m6,1 86%[49;1H[?12l[?25h[?25l[m[51;79H~@k[49;1H[51;